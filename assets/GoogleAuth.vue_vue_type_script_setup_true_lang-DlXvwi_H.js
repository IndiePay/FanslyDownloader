import{ae as w,aa as B}from"./index-C0avKrge.js";import{C as k,a0 as C,F as d,H as l,I as p,J as f,L as b,ac as _,aj as V,K as g,a3 as $,a6 as I,ad as A,aC as G,ao as R}from"./common-BIwoD4Gb.js";import{_ as F}from"./Button-D14Q4G7_.js";const E={class:"relative"},L={key:0,class:"flex border-r border-gray-200"},S=["type","autofocus","placeholder"],q={key:1,class:"flex"},x=k({__name:"InputItem",props:{modelValue:{},type:{},disabled:{type:Boolean},icon:{},autofocus:{type:Boolean},required:{type:Boolean},placeholder:{}},emits:["change","update:modelValue"],setup(y,{expose:m,emit:c}){const r=c,i=y,s=C({get:()=>i.modelValue,set:e=>r("update:modelValue",e)}),a=d(null),t=d(null),n=d(i.type),h=()=>{var e;i.required&&!s.value&&((e=a.value)==null||e.classList.add("error"))};return m({focus:()=>{var e;(e=t.value)==null||e.focus()},blur:()=>{var e;(e=t.value)==null||e.blur()}}),(e,o)=>(l(),p("div",E,[f("div",{ref_key:"inputIWrapRef",ref:a,class:"input-item"},[e.icon?(l(),p("div",L,[f("i",{class:b(e.icon)},null,2)])):_("",!0),V(f("input",{ref_key:"inputRef",ref:t,"onUpdate:modelValue":o[0]||(o[0]=u=>$(s)?s.value=u:null),type:e.type,autofocus:e.autofocus,placeholder:e.placeholder,onFocusin:o[1]||(o[1]=u=>{var v;return(v=g(a))==null?void 0:v.classList.remove("error")}),onBlur:h,onChange:o[2]||(o[2]=u=>e.$emit("change"))},null,40,S),[[w,g(s)]]),e.type=="password"?(l(),p("div",q,[e.type=="password"?(l(),p("i",{key:0,class:"i-ant-design:eye-twotone !bg-transparent text-gray-500",onClick:o[3]||(o[3]=u=>n.value="text")})):(l(),p("i",{key:1,class:"i-ant-design:eye-invisible-twotone !bg-transparent text-gray-500",onClick:o[4]||(o[4]=u=>n.value="password")}))])):_("",!0)],512),I(e.$slots,"default",{},void 0,!0)]))}}),U=B(x,[["__scopeId","data-v-271ddcd1"]]),W=k({__name:"GoogleAuth",emits:["success","error"],setup(y,{emit:m}){const c=m,r=d(!1),i=async()=>(r.value=!0,new Promise((s,a)=>{chrome.identity.getAuthToken({interactive:!0},t=>{console.log("token: "+t),t?G({token:t}).then(n=>{console.log(n),R(n),s(n),c("success",n)}):(c("error",new Error("Google Auth Failed")),a(new Error("Google Auth Failed"))),r.value=!1})}));return(s,a)=>{const t=F;return l(),A(t,{loading:g(r),type:"primary",icon:"i-flat-color-icons:google",text:"Sign in with Google",onClick:i},null,8,["loading"])}}});export{U as _,W as a};
