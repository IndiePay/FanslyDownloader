var eu=Object.defineProperty;var ru=(t,e,r)=>e in t?eu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ut=(t,e,r)=>ru(t,typeof e!="symbol"?e+"":e,r);import{aM as mo,e as gt,d as vr,a1 as go,aN as ra,aO as nu,aP as iu,aQ as au,b as ne,g as Kn,_ as be,u as kr,aR as yo,G as br,aS as vo,f as bo,aT as ou,aU as na,aV as su,w as di,F as ia,T as uu,v as lu,A as cu,U as fu,a7 as pi}from"./index-C0avKrge.js";import{a0 as dt,i as Jr,Y as Ot,W as Sn,V as du,K as J,a4 as pu,F as _t,a1 as Lr,am as hu,a5 as Cr,C as xt,a6 as ue,a2 as xe,H as jt,I as dn,L as Eo,af as mu,$ as Jn,aj as wo,aH as gu,m as yu,M as vu,ag as bu,aI as Eu,R as Or,ad as Oe,S as oe,a7 as hi,ac as pn,b as wu,a8 as gr,aJ as Au,X as Du,aK as Su,O as _u,aL as Re,aM as nr,aN as Tu,y as Cu}from"./common-BIwoD4Gb.js";import{c as Ct,g as mi,a as Ou}from"./_commonjsHelpers-BosuxZz1.js";const ae=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const a=t==null?void 0:t(i);if(r===!1||!a)return e==null?void 0:e(i)};function Iu(t){return t===void 0}const xu=mo({type:gt(Boolean),default:null}),Ru=mo({type:gt(Function)}),Nu=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:xu,[r]:Ru};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:u,shouldProceed:c,onShow:d,onHide:h})=>{const f=du(),{emit:p}=f,m=f.props,l=dt(()=>Jr(m[r])),y=dt(()=>m[t]===null),g=_=>{o.value!==!0&&(o.value=!0,s&&(s.value=_),Jr(d)&&d(_))},v=_=>{o.value!==!1&&(o.value=!1,s&&(s.value=_),Jr(h)&&h(_))},b=_=>{if(m.disabled===!0||Jr(c)&&!c())return;const R=l.value&&vr;R&&p(e,!0),(y.value||!R)&&g(_)},A=_=>{if(m.disabled===!0||!vr)return;const R=l.value&&vr;R&&p(e,!1),(y.value||!R)&&v(_)},S=_=>{go(_)&&(m.disabled&&_?l.value&&p(e,!1):o.value!==_&&(_?g():v()))},T=()=>{o.value?A():b()};return Ot(()=>m[t],S),u&&f.appContext.config.globalProperties.$route!==void 0&&Ot(()=>({...f.proxy.$route}),()=>{u.value&&o.value&&A()}),Sn(()=>{S(m[t])}),{hide:A,show:b,toggle:T,hasUpdateHandler:l}},useModelToggleProps:i,useModelToggleEmits:n}};var Bt="top",qt="bottom",Gt="right",Ft="left",gi="auto",Ur=[Bt,qt,Gt,Ft],je="start",Ir="end",Pu="clippingParents",Ao="viewport",lr="popper",Bu="reference",aa=Ur.reduce(function(t,e){return t.concat([e+"-"+je,e+"-"+Ir])},[]),yi=[].concat(Ur,[gi]).reduce(function(t,e){return t.concat([e,e+"-"+je,e+"-"+Ir])},[]),Fu="beforeRead",ku="read",Lu="afterRead",Uu="beforeMain",Mu="main",zu="afterMain",$u="beforeWrite",qu="write",Gu="afterWrite",Hu=[Fu,ku,Lu,Uu,Mu,zu,$u,qu,Gu];function ee(t){return t?(t.nodeName||"").toLowerCase():null}function Wt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ve(t){var e=Wt(t).Element;return t instanceof e||t instanceof Element}function $t(t){var e=Wt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vi(t){if(typeof ShadowRoot>"u")return!1;var e=Wt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ju(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!$t(a)||!ee(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function Vu(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(u,c){return u[c]="",u},{});!$t(i)||!ee(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}var Do={name:"applyStyles",enabled:!0,phase:"write",fn:ju,effect:Vu,requires:["computeStyles"]};function Jt(t){return t.split("-")[0]}var _e=Math.max,hn=Math.min,We=Math.round;function Xe(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if($t(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(n=We(r.width)/o||1),a>0&&(i=We(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function bi(t){var e=Xe(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function So(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&vi(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function le(t){return Wt(t).getComputedStyle(t)}function Wu(t){return["table","td","th"].indexOf(ee(t))>=0}function Ee(t){return((Ve(t)?t.ownerDocument:t.document)||window.document).documentElement}function _n(t){return ee(t)==="html"?t:t.assignedSlot||t.parentNode||(vi(t)?t.host:null)||Ee(t)}function oa(t){return!$t(t)||le(t).position==="fixed"?null:t.offsetParent}function Xu(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&$t(t)){var n=le(t);if(n.position==="fixed")return null}var i=_n(t);for(vi(i)&&(i=i.host);$t(i)&&["html","body"].indexOf(ee(i))<0;){var a=le(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Mr(t){for(var e=Wt(t),r=oa(t);r&&Wu(r)&&le(r).position==="static";)r=oa(r);return r&&(ee(r)==="html"||ee(r)==="body"&&le(r).position==="static")?e:r||Xu(t)||e}function Ei(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Er(t,e,r){return _e(t,hn(e,r))}function Yu(t,e,r){var n=Er(t,e,r);return n>r?r:n}function _o(){return{top:0,right:0,bottom:0,left:0}}function To(t){return Object.assign({},_o(),t)}function Co(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Zu=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,To(typeof t!="number"?t:Co(t,Ur))};function Ku(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Jt(r.placement),u=Ei(s),c=[Ft,Gt].indexOf(s)>=0,d=c?"height":"width";if(!(!a||!o)){var h=Zu(i.padding,r),f=bi(a),p=u==="y"?Bt:Ft,m=u==="y"?qt:Gt,l=r.rects.reference[d]+r.rects.reference[u]-o[u]-r.rects.popper[d],y=o[u]-r.rects.reference[u],g=Mr(a),v=g?u==="y"?g.clientHeight||0:g.clientWidth||0:0,b=l/2-y/2,A=h[p],S=v-f[d]-h[m],T=v/2-f[d]/2+b,_=Er(A,T,S),R=u;r.modifiersData[n]=(e={},e[R]=_,e.centerOffset=_-T,e)}}function Ju(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!So(e.elements.popper,i)||(e.elements.arrow=i))}var Qu={name:"arrow",enabled:!0,phase:"main",fn:Ku,effect:Ju,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ye(t){return t.split("-")[1]}var tl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function el(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:We(e*i)/i||0,y:We(r*i)/i||0}}function sa(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,u=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,l=m===void 0?0:m,y=typeof d=="function"?d({x:p,y:l}):{x:p,y:l};p=y.x,l=y.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),b=Ft,A=Bt,S=window;if(c){var T=Mr(r),_="clientHeight",R="clientWidth";if(T===Wt(r)&&(T=Ee(r),le(T).position!=="static"&&s==="absolute"&&(_="scrollHeight",R="scrollWidth")),T=T,i===Bt||(i===Ft||i===Gt)&&a===Ir){A=qt;var C=h&&T===S&&S.visualViewport?S.visualViewport.height:T[_];l-=C-n.height,l*=u?1:-1}if(i===Ft||(i===Bt||i===qt)&&a===Ir){b=Gt;var I=h&&T===S&&S.visualViewport?S.visualViewport.width:T[R];p-=I-n.width,p*=u?1:-1}}var z=Object.assign({position:s},c&&tl),D=d===!0?el({x:p,y:l}):{x:p,y:l};if(p=D.x,l=D.y,u){var N;return Object.assign({},z,(N={},N[A]=v?"0":"",N[b]=g?"0":"",N.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+l+"px)":"translate3d("+p+"px, "+l+"px, 0)",N))}return Object.assign({},z,(e={},e[A]=v?l+"px":"",e[b]=g?p+"px":"",e.transform="",e))}function rl(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,u=s===void 0?!0:s,c={placement:Jt(e.placement),variation:Ye(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,sa(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,sa(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Oo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rl,data:{}},Qr={passive:!0};function nl(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,u=Wt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(d){d.addEventListener("scroll",r.update,Qr)}),s&&u.addEventListener("resize",r.update,Qr),function(){a&&c.forEach(function(d){d.removeEventListener("scroll",r.update,Qr)}),s&&u.removeEventListener("resize",r.update,Qr)}}var Io={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nl,data:{}},il={left:"right",right:"left",bottom:"top",top:"bottom"};function ln(t){return t.replace(/left|right|bottom|top/g,function(e){return il[e]})}var al={start:"end",end:"start"};function ua(t){return t.replace(/start|end/g,function(e){return al[e]})}function wi(t){var e=Wt(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ai(t){return Xe(Ee(t)).left+wi(t).scrollLeft}function ol(t){var e=Wt(t),r=Ee(t),n=e.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+Ai(t),y:s}}function sl(t){var e,r=Ee(t),n=wi(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=_e(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=_e(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Ai(t),u=-n.scrollTop;return le(i||r).direction==="rtl"&&(s+=_e(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}function Di(t){var e=le(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function xo(t){return["html","body","#document"].indexOf(ee(t))>=0?t.ownerDocument.body:$t(t)&&Di(t)?t:xo(_n(t))}function wr(t,e){var r;e===void 0&&(e=[]);var n=xo(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Wt(n),o=i?[a].concat(a.visualViewport||[],Di(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(wr(_n(o)))}function Qn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ul(t){var e=Xe(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function la(t,e){return e===Ao?Qn(ol(t)):Ve(e)?ul(e):Qn(sl(Ee(t)))}function ll(t){var e=wr(_n(t)),r=["absolute","fixed"].indexOf(le(t).position)>=0,n=r&&$t(t)?Mr(t):t;return Ve(n)?e.filter(function(i){return Ve(i)&&So(i,n)&&ee(i)!=="body"}):[]}function cl(t,e,r){var n=e==="clippingParents"?ll(t):[].concat(e),i=[].concat(n,[r]),a=i[0],o=i.reduce(function(s,u){var c=la(t,u);return s.top=_e(c.top,s.top),s.right=hn(c.right,s.right),s.bottom=hn(c.bottom,s.bottom),s.left=_e(c.left,s.left),s},la(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Ro(t){var e=t.reference,r=t.element,n=t.placement,i=n?Jt(n):null,a=n?Ye(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,u;switch(i){case Bt:u={x:o,y:e.y-r.height};break;case qt:u={x:o,y:e.y+e.height};break;case Gt:u={x:e.x+e.width,y:s};break;case Ft:u={x:e.x-r.width,y:s};break;default:u={x:e.x,y:e.y}}var c=i?Ei(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(a){case je:u[c]=u[c]-(e[d]/2-r[d]/2);break;case Ir:u[c]=u[c]+(e[d]/2-r[d]/2);break}}return u}function xr(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.boundary,o=a===void 0?Pu:a,s=r.rootBoundary,u=s===void 0?Ao:s,c=r.elementContext,d=c===void 0?lr:c,h=r.altBoundary,f=h===void 0?!1:h,p=r.padding,m=p===void 0?0:p,l=To(typeof m!="number"?m:Co(m,Ur)),y=d===lr?Bu:lr,g=t.rects.popper,v=t.elements[f?y:d],b=cl(Ve(v)?v:v.contextElement||Ee(t.elements.popper),o,u),A=Xe(t.elements.reference),S=Ro({reference:A,element:g,strategy:"absolute",placement:i}),T=Qn(Object.assign({},g,S)),_=d===lr?T:A,R={top:b.top-_.top+l.top,bottom:_.bottom-b.bottom+l.bottom,left:b.left-_.left+l.left,right:_.right-b.right+l.right},C=t.modifiersData.offset;if(d===lr&&C){var I=C[i];Object.keys(R).forEach(function(z){var D=[Gt,qt].indexOf(z)>=0?1:-1,N=[Bt,qt].indexOf(z)>=0?"y":"x";R[z]+=I[N]*D})}return R}function fl(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,c=u===void 0?yi:u,d=Ye(n),h=d?s?aa:aa.filter(function(m){return Ye(m)===d}):Ur,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,l){return m[l]=xr(t,{placement:l,boundary:i,rootBoundary:a,padding:o})[Jt(l)],m},{});return Object.keys(p).sort(function(m,l){return p[m]-p[l]})}function dl(t){if(Jt(t)===gi)return[];var e=ln(t);return[ua(t),e,ua(e)]}function pl(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,c=r.padding,d=r.boundary,h=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,l=r.allowedAutoPlacements,y=e.options.placement,g=Jt(y),v=g===y,b=u||(v||!m?[ln(y)]:dl(y)),A=[y].concat(b).reduce(function(Y,P){return Y.concat(Jt(P)===gi?fl(e,{placement:P,boundary:d,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:l}):P)},[]),S=e.rects.reference,T=e.rects.popper,_=new Map,R=!0,C=A[0],I=0;I<A.length;I++){var z=A[I],D=Jt(z),N=Ye(z)===je,E=[Bt,qt].indexOf(D)>=0,B=E?"width":"height",F=xr(e,{placement:z,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),L=E?N?Gt:Ft:N?qt:Bt;S[B]>T[B]&&(L=ln(L));var K=ln(L),G=[];if(a&&G.push(F[D]<=0),s&&G.push(F[L]<=0,F[K]<=0),G.every(function(Y){return Y})){C=z,R=!1;break}_.set(z,G)}if(R)for(var Q=m?3:1,M=function(Y){var P=A.find(function(tt){var et=_.get(tt);if(et)return et.slice(0,Y).every(function(W){return W})});if(P)return C=P,"break"},k=Q;k>0;k--){var at=M(k);if(at==="break")break}e.placement!==C&&(e.modifiersData[n]._skip=!0,e.placement=C,e.reset=!0)}}var hl={name:"flip",enabled:!0,phase:"main",fn:pl,requiresIfExists:["offset"],data:{_skip:!1}};function ca(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function fa(t){return[Bt,Gt,qt,Ft].some(function(e){return t[e]>=0})}function ml(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=xr(e,{elementContext:"reference"}),s=xr(e,{altBoundary:!0}),u=ca(o,n),c=ca(s,i,a),d=fa(u),h=fa(c);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}var gl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ml};function yl(t,e,r){var n=Jt(t),i=[Ft,Bt].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ft,Gt].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function vl(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=yi.reduce(function(d,h){return d[h]=yl(h,e.rects,a),d},{}),s=o[e.placement],u=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}var bl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vl};function El(t){var e=t.state,r=t.name;e.modifiersData[r]=Ro({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var No={name:"popperOffsets",enabled:!0,phase:"read",fn:El,data:{}};function wl(t){return t==="x"?"y":"x"}function Al(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,c=r.rootBoundary,d=r.altBoundary,h=r.padding,f=r.tether,p=f===void 0?!0:f,m=r.tetherOffset,l=m===void 0?0:m,y=xr(e,{boundary:u,rootBoundary:c,padding:h,altBoundary:d}),g=Jt(e.placement),v=Ye(e.placement),b=!v,A=Ei(g),S=wl(A),T=e.modifiersData.popperOffsets,_=e.rects.reference,R=e.rects.popper,C=typeof l=="function"?l(Object.assign({},e.rects,{placement:e.placement})):l,I=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(T){if(a){var N,E=A==="y"?Bt:Ft,B=A==="y"?qt:Gt,F=A==="y"?"height":"width",L=T[A],K=L+y[E],G=L-y[B],Q=p?-R[F]/2:0,M=v===je?_[F]:R[F],k=v===je?-R[F]:-_[F],at=e.elements.arrow,Y=p&&at?bi(at):{width:0,height:0},P=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_o(),tt=P[E],et=P[B],W=Er(0,_[F],Y[F]),rt=b?_[F]/2-Q-W-tt-I.mainAxis:M-W-tt-I.mainAxis,ot=b?-_[F]/2+Q+W+et+I.mainAxis:k+W+et+I.mainAxis,nt=e.elements.arrow&&Mr(e.elements.arrow),ut=nt?A==="y"?nt.clientTop||0:nt.clientLeft||0:0,ft=(N=z==null?void 0:z[A])!=null?N:0,w=L+rt-ft-ut,H=L+ot-ft,q=Er(p?hn(K,w):K,L,p?_e(G,H):G);T[A]=q,D[A]=q-L}if(s){var x,O=A==="x"?Bt:Ft,U=A==="x"?qt:Gt,j=T[S],V=S==="y"?"height":"width",$=j+y[O],X=j-y[U],it=[Bt,Ft].indexOf(g)!==-1,Z=(x=z==null?void 0:z[S])!=null?x:0,st=it?$:j-_[V]-R[V]-Z+I.altAxis,pt=it?j+_[V]+R[V]-Z-I.altAxis:X,lt=p&&it?Yu(st,j,pt):Er(p?st:$,j,p?pt:X);T[S]=lt,D[S]=lt-j}e.modifiersData[n]=D}}var Dl={name:"preventOverflow",enabled:!0,phase:"main",fn:Al,requiresIfExists:["offset"]};function Sl(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function _l(t){return t===Wt(t)||!$t(t)?wi(t):Sl(t)}function Tl(t){var e=t.getBoundingClientRect(),r=We(e.width)/t.offsetWidth||1,n=We(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Cl(t,e,r){r===void 0&&(r=!1);var n=$t(e),i=$t(e)&&Tl(e),a=Ee(e),o=Xe(t,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((ee(e)!=="body"||Di(a))&&(s=_l(e)),$t(e)?(u=Xe(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=Ai(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Ol(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=e.get(s);u&&i(u)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function Il(t){var e=Ol(t);return Hu.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function xl(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Rl(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var da={placement:"bottom",modifiers:[],strategy:"absolute"};function pa(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Si(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?da:i;return function(o,s,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},da,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(l){var y=typeof l=="function"?l(c.options):l;m(),c.options=Object.assign({},a,c.options,y),c.scrollParents={reference:Ve(o)?wr(o):o.contextElement?wr(o.contextElement):[],popper:wr(s)};var g=Il(Rl([].concat(n,c.options.modifiers)));return c.orderedModifiers=g.filter(function(v){return v.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var l=c.elements,y=l.reference,g=l.popper;if(pa(y,g)){c.rects={reference:Cl(y,Mr(g),c.options.strategy==="fixed"),popper:bi(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var v=0;v<c.orderedModifiers.length;v++){if(c.reset===!0){c.reset=!1,v=-1;continue}var b=c.orderedModifiers[v],A=b.fn,S=b.options,T=S===void 0?{}:S,_=b.name;typeof A=="function"&&(c=A({state:c,options:T,name:_,instance:f})||c)}}}},update:xl(function(){return new Promise(function(l){f.forceUpdate(),l(c)})}),destroy:function(){m(),h=!0}};if(!pa(o,s))return f;f.setOptions(u).then(function(l){!h&&u.onFirstUpdate&&u.onFirstUpdate(l)});function p(){c.orderedModifiers.forEach(function(l){var y=l.name,g=l.options,v=g===void 0?{}:g,b=l.effect;if(typeof b=="function"){var A=b({state:c,name:y,instance:f,options:v}),S=function(){};d.push(A||S)}})}function m(){d.forEach(function(l){return l()}),d=[]}return f}}Si();var Nl=[Io,No,Oo,Do];Si({defaultModifiers:Nl});var Pl=[Io,No,Oo,Do,bl,hl,Dl,Qu,gl],Bl=Si({defaultModifiers:Pl});const Fl=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const c=kl(u);Object.assign(o.value,c)},requires:["computeStyles"]},i=dt(()=>{const{onFirstUpdate:u,placement:c,strategy:d,modifiers:h}=J(r);return{onFirstUpdate:u,placement:c||"bottom",strategy:d||"absolute",modifiers:[...h||[],n,{name:"applyStyles",enabled:!1}]}}),a=pu(),o=_t({styles:{popper:{position:J(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ot(i,u=>{const c=J(a);c&&c.setOptions(u)},{deep:!0}),Ot([t,e],([u,c])=>{s(),!(!u||!c)&&(a.value=Bl(u,c,J(i)))}),Lr(()=>{s()}),{state:dt(()=>{var u;return{...((u=J(a))==null?void 0:u.state)||{}}}),styles:dt(()=>J(o).styles),attributes:dt(()=>J(o).attributes),update:()=>{var u;return(u=J(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=J(a))==null?void 0:u.forceUpdate()},instanceRef:dt(()=>J(a))}};function kl(t){const e=Object.keys(t.elements),r=ra(e.map(i=>[i,t.styles[i]||{}])),n=ra(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}function ha(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return nu(()=>r()),{registerTimeout:e,cancelTimeout:r}}const Po=()=>{const t=iu(),e=au(),r=dt(()=>`${t.value}-popper-container-${e.prefix}`),n=dt(()=>`#${r.value}`);return{id:r,selector:n}},Ll=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},Ul=()=>{const{id:t,selector:e}=Po();return hu(()=>{vr&&(document.body.querySelector(e.value)||Ll(t.value))}),{id:t,selector:e}},Ml=ne({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),zl=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:a}=ha(),{registerTimeout:o,cancelTimeout:s}=ha();return{onOpen:d=>{a(()=>{n(d);const h=J(r);Kn(h)&&h>0&&o(()=>{i(d)},h)},J(t))},onClose:d=>{s(),a(()=>{i(d)},J(e))}}},Bo=Symbol("elForwardRef"),$l=t=>{Cr(Bo,{setForwardRef:r=>{t.value=r}})},ql=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),_i=Symbol("popper"),Fo=Symbol("popperContent"),Gl=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],ko=ne({role:{type:String,values:Gl,default:"tooltip"}}),Hl=xt({name:"ElPopper",inheritAttrs:!1}),jl=xt({...Hl,props:ko,setup(t,{expose:e}){const r=t,n=_t(),i=_t(),a=_t(),o=_t(),s=dt(()=>r.role),u={triggerRef:n,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return e(u),Cr(_i,u),(c,d)=>ue(c.$slots,"default")}});var Vl=be(jl,[["__file","popper.vue"]]);const Lo=ne({arrowOffset:{type:Number,default:5}}),Wl=xt({name:"ElPopperArrow",inheritAttrs:!1}),Xl=xt({...Wl,props:Lo,setup(t,{expose:e}){const r=t,n=kr("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:o}=xe(Fo,void 0);return Ot(()=>r.arrowOffset,s=>{i.value=s}),Lr(()=>{a.value=void 0}),e({arrowRef:a}),(s,u)=>(jt(),dn("span",{ref_key:"arrowRef",ref:a,class:Eo(J(n).e("arrow")),style:mu(J(o)),"data-popper-arrow":""},null,6))}});var Yl=be(Xl,[["__file","arrow.vue"]]);const Zl="ElOnlyChild",Kl=xt({name:Zl,setup(t,{slots:e,attrs:r}){var n;const i=xe(Bo),a=ql((n=i==null?void 0:i.setForwardRef)!=null?n:Jn);return()=>{var o;const s=(o=e.default)==null?void 0:o.call(e,r);if(!s||s.length>1)return null;const u=Uo(s);return u?wo(gu(u,r),[[a]]):null}}});function Uo(t){if(!t)return null;const e=t;for(const r of e){if(yu(r))switch(r.type){case Eu:continue;case bu:case"svg":return ma(r);case vu:return Uo(r.children);default:return r}return ma(r)}return null}function ma(t){const e=kr("only-child");return Or("span",{class:e.e("content")},[t])}const Mo=ne({virtualRef:{type:gt(Object)},virtualTriggering:Boolean,onMouseenter:{type:gt(Function)},onMouseleave:{type:gt(Function)},onClick:{type:gt(Function)},onKeydown:{type:gt(Function)},onFocus:{type:gt(Function)},onBlur:{type:gt(Function)},onContextmenu:{type:gt(Function)},id:String,open:Boolean}),Jl=xt({name:"ElPopperTrigger",inheritAttrs:!1}),Ql=xt({...Jl,props:Mo,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=xe(_i,void 0);$l(i);const a=dt(()=>s.value?r.id:void 0),o=dt(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=dt(()=>{if(n&&n.value!=="tooltip")return n.value}),u=dt(()=>s.value?`${r.open}`:void 0);let c;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Sn(()=>{Ot(()=>r.virtualRef,h=>{h&&(i.value=yo(h))},{immediate:!0}),Ot(i,(h,f)=>{c==null||c(),c=void 0,br(h)&&(d.forEach(p=>{var m;const l=r[p];l&&(h.addEventListener(p.slice(2).toLowerCase(),l),(m=f==null?void 0:f.removeEventListener)==null||m.call(f,p.slice(2).toLowerCase(),l))}),c=Ot([a,o,s,u],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,l)=>{vo(p[l])?h.removeAttribute(m):h.setAttribute(m,p[l])})},{immediate:!0})),br(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>f.removeAttribute(p))},{immediate:!0})}),Lr(()=>{if(c==null||c(),c=void 0,i.value&&br(i.value)){const h=i.value;d.forEach(f=>{const p=r[f];p&&h.removeEventListener(f.slice(2).toLowerCase(),p)}),i.value=void 0}}),e({triggerRef:i}),(h,f)=>h.virtualTriggering?pn("v-if",!0):(jt(),Oe(J(Kl),hi({key:0},h.$attrs,{"aria-controls":J(a),"aria-describedby":J(o),"aria-expanded":J(u),"aria-haspopup":J(s)}),{default:oe(()=>[ue(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var tc=be(Ql,[["__file","trigger.vue"]]);const ec=["fixed","absolute"],rc=ne({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:gt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:yi,default:"bottom"},popperOptions:{type:gt(Object),default:()=>({})},strategy:{type:String,values:ec,default:"absolute"}}),zo=ne({...rc,id:String,style:{type:gt([String,Array,Object])},className:{type:gt([String,Array,Object])},effect:{type:gt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:gt([String,Array,Object])},popperStyle:{type:gt([String,Array,Object])},referenceEl:{type:gt(Object)},triggerTargetEl:{type:gt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...bo(["ariaLabel"])}),nc={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},ic=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,a={placement:r,strategy:n,...i,modifiers:[...oc(t),...e]};return sc(a,i==null?void 0:i.modifiers),a},ac=t=>{if(vr)return yo(t)};function oc(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function sc(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const uc=0,lc=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=xe(_i,void 0),a=_t(),o=_t(),s=dt(()=>({name:"eventListeners",enabled:!!t.visible})),u=dt(()=>{var g;const v=J(a),b=(g=J(o))!=null?g:uc;return{name:"arrow",enabled:!Iu(v),options:{element:v,padding:b}}}),c=dt(()=>({onFirstUpdate:()=>{m()},...ic(t,[J(u),J(s)])})),d=dt(()=>ac(t.referenceEl)||J(n)),{attributes:h,state:f,styles:p,update:m,forceUpdate:l,instanceRef:y}=Fl(d,r,c);return Ot(y,g=>e.value=g),Sn(()=>{Ot(()=>{var g;return(g=J(d))==null?void 0:g.getBoundingClientRect()},()=>{m()})}),{attributes:h,arrowRef:a,contentRef:r,instanceRef:y,state:f,styles:p,role:i,forceUpdate:l,update:m}},cc=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=ou(),a=kr("popper"),o=dt(()=>J(e).popper),s=_t(Kn(t.zIndex)?t.zIndex:i()),u=dt(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),c=dt(()=>[{zIndex:J(s)},J(r).popper,t.popperStyle||{}]),d=dt(()=>n.value==="dialog"?"false":void 0),h=dt(()=>J(r).arrow||{});return{ariaModal:d,arrowStyle:h,contentAttrs:o,contentClass:u,contentStyle:c,contentZIndex:s,updateZIndex:()=>{s.value=Kn(t.zIndex)?t.zIndex:i()}}},fc=(t,e)=>{const r=_t(!1),n=_t();return{focusStartRef:n,trapped:r,onFocusAfterReleased:c=>{var d;((d=c.detail)==null?void 0:d.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!r.value&&(c.target&&(n.value=c.target),r.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},dc=xt({name:"ElPopperContent"}),pc=xt({...dc,props:zo,emits:nc,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:d}=fc(n,r),{attributes:h,arrowRef:f,contentRef:p,styles:m,instanceRef:l,role:y,update:g}=lc(n),{ariaModal:v,arrowStyle:b,contentAttrs:A,contentClass:S,contentStyle:T,updateZIndex:_}=cc(n,{styles:m,attributes:h,role:y}),R=xe(na,void 0),C=_t();Cr(Fo,{arrowStyle:b,arrowRef:f,arrowOffset:C}),R&&Cr(na,{...R,addInputId:Jn,removeInputId:Jn});let I;const z=(N=!0)=>{g(),N&&_()},D=()=>{z(!1),n.visible&&n.focusOnShow?a.value=!0:n.visible===!1&&(a.value=!1)};return Sn(()=>{Ot(()=>n.triggerTargetEl,(N,E)=>{I==null||I(),I=void 0;const B=J(N||p.value),F=J(E||p.value);br(B)&&(I=Ot([y,()=>n.ariaLabel,v,()=>n.id],L=>{["role","aria-label","aria-modal","id"].forEach((K,G)=>{vo(L[G])?B.removeAttribute(K):B.setAttribute(K,L[G])})},{immediate:!0})),F!==B&&br(F)&&["role","aria-label","aria-modal","id"].forEach(L=>{F.removeAttribute(L)})},{immediate:!0}),Ot(()=>n.visible,D,{immediate:!0})}),Lr(()=>{I==null||I(),I=void 0}),e({popperContentRef:p,popperInstanceRef:l,updatePopper:z,contentStyle:T}),(N,E)=>(jt(),dn("div",hi({ref_key:"contentRef",ref:p},J(A),{style:J(T),class:J(S),tabindex:"-1",onMouseenter:B=>N.$emit("mouseenter",B),onMouseleave:B=>N.$emit("mouseleave",B)}),[Or(J(su),{trapped:J(a),"trap-on-focus-in":!0,"focus-trap-el":J(p),"focus-start-el":J(i),onFocusAfterTrapped:J(s),onFocusAfterReleased:J(o),onFocusin:J(u),onFocusoutPrevented:J(c),onReleaseRequested:J(d)},{default:oe(()=>[ue(N.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var hc=be(pc,[["__file","content.vue"]]);const mc=di(Vl),Ti=Symbol("elTooltip"),$o=ne({...Ml,...zo,appendTo:{type:gt([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:gt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...bo(["ariaLabel"])}),qo=ne({...Mo,disabled:Boolean,trigger:{type:gt([String,Array]),default:"hover"},triggerKeys:{type:gt(Array),default:()=>[ia.enter,ia.space]}}),{useModelToggleProps:gc,useModelToggleEmits:yc,useModelToggle:vc}=Nu("visible"),bc=ne({...ko,...gc,...$o,...qo,...Lo,showArrow:{type:Boolean,default:!0}}),Ec=[...yc,"before-show","before-hide","show","hide","open","close"],wc=(t,e)=>wu(t)?t.includes(e):t===e,Ne=(t,e,r)=>n=>{wc(J(t),e)&&r(n)},Ac=xt({name:"ElTooltipTrigger"}),Dc=xt({...Ac,props:qo,setup(t,{expose:e}){const r=t,n=kr("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:u,onToggle:c}=xe(Ti,void 0),d=_t(null),h=()=>{if(J(i)||r.disabled)return!0},f=gr(r,"trigger"),p=ae(h,Ne(f,"hover",s)),m=ae(h,Ne(f,"hover",u)),l=ae(h,Ne(f,"click",A=>{A.button===0&&c(A)})),y=ae(h,Ne(f,"focus",s)),g=ae(h,Ne(f,"focus",u)),v=ae(h,Ne(f,"contextmenu",A=>{A.preventDefault(),c(A)})),b=ae(h,A=>{const{code:S}=A;r.triggerKeys.includes(S)&&(A.preventDefault(),c(A))});return e({triggerRef:d}),(A,S)=>(jt(),Oe(J(tc),{id:J(a),"virtual-ref":A.virtualRef,open:J(o),"virtual-triggering":A.virtualTriggering,class:Eo(J(n).e("trigger")),onBlur:J(g),onClick:J(l),onContextmenu:J(v),onFocus:J(y),onMouseenter:J(p),onMouseleave:J(m),onKeydown:J(b)},{default:oe(()=>[ue(A.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Sc=be(Dc,[["__file","trigger.vue"]]);const _c=ne({to:{type:gt([String,Object]),required:!0},disabled:Boolean}),Tc=xt({__name:"teleport",props:_c,setup(t){return(e,r)=>e.disabled?ue(e.$slots,"default",{key:0}):(jt(),Oe(Au,{key:1,to:e.to},[ue(e.$slots,"default")],8,["to"]))}});var Cc=be(Tc,[["__file","teleport.vue"]]);const Oc=di(Cc),Ic=xt({name:"ElTooltipContent",inheritAttrs:!1}),xc=xt({...Ic,props:$o,setup(t,{expose:e}){const r=t,{selector:n}=Po(),i=kr("tooltip"),a=_t(null);let o;const{controlled:s,id:u,open:c,trigger:d,onClose:h,onOpen:f,onShow:p,onHide:m,onBeforeShow:l,onBeforeHide:y}=xe(Ti,void 0),g=dt(()=>r.transition||`${i.namespace.value}-fade-in-linear`),v=dt(()=>r.persistent);Lr(()=>{o==null||o()});const b=dt(()=>J(v)?!0:J(c)),A=dt(()=>r.disabled?!1:J(c)),S=dt(()=>r.appendTo||n.value),T=dt(()=>{var F;return(F=r.style)!=null?F:{}}),_=_t(!0),R=()=>{m(),_.value=!0},C=()=>{if(J(s))return!0},I=ae(C,()=>{r.enterable&&J(d)==="hover"&&f()}),z=ae(C,()=>{J(d)==="hover"&&h()}),D=()=>{var F,L;(L=(F=a.value)==null?void 0:F.updatePopper)==null||L.call(F),l==null||l()},N=()=>{y==null||y()},E=()=>{p(),o=cu(dt(()=>{var F;return(F=a.value)==null?void 0:F.popperContentRef}),()=>{if(J(s))return;J(d)!=="hover"&&h()})},B=()=>{r.virtualTriggering||h()};return Ot(()=>J(c),F=>{F?_.value=!1:o==null||o()},{flush:"post"}),Ot(()=>r.content,()=>{var F,L;(L=(F=a.value)==null?void 0:F.updatePopper)==null||L.call(F)}),e({contentRef:a}),(F,L)=>(jt(),Oe(J(Oc),{disabled:!F.teleported,to:J(S)},{default:oe(()=>[Or(uu,{name:J(g),onAfterLeave:R,onBeforeEnter:D,onAfterEnter:E,onBeforeLeave:N},{default:oe(()=>[J(b)?wo((jt(),Oe(J(hc),hi({key:0,id:J(u),ref_key:"contentRef",ref:a},F.$attrs,{"aria-label":F.ariaLabel,"aria-hidden":_.value,"boundaries-padding":F.boundariesPadding,"fallback-placements":F.fallbackPlacements,"gpu-acceleration":F.gpuAcceleration,offset:F.offset,placement:F.placement,"popper-options":F.popperOptions,strategy:F.strategy,effect:F.effect,enterable:F.enterable,pure:F.pure,"popper-class":F.popperClass,"popper-style":[F.popperStyle,J(T)],"reference-el":F.referenceEl,"trigger-target-el":F.triggerTargetEl,visible:J(A),"z-index":F.zIndex,onMouseenter:J(I),onMouseleave:J(z),onBlur:B,onClose:J(h)}),{default:oe(()=>[ue(F.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[lu,J(A)]]):pn("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var Rc=be(xc,[["__file","content.vue"]]);const Nc=xt({name:"ElTooltip"}),Pc=xt({...Nc,props:bc,emits:Ec,setup(t,{expose:e,emit:r}){const n=t;Ul();const i=fu(),a=_t(),o=_t(),s=()=>{var g;const v=J(a);v&&((g=v.popperInstanceRef)==null||g.update())},u=_t(!1),c=_t(),{show:d,hide:h,hasUpdateHandler:f}=vc({indicator:u,toggleReason:c}),{onOpen:p,onClose:m}=zl({showAfter:gr(n,"showAfter"),hideAfter:gr(n,"hideAfter"),autoClose:gr(n,"autoClose"),open:d,close:h}),l=dt(()=>go(n.visible)&&!f.value);Cr(Ti,{controlled:l,id:i,open:Du(u),trigger:gr(n,"trigger"),onOpen:g=>{p(g)},onClose:g=>{m(g)},onToggle:g=>{J(u)?m(g):p(g)},onShow:()=>{r("show",c.value)},onHide:()=>{r("hide",c.value)},onBeforeShow:()=>{r("before-show",c.value)},onBeforeHide:()=>{r("before-hide",c.value)},updatePopper:s}),Ot(()=>n.disabled,g=>{g&&u.value&&(u.value=!1)});const y=g=>{var v,b;const A=(b=(v=o.value)==null?void 0:v.contentRef)==null?void 0:b.popperContentRef,S=(g==null?void 0:g.relatedTarget)||document.activeElement;return A&&A.contains(S)};return Su(()=>u.value&&h()),e({popperRef:a,contentRef:o,isFocusInsideContent:y,updatePopper:s,onOpen:p,onClose:m,hide:h}),(g,v)=>(jt(),Oe(J(mc),{ref_key:"popperRef",ref:a,role:g.role},{default:oe(()=>[Or(Sc,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:oe(()=>[g.$slots.default?ue(g.$slots,"default",{key:0}):pn("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Or(Rc,{ref_key:"contentRef",ref:o,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:oe(()=>[ue(g.$slots,"content",{},()=>[g.rawContent?(jt(),dn("span",{key:0,innerHTML:g.content},null,8,["innerHTML"])):(jt(),dn("span",{key:1},_u(g.content),1))]),g.showArrow?(jt(),Oe(J(Yl),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):pn("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Bc=be(Pc,[["__file","tooltip.vue"]]);const om=di(Bc);function tn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Go={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(c,d){if(!i[c]){if(!n[c]){var h=typeof tn=="function"&&tn;if(!d&&h)return h(c,!0);if(s)return s(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};n[c][0].call(p.exports,function(m){var l=n[c][1][m];return o(l||m)},p,p.exports,r,n,i,a)}return i[c].exports}for(var s=typeof tn=="function"&&tn,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,d,h,f,p,m,l,y=[],g=0,v=u.length,b=v,A=a.getTypeOf(u)!=="string";g<u.length;)b=v-g,h=A?(c=u[g++],d=g<v?u[g++]:0,g<v?u[g++]:0):(c=u.charCodeAt(g++),d=g<v?u.charCodeAt(g++):0,g<v?u.charCodeAt(g++):0),f=c>>2,p=(3&c)<<4|d>>4,m=1<b?(15&d)<<2|h>>6:64,l=2<b?63&h:64,y.push(s.charAt(f)+s.charAt(p)+s.charAt(m)+s.charAt(l));return y.join("")},i.decode=function(u){var c,d,h,f,p,m,l=0,y=0,g="data:";if(u.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,b=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&b--,u.charAt(u.length-2)===s.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|b):new Array(0|b);l<u.length;)c=s.indexOf(u.charAt(l++))<<2|(f=s.indexOf(u.charAt(l++)))>>4,d=(15&f)<<4|(p=s.indexOf(u.charAt(l++)))>>2,h=(3&p)<<6|(m=s.indexOf(u.charAt(l++))),v[y++]=c,p!==64&&(v[y++]=d),m!==64&&(v[y++]=h);return v}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function c(d,h,f,p,m){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=p,this.compressedContent=m}c.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,f){return d.pipe(new s).pipe(new u("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=function(){for(var s,u=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;u[c]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(c,d,h,f){var p=o,m=f+h;c^=-1;for(var l=f;l<m;l++)c=c>>>8^p[255&(c^d[l])];return-1^c}(0|u,s,s.length,0):function(c,d,h,f){var p=o,m=f+h;c^=-1;for(var l=f;l<m;l++)c=c>>>8^p[255&(c^d.charCodeAt(l))];return-1^c}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),u=r("./stream/GenericWorker"),c=a?"uint8array":"array";function d(h,f){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",s.inherits(d,u),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,h.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(p,m){var l,y="";for(l=0;l<m;l++)y+=String.fromCharCode(255&p),p>>>=8;return y}function o(p,m,l,y,g,v){var b,A,S=p.file,T=p.compression,_=v!==c.utf8encode,R=s.transformTo("string",v(S.name)),C=s.transformTo("string",c.utf8encode(S.name)),I=S.comment,z=s.transformTo("string",v(I)),D=s.transformTo("string",c.utf8encode(I)),N=C.length!==S.name.length,E=D.length!==I.length,B="",F="",L="",K=S.dir,G=S.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};m&&!l||(Q.crc32=p.crc32,Q.compressedSize=p.compressedSize,Q.uncompressedSize=p.uncompressedSize);var M=0;m&&(M|=8),_||!N&&!E||(M|=2048);var k=0,at=0;K&&(k|=16),g==="UNIX"?(at=798,k|=function(P,tt){var et=P;return P||(et=tt?16893:33204),(65535&et)<<16}(S.unixPermissions,K)):(at=20,k|=function(P){return 63&(P||0)}(S.dosPermissions)),b=G.getUTCHours(),b<<=6,b|=G.getUTCMinutes(),b<<=5,b|=G.getUTCSeconds()/2,A=G.getUTCFullYear()-1980,A<<=4,A|=G.getUTCMonth()+1,A<<=5,A|=G.getUTCDate(),N&&(F=a(1,1)+a(d(R),4)+C,B+="up"+a(F.length,2)+F),E&&(L=a(1,1)+a(d(z),4)+D,B+="uc"+a(L.length,2)+L);var Y="";return Y+=`
\0`,Y+=a(M,2),Y+=T.magic,Y+=a(b,2),Y+=a(A,2),Y+=a(Q.crc32,4),Y+=a(Q.compressedSize,4),Y+=a(Q.uncompressedSize,4),Y+=a(R.length,2),Y+=a(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Y+R+B,dirRecord:h.CENTRAL_FILE_HEADER+a(at,2)+Y+a(z.length,2)+"\0\0\0\0"+a(k,4)+a(y,4)+R+B+z}}var s=r("../utils"),u=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),h=r("../signature");function f(p,m,l,y){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=l,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(f,u),f.prototype.push=function(p){var m=p.meta.percent||0,l=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,u.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:l?(m+100*(l-y-1))/l:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var m=this.streamFiles&&!p.file.dir;if(m){var l=o(p,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var m=this.streamFiles&&!p.file.dir,l=o(p,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),m)this.push({data:function(y){return h.DATA_DESCRIPTOR+a(y.crc32,4)+a(y.compressedSize,4)+a(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var l=this.bytesWritten-p,y=function(g,v,b,A,S){var T=s.transformTo("string",S(A));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(v,4)+a(b,4)+a(T.length,2)+T}(this.dirRecords.length,l,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var m=this;return p.on("data",function(l){m.processChunk(l)}),p.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),p.on("error",function(l){m.error(l)}),this},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var m=this._sources;if(!u.prototype.error.call(this,p))return!1;for(var l=0;l<m.length;l++)try{m[l].error(p)}catch{}return!0},f.prototype.lock=function(){u.prototype.lock.call(this);for(var p=this._sources,m=0;m<p.length;m++)p[m].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,u,c){var d=new o(u.streamFiles,c,u.platform,u.encodeFileName),h=0;try{s.forEach(function(f,p){h++;var m=function(v,b){var A=v||b,S=a[A];if(!S)throw new Error(A+" is not a valid compression method !");return S}(p.options.compression,u.compression),l=p.options.compressionOptions||u.compressionOptions||{},y=p.dir,g=p.date;p._compressWorker(m,l).withStreamInfo("file",{name:f,dir:y,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),u=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(f){return new o.Promise(function(p,m){var l=f.decompressed.getContentWorker().pipe(new c);l.on("error",function(y){m(y)}).on("end",function(){l.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(f,p){var m=this;return p=a.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(l){var y=new u(p);return y.load(l),y}).then(function(l){var y=[o.Promise.resolve(l)],g=l.files;if(p.checkCRC32)for(var v=0;v<g.length;v++)y.push(h(g[v]));return o.Promise.all(y)}).then(function(l){for(var y=l.shift(),g=y.files,v=0;v<g.length;v++){var b=g[v],A=b.fileNameStr,S=a.resolve(b.fileNameStr);m.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:p.createFolders}),b.dir||(m.file(S).unsafeOriginalName=A)}return y.zipComment.length&&(m.comment=y.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,u,c){a.call(this,u),this._helper=s;var d=this;s.on("data",function(h,f){d.push(h)||d._helper.pause(),c&&c(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(S,T,_){var R,C=s.getTypeOf(T),I=s.extend(_||{},d);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(S=g(S)),I.createFolders&&(R=y(S))&&v.call(this,R,!0);var z=C==="string"&&I.binary===!1&&I.base64===!1;_&&_.binary!==void 0||(I.binary=!z),(T instanceof h&&T.uncompressedSize===0||I.dir||!T||T.length===0)&&(I.base64=!1,I.binary=!0,T="",I.compression="STORE",C="string");var D=null;D=T instanceof h||T instanceof u?T:m.isNode&&m.isStream(T)?new l(S,T):s.prepareContent(S,T,I.binary,I.optimizedBinaryString,I.base64);var N=new f(S,D,I);this.files[S]=N}var o=r("./utf8"),s=r("./utils"),u=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),p=r("./generate"),m=r("./nodejsUtils"),l=r("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},g=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,T){return T=T!==void 0?T:d.createFolders,S=g(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,_,R;for(T in this.files)R=this.files[T],(_=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(_,R)},filter:function(S){var T=[];return this.forEach(function(_,R){S(_,R)&&T.push(R)}),T},file:function(S,T,_){if(arguments.length!==1)return S=this.root+S,a.call(this,S,T,_),this;if(b(S)){var R=S;return this.filter(function(I,z){return!z.dir&&R.test(I)})}var C=this.files[this.root+S];return C&&!C.dir?C:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(C,I){return I.dir&&S.test(C)});var T=this.root+S,_=v.call(this,T),R=this.clone();return R.root=_.name,R},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var _=this.filter(function(C,I){return I.name.slice(0,S.length)===S}),R=0;R<_.length;R++)delete this.files[_[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,_={};try{if((_=s.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");s.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var R=_.comment||this.comment||"";T=p.generateWorker(this,_,R)}catch(C){(T=new u("error")).error(C)}return new c(T,_.type||"string",_.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),h=s.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===u&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),h=s.charCodeAt(3),f=this.readData(4);return u===f[0]&&c===f[1]&&d===f[2]&&h===f[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var u,c=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),u=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var f=a.getTypeOf(h);return a.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new c(h):o.uint8array?new d(a.transformTo("uint8array",h)):new s(a.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(u){a.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(s,a),s.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(s,o),s.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=a.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(u){s.processChunk(u)}),o.on("end",function(){s.end()}),o.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),u=r("../base64"),c=r("../support"),d=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,l){return new d.Promise(function(y,g){var v=[],b=m._internalType,A=m._outputType,S=m._mimeType;m.on("data",function(T,_){v.push(T),l&&l(_)}).on("error",function(T){v=[],g(T)}).on("end",function(){try{var T=function(_,R,C){switch(_){case"blob":return a.newBlob(a.transformTo("arraybuffer",R),C);case"base64":return u.encode(R);default:return a.transformTo(_,R)}}(A,function(_,R){var C,I=0,z=null,D=0;for(C=0;C<R.length;C++)D+=R[C].length;switch(_){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(z=new Uint8Array(D),C=0;C<R.length;C++)z.set(R[C],I),I+=R[C].length;return z;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+_+"'")}}(b,v),S);y(T)}catch(_){g(_)}v=[]}).resume()})}function p(m,l,y){var g=l;switch(l){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=l,this._mimeType=y,a.checkSupport(g),this._worker=m.pipe(new o(g)),m.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}p.prototype={accumulate:function(m){return f(this,m)},on:function(m,l){var y=this;return m==="data"?this._worker.on(m,function(g){l.call(y,g.data,g.meta)}):this._worker.on(m,function(){a.delay(l,arguments,y)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},m)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),u=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function f(){u.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?s.newBufferFrom(p,"utf-8"):function(m){var l,y,g,v,b,A=m.length,S=0;for(v=0;v<A;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<A&&(64512&(g=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),v++),S+=y<128?1:y<2048?2:y<65536?3:4;for(l=o.uint8array?new Uint8Array(S):new Array(S),v=b=0;b<S;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<A&&(64512&(g=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),v++),y<128?l[b++]=y:(y<2048?l[b++]=192|y>>>6:(y<65536?l[b++]=224|y>>>12:(l[b++]=240|y>>>18,l[b++]=128|y>>>12&63),l[b++]=128|y>>>6&63),l[b++]=128|63&y);return l}(p)},i.utf8decode=function(p){return o.nodebuffer?a.transformTo("nodebuffer",p).toString("utf-8"):function(m){var l,y,g,v,b=m.length,A=new Array(2*b);for(l=y=0;l<b;)if((g=m[l++])<128)A[y++]=g;else if(4<(v=c[g]))A[y++]=65533,l+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&l<b;)g=g<<6|63&m[l++],v--;1<v?A[y++]=65533:g<65536?A[y++]=g:(g-=65536,A[y++]=55296|g>>10&1023,A[y++]=56320|1023&g)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),a.applyFromCharCode(A)}(p=a.transformTo(o.uint8array?"uint8array":"array",p))},a.inherits(h,u),h.prototype.processChunk=function(p){var m=a.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var l=m;(m=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),m.set(l,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var y=function(v,b){var A;for((b=b||v.length)>v.length&&(b=v.length),A=b-1;0<=A&&(192&v[A])==128;)A--;return A<0||A===0?b:A+c[v[A]]>b?A:b}(m),g=m;y!==m.length&&(o.uint8array?(g=m.subarray(0,y),this.leftOver=m.subarray(y,m.length)):(g=m.slice(0,y),this.leftOver=m.slice(y,m.length))),this.push({data:i.utf8decode(g),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(f,u),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),u=r("./external");function c(l){return l}function d(l,y){for(var g=0;g<l.length;++g)y[g]=255&l.charCodeAt(g);return y}r("setimmediate"),i.newBlob=function(l,y){i.checkSupport("blob");try{return new Blob([l],{type:y})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(l),g.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(l,y,g){var v=[],b=0,A=l.length;if(A<=g)return String.fromCharCode.apply(null,l);for(;b<A;)y==="array"||y==="nodebuffer"?v.push(String.fromCharCode.apply(null,l.slice(b,Math.min(b+g,A)))):v.push(String.fromCharCode.apply(null,l.subarray(b,Math.min(b+g,A)))),b+=g;return v.join("")},stringifyByChar:function(l){for(var y="",g=0;g<l.length;g++)y+=String.fromCharCode(l[g]);return y},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function f(l){var y=65536,g=i.getTypeOf(l),v=!0;if(g==="uint8array"?v=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<y;)try{return h.stringifyByChunk(l,g,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(l)}function p(l,y){for(var g=0;g<l.length;g++)y[g]=l[g];return y}i.applyFromCharCode=f;var m={};m.string={string:c,array:function(l){return d(l,new Array(l.length))},arraybuffer:function(l){return m.string.uint8array(l).buffer},uint8array:function(l){return d(l,new Uint8Array(l.length))},nodebuffer:function(l){return d(l,s.allocBuffer(l.length))}},m.array={string:f,array:c,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return s.newBufferFrom(l)}},m.arraybuffer={string:function(l){return f(new Uint8Array(l))},array:function(l){return p(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:c,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return s.newBufferFrom(new Uint8Array(l))}},m.uint8array={string:f,array:function(l){return p(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:c,nodebuffer:function(l){return s.newBufferFrom(l)}},m.nodebuffer={string:f,array:function(l){return p(l,new Array(l.length))},arraybuffer:function(l){return m.nodebuffer.uint8array(l).buffer},uint8array:function(l){return p(l,new Uint8Array(l.length))},nodebuffer:c},i.transformTo=function(l,y){if(y=y||"",!l)return y;i.checkSupport(l);var g=i.getTypeOf(y);return m[g][l](y)},i.resolve=function(l){for(var y=l.split("/"),g=[],v=0;v<y.length;v++){var b=y[v];b==="."||b===""&&v!==0&&v!==y.length-1||(b===".."?g.pop():g.push(b))}return g.join("/")},i.getTypeOf=function(l){return typeof l=="string"?"string":Object.prototype.toString.call(l)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(l)?"nodebuffer":a.uint8array&&l instanceof Uint8Array?"uint8array":a.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(l){if(!a[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(l){var y,g,v="";for(g=0;g<(l||"").length;g++)v+="\\x"+((y=l.charCodeAt(g))<16?"0":"")+y.toString(16).toUpperCase();return v},i.delay=function(l,y,g){setImmediate(function(){l.apply(g||null,y||[])})},i.inherits=function(l,y){function g(){}g.prototype=y.prototype,l.prototype=new g},i.extend=function(){var l,y,g={};for(l=0;l<arguments.length;l++)for(y in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],y)&&g[y]===void 0&&(g[y]=arguments[l][y]);return g},i.prepareContent=function(l,y,g,v,b){return u.Promise.resolve(y).then(function(A){return a.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(S,T){var _=new FileReader;_.onload=function(R){S(R.target.result)},_.onerror=function(R){T(R.target.error)},_.readAsArrayBuffer(A)}):A}).then(function(A){var S=i.getTypeOf(A);return S?(S==="arraybuffer"?A=i.transformTo("uint8array",A):S==="string"&&(b?A=o.decode(A):g&&v!==!0&&(A=function(T){return d(T,a.uint8array?new Uint8Array(T.length):new Array(T.length))}(A))),A):u.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),u=r("./zipEntry"),c=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(h)+")")}},isSignature:function(h,f){var p=this.reader.index;this.reader.setIndex(h);var m=this.reader.readString(4)===f;return this.reader.setIndex(p),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=o.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,p,m=this.zip64EndOfCentralSize-44;0<m;)h=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var m=f-p;if(0<m)this.isSignature(f,s.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),u=r("./crc32"),c=r("./utf8"),d=r("./compressions"),h=r("./support");function f(p,m){this.options=p,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var m,l;if(p.skip(22),this.fileNameLength=p.readInt(2),l=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(l),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(y){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===y)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,m,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var m=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(m),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var m,l,y,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)m=p.readInt(2),l=p.readInt(2),y=p.readData(l),this.extraFields[m]={id:m,length:l,value:y};p.setIndex(g)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var l=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var g=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var m=a(p.value);return m.readInt(1)!==1||u(this.fileName)!==m.readInt(4)?null:c.utf8decode(m.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var m=a(p.value);return m.readInt(1)!==1||u(this.fileComment)!==m.readInt(4)?null:c.utf8decode(m.readData(p.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(m,l,y){this.name=m,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=l,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),u=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");a.prototype={internalStream:function(m){var l=null,y="string";try{if(!m)throw new Error("No output type specified.");var g=(y=m.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),l=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(l=l.pipe(new u.Utf8EncodeWorker)),!v&&g&&(l=l.pipe(new u.Utf8DecodeWorker))}catch(b){(l=new d("error")).error(b)}return new o(l,y,"")},async:function(m,l){return this.internalStream(m).accumulate(l)},nodeStream:function(m,l){return this.internalStream(m||"nodebuffer").toNodejsStream(l)},_compressWorker:function(m,l){if(this._data instanceof c&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(y,m,l)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)a.prototype[h[p]]=f;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var c=0,d=new u(m),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var l=a.document.createElement("script");l.onreadystatechange=function(){m(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},a.document.documentElement.appendChild(l)}:function(){setTimeout(m,0)};else{var f=new a.MessageChannel;f.port1.onmessage=m,o=function(){f.port2.postMessage(0)}}var p=[];function m(){var l,y;s=!0;for(var g=p.length;g;){for(y=p,p=[],l=-1;++l<g;)y[l]();g=p.length}s=!1}n.exports=function(l){p.push(l)!==1||s||o()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==o&&l(this,g)}function f(g,v,b){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function p(g,v,b){a(function(){var A;try{A=v(b)}catch(S){return s.reject(g,S)}A===g?s.reject(g,new TypeError("Cannot resolve promise with itself")):s.resolve(g,A)})}function m(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function l(g,v){var b=!1;function A(_){b||(b=!0,s.reject(g,_))}function S(_){b||(b=!0,s.resolve(g,_))}var T=y(function(){v(S,A)});T.status==="error"&&A(T.value)}function y(g,v){var b={};try{b.value=g(v),b.status="success"}catch(A){b.status="error",b.value=A}return b}(n.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(b){return v.resolve(g()).then(function(){return b})},function(b){return v.resolve(g()).then(function(){throw b})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===u)return this;var b=new this.constructor(o);return this.state!==d?p(b,this.state===c?g:v,this.outcome):this.queue.push(new f(b,g,v)),b},f.prototype.callFulfilled=function(g){s.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){s.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},s.resolve=function(g,v){var b=y(m,v);if(b.status==="error")return s.reject(g,b.value);var A=b.value;if(A)l(g,A);else{g.state=c,g.outcome=v;for(var S=-1,T=g.queue.length;++S<T;)g.queue[S].callFulfilled(v)}return g},s.reject=function(g,v){g.state=u,g.outcome=v;for(var b=-1,A=g.queue.length;++b<A;)g.queue[b].callRejected(v);return g},h.resolve=function(g){return g instanceof this?g:s.resolve(new this(o),g)},h.reject=function(g){var v=new this(o);return s.reject(v,g)},h.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,A=!1;if(!b)return this.resolve([]);for(var S=new Array(b),T=0,_=-1,R=new this(o);++_<b;)C(g[_],_);return R;function C(I,z){v.resolve(I).then(function(D){S[z]=D,++T!==b||A||(A=!0,s.resolve(R,S))},function(D){A||(A=!0,s.reject(R,D))})}},h.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=g.length,A=!1;if(!b)return this.resolve([]);for(var S=-1,T=new this(o);++S<b;)_=g[S],v.resolve(_).then(function(R){A||(A=!0,s.resolve(T,R))},function(R){A||(A=!0,s.reject(T,R))});var _;return T}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,p=0,m=8;function l(g){if(!(this instanceof l))return new l(g);this.options=o.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=a.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(b!==h)throw new Error(u[b]);if(v.header&&a.deflateSetHeader(this.strm,v.header),v.dictionary){var A;if(A=typeof v.dictionary=="string"?s.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(b=a.deflateSetDictionary(this.strm,A))!==h)throw new Error(u[b]);this._dict_set=!0}}function y(g,v){var b=new l(v);if(b.push(g,!0),b.err)throw b.msg||u[b.err];return b.result}l.prototype.push=function(g,v){var b,A,S=this.strm,T=this.options.chunkSize;if(this.ended)return!1;A=v===~~v?v:v===!0?4:0,typeof g=="string"?S.input=s.string2buf(g):d.call(g)==="[object ArrayBuffer]"?S.input=new Uint8Array(g):S.input=g,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(T),S.next_out=0,S.avail_out=T),(b=a.deflate(S,A))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return A===4?(b=a.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):A!==2||(this.onEnd(h),!(S.avail_out=0))},l.prototype.onData=function(g){this.chunks.push(g)},l.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=l,i.deflate=y,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,y(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,y(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function p(l){if(!(this instanceof p))return new p(l);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},l||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||l&&l.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,y.windowBits);if(g!==u.Z_OK)throw new Error(c[g]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function m(l,y){var g=new p(y);if(g.push(l,!0),g.err)throw g.msg||c[g.err];return g.result}p.prototype.push=function(l,y){var g,v,b,A,S,T,_=this.strm,R=this.options.chunkSize,C=this.options.dictionary,I=!1;if(this.ended)return!1;v=y===~~y?y:y===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof l=="string"?_.input=s.binstring2buf(l):f.call(l)==="[object ArrayBuffer]"?_.input=new Uint8Array(l):_.input=l,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(R),_.next_out=0,_.avail_out=R),(g=a.inflate(_,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&C&&(T=typeof C=="string"?s.string2buf(C):f.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,g=a.inflateSetDictionary(this.strm,T)),g===u.Z_BUF_ERROR&&I===!0&&(g=u.Z_OK,I=!1),g!==u.Z_STREAM_END&&g!==u.Z_OK)return this.onEnd(g),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&g!==u.Z_STREAM_END&&(_.avail_in!==0||v!==u.Z_FINISH&&v!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=s.utf8border(_.output,_.next_out),A=_.next_out-b,S=s.buf2string(_.output,b),_.next_out=A,_.avail_out=R-A,A&&o.arraySet(_.output,_.output,b,A,0),this.onData(S)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(I=!0)}while((0<_.avail_in||_.avail_out===0)&&g!==u.Z_STREAM_END);return g===u.Z_STREAM_END&&(v=u.Z_FINISH),v===u.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u.Z_OK):v!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(_.avail_out=0))},p.prototype.onData=function(l){this.chunks.push(l)},p.prototype.onEnd=function(l){l===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},i.Inflate=p,i.inflate=m,i.inflateRaw=function(l,y){return(y=y||{}).raw=!0,m(l,y)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,d,h,f){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+h),f);else for(var p=0;p<h;p++)u[f+p]=c[d+p]},flattenChunks:function(u){var c,d,h,f,p,m;for(c=h=0,d=u.length;c<d;c++)h+=u[c].length;for(m=new Uint8Array(h),c=f=0,d=u.length;c<d;c++)p=u[c],m.set(p,f),f+=p.length;return m}},s={arraySet:function(u,c,d,h,f){for(var p=0;p<h;p++)u[f+p]=c[d+p]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new a.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,f){if(f<65537&&(h.subarray&&s||!h.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(h,f));for(var p="",m=0;m<f;m++)p+=String.fromCharCode(h[m]);return p}u[254]=u[254]=1,i.string2buf=function(h){var f,p,m,l,y,g=h.length,v=0;for(l=0;l<g;l++)(64512&(p=h.charCodeAt(l)))==55296&&l+1<g&&(64512&(m=h.charCodeAt(l+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),l++),v+=p<128?1:p<2048?2:p<65536?3:4;for(f=new a.Buf8(v),l=y=0;y<v;l++)(64512&(p=h.charCodeAt(l)))==55296&&l+1<g&&(64512&(m=h.charCodeAt(l+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),l++),p<128?f[y++]=p:(p<2048?f[y++]=192|p>>>6:(p<65536?f[y++]=224|p>>>12:(f[y++]=240|p>>>18,f[y++]=128|p>>>12&63),f[y++]=128|p>>>6&63),f[y++]=128|63&p);return f},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var f=new a.Buf8(h.length),p=0,m=f.length;p<m;p++)f[p]=h.charCodeAt(p);return f},i.buf2string=function(h,f){var p,m,l,y,g=f||h.length,v=new Array(2*g);for(p=m=0;p<g;)if((l=h[p++])<128)v[m++]=l;else if(4<(y=u[l]))v[m++]=65533,p+=y-1;else{for(l&=y===2?31:y===3?15:7;1<y&&p<g;)l=l<<6|63&h[p++],y--;1<y?v[m++]=65533:l<65536?v[m++]=l:(l-=65536,v[m++]=55296|l>>10&1023,v[m++]=56320|1023&l)}return d(v,m)},i.utf8border=function(h,f){var p;for((f=f||h.length)>h.length&&(f=h.length),p=f-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?f:p+u[h[p]]>f?p:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,u){for(var c=65535&a|0,d=a>>>16&65535|0,h=0;s!==0;){for(s-=h=2e3<s?2e3:s;d=d+(c=c+o[u++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var o,s=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[u]=o}return s}();n.exports=function(o,s,u,c){var d=a,h=c+u;o^=-1;for(var f=c;f<h;f++)o=o>>>8^d[255&(o^s[f])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),u=r("./adler32"),c=r("./crc32"),d=r("./messages"),h=0,f=4,p=0,m=-2,l=-1,y=4,g=2,v=8,b=9,A=286,S=30,T=19,_=2*A+1,R=15,C=3,I=258,z=I+C+1,D=42,N=113,E=1,B=2,F=3,L=4;function K(w,H){return w.msg=d[H],H}function G(w){return(w<<1)-(4<w?9:0)}function Q(w){for(var H=w.length;0<=--H;)w[H]=0}function M(w){var H=w.state,q=H.pending;q>w.avail_out&&(q=w.avail_out),q!==0&&(o.arraySet(w.output,H.pending_buf,H.pending_out,q,w.next_out),w.next_out+=q,H.pending_out+=q,w.total_out+=q,w.avail_out-=q,H.pending-=q,H.pending===0&&(H.pending_out=0))}function k(w,H){s._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,H),w.block_start=w.strstart,M(w.strm)}function at(w,H){w.pending_buf[w.pending++]=H}function Y(w,H){w.pending_buf[w.pending++]=H>>>8&255,w.pending_buf[w.pending++]=255&H}function P(w,H){var q,x,O=w.max_chain_length,U=w.strstart,j=w.prev_length,V=w.nice_match,$=w.strstart>w.w_size-z?w.strstart-(w.w_size-z):0,X=w.window,it=w.w_mask,Z=w.prev,st=w.strstart+I,pt=X[U+j-1],lt=X[U+j];w.prev_length>=w.good_match&&(O>>=2),V>w.lookahead&&(V=w.lookahead);do if(X[(q=H)+j]===lt&&X[q+j-1]===pt&&X[q]===X[U]&&X[++q]===X[U+1]){U+=2,q++;do;while(X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&X[++U]===X[++q]&&U<st);if(x=I-(st-U),U=st-I,j<x){if(w.match_start=H,V<=(j=x))break;pt=X[U+j-1],lt=X[U+j]}}while((H=Z[H&it])>$&&--O!=0);return j<=w.lookahead?j:w.lookahead}function tt(w){var H,q,x,O,U,j,V,$,X,it,Z=w.w_size;do{if(O=w.window_size-w.lookahead-w.strstart,w.strstart>=Z+(Z-z)){for(o.arraySet(w.window,w.window,Z,Z,0),w.match_start-=Z,w.strstart-=Z,w.block_start-=Z,H=q=w.hash_size;x=w.head[--H],w.head[H]=Z<=x?x-Z:0,--q;);for(H=q=Z;x=w.prev[--H],w.prev[H]=Z<=x?x-Z:0,--q;);O+=Z}if(w.strm.avail_in===0)break;if(j=w.strm,V=w.window,$=w.strstart+w.lookahead,X=O,it=void 0,it=j.avail_in,X<it&&(it=X),q=it===0?0:(j.avail_in-=it,o.arraySet(V,j.input,j.next_in,it,$),j.state.wrap===1?j.adler=u(j.adler,V,it,$):j.state.wrap===2&&(j.adler=c(j.adler,V,it,$)),j.next_in+=it,j.total_in+=it,it),w.lookahead+=q,w.lookahead+w.insert>=C)for(U=w.strstart-w.insert,w.ins_h=w.window[U],w.ins_h=(w.ins_h<<w.hash_shift^w.window[U+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[U+C-1])&w.hash_mask,w.prev[U&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=U,U++,w.insert--,!(w.lookahead+w.insert<C)););}while(w.lookahead<z&&w.strm.avail_in!==0)}function et(w,H){for(var q,x;;){if(w.lookahead<z){if(tt(w),w.lookahead<z&&H===h)return E;if(w.lookahead===0)break}if(q=0,w.lookahead>=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),q!==0&&w.strstart-q<=w.w_size-z&&(w.match_length=P(w,q)),w.match_length>=C)if(x=s._tr_tally(w,w.strstart-w.match_start,w.match_length-C),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=C){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else x=s._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(x&&(k(w,!1),w.strm.avail_out===0))return E}return w.insert=w.strstart<C-1?w.strstart:C-1,H===f?(k(w,!0),w.strm.avail_out===0?F:L):w.last_lit&&(k(w,!1),w.strm.avail_out===0)?E:B}function W(w,H){for(var q,x,O;;){if(w.lookahead<z){if(tt(w),w.lookahead<z&&H===h)return E;if(w.lookahead===0)break}if(q=0,w.lookahead>=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=C-1,q!==0&&w.prev_length<w.max_lazy_match&&w.strstart-q<=w.w_size-z&&(w.match_length=P(w,q),w.match_length<=5&&(w.strategy===1||w.match_length===C&&4096<w.strstart-w.match_start)&&(w.match_length=C-1)),w.prev_length>=C&&w.match_length<=w.prev_length){for(O=w.strstart+w.lookahead-C,x=s._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-C),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=C-1,w.strstart++,x&&(k(w,!1),w.strm.avail_out===0))return E}else if(w.match_available){if((x=s._tr_tally(w,0,w.window[w.strstart-1]))&&k(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return E}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(x=s._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<C-1?w.strstart:C-1,H===f?(k(w,!0),w.strm.avail_out===0?F:L):w.last_lit&&(k(w,!1),w.strm.avail_out===0)?E:B}function rt(w,H,q,x,O){this.good_length=w,this.max_lazy=H,this.nice_length=q,this.max_chain=x,this.func=O}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(R+1),this.heap=new o.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function nt(w){var H;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=g,(H=w.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?D:N,w.adler=H.wrap===2?0:1,H.last_flush=h,s._tr_init(H),p):K(w,m)}function ut(w){var H=nt(w);return H===p&&function(q){q.window_size=2*q.w_size,Q(q.head),q.max_lazy_match=a[q.level].max_lazy,q.good_match=a[q.level].good_length,q.nice_match=a[q.level].nice_length,q.max_chain_length=a[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=C-1,q.match_available=0,q.ins_h=0}(w.state),H}function ft(w,H,q,x,O,U){if(!w)return m;var j=1;if(H===l&&(H=6),x<0?(j=0,x=-x):15<x&&(j=2,x-=16),O<1||b<O||q!==v||x<8||15<x||H<0||9<H||U<0||y<U)return K(w,m);x===8&&(x=9);var V=new ot;return(w.state=V).strm=w,V.wrap=j,V.gzhead=null,V.w_bits=x,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=O+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+C-1)/C),V.window=new o.Buf8(2*V.w_size),V.head=new o.Buf16(V.hash_size),V.prev=new o.Buf16(V.w_size),V.lit_bufsize=1<<O+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new o.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=H,V.strategy=U,V.method=q,ut(w)}a=[new rt(0,0,0,0,function(w,H){var q=65535;for(q>w.pending_buf_size-5&&(q=w.pending_buf_size-5);;){if(w.lookahead<=1){if(tt(w),w.lookahead===0&&H===h)return E;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var x=w.block_start+q;if((w.strstart===0||w.strstart>=x)&&(w.lookahead=w.strstart-x,w.strstart=x,k(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-z&&(k(w,!1),w.strm.avail_out===0))return E}return w.insert=0,H===f?(k(w,!0),w.strm.avail_out===0?F:L):(w.strstart>w.block_start&&(k(w,!1),w.strm.avail_out),E)}),new rt(4,4,8,4,et),new rt(4,5,16,8,et),new rt(4,6,32,32,et),new rt(4,4,16,16,W),new rt(8,16,32,32,W),new rt(8,16,128,128,W),new rt(8,32,128,256,W),new rt(32,128,258,1024,W),new rt(32,258,258,4096,W)],i.deflateInit=function(w,H){return ft(w,H,v,15,8,0)},i.deflateInit2=ft,i.deflateReset=ut,i.deflateResetKeep=nt,i.deflateSetHeader=function(w,H){return w&&w.state?w.state.wrap!==2?m:(w.state.gzhead=H,p):m},i.deflate=function(w,H){var q,x,O,U;if(!w||!w.state||5<H||H<0)return w?K(w,m):m;if(x=w.state,!w.output||!w.input&&w.avail_in!==0||x.status===666&&H!==f)return K(w,w.avail_out===0?-5:m);if(x.strm=w,q=x.last_flush,x.last_flush=H,x.status===D)if(x.wrap===2)w.adler=0,at(x,31),at(x,139),at(x,8),x.gzhead?(at(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),at(x,255&x.gzhead.time),at(x,x.gzhead.time>>8&255),at(x,x.gzhead.time>>16&255),at(x,x.gzhead.time>>24&255),at(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),at(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(at(x,255&x.gzhead.extra.length),at(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(w.adler=c(w.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(at(x,0),at(x,0),at(x,0),at(x,0),at(x,0),at(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),at(x,3),x.status=N);else{var j=v+(x.w_bits-8<<4)<<8;j|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(j|=32),j+=31-j%31,x.status=N,Y(x,j),x.strstart!==0&&(Y(x,w.adler>>>16),Y(x,65535&w.adler)),w.adler=1}if(x.status===69)if(x.gzhead.extra){for(O=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),M(w),O=x.pending,x.pending!==x.pending_buf_size));)at(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){O=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),M(w),O=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,at(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),U===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){O=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),M(w),O=x.pending,x.pending===x.pending_buf_size)){U=1;break}U=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,at(x,U)}while(U!==0);x.gzhead.hcrc&&x.pending>O&&(w.adler=c(w.adler,x.pending_buf,x.pending-O,O)),U===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&M(w),x.pending+2<=x.pending_buf_size&&(at(x,255&w.adler),at(x,w.adler>>8&255),w.adler=0,x.status=N)):x.status=N),x.pending!==0){if(M(w),w.avail_out===0)return x.last_flush=-1,p}else if(w.avail_in===0&&G(H)<=G(q)&&H!==f)return K(w,-5);if(x.status===666&&w.avail_in!==0)return K(w,-5);if(w.avail_in!==0||x.lookahead!==0||H!==h&&x.status!==666){var V=x.strategy===2?function($,X){for(var it;;){if($.lookahead===0&&(tt($),$.lookahead===0)){if(X===h)return E;break}if($.match_length=0,it=s._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,it&&(k($,!1),$.strm.avail_out===0))return E}return $.insert=0,X===f?(k($,!0),$.strm.avail_out===0?F:L):$.last_lit&&(k($,!1),$.strm.avail_out===0)?E:B}(x,H):x.strategy===3?function($,X){for(var it,Z,st,pt,lt=$.window;;){if($.lookahead<=I){if(tt($),$.lookahead<=I&&X===h)return E;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=C&&0<$.strstart&&(Z=lt[st=$.strstart-1])===lt[++st]&&Z===lt[++st]&&Z===lt[++st]){pt=$.strstart+I;do;while(Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&Z===lt[++st]&&st<pt);$.match_length=I-(pt-st),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=C?(it=s._tr_tally($,1,$.match_length-C),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(it=s._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),it&&(k($,!1),$.strm.avail_out===0))return E}return $.insert=0,X===f?(k($,!0),$.strm.avail_out===0?F:L):$.last_lit&&(k($,!1),$.strm.avail_out===0)?E:B}(x,H):a[x.level].func(x,H);if(V!==F&&V!==L||(x.status=666),V===E||V===F)return w.avail_out===0&&(x.last_flush=-1),p;if(V===B&&(H===1?s._tr_align(x):H!==5&&(s._tr_stored_block(x,0,0,!1),H===3&&(Q(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),M(w),w.avail_out===0))return x.last_flush=-1,p}return H!==f?p:x.wrap<=0?1:(x.wrap===2?(at(x,255&w.adler),at(x,w.adler>>8&255),at(x,w.adler>>16&255),at(x,w.adler>>24&255),at(x,255&w.total_in),at(x,w.total_in>>8&255),at(x,w.total_in>>16&255),at(x,w.total_in>>24&255)):(Y(x,w.adler>>>16),Y(x,65535&w.adler)),M(w),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?p:1)},i.deflateEnd=function(w){var H;return w&&w.state?(H=w.state.status)!==D&&H!==69&&H!==73&&H!==91&&H!==103&&H!==N&&H!==666?K(w,m):(w.state=null,H===N?K(w,-3):p):m},i.deflateSetDictionary=function(w,H){var q,x,O,U,j,V,$,X,it=H.length;if(!w||!w.state||(U=(q=w.state).wrap)===2||U===1&&q.status!==D||q.lookahead)return m;for(U===1&&(w.adler=u(w.adler,H,it,0)),q.wrap=0,it>=q.w_size&&(U===0&&(Q(q.head),q.strstart=0,q.block_start=0,q.insert=0),X=new o.Buf8(q.w_size),o.arraySet(X,H,it-q.w_size,q.w_size,0),H=X,it=q.w_size),j=w.avail_in,V=w.next_in,$=w.input,w.avail_in=it,w.next_in=0,w.input=H,tt(q);q.lookahead>=C;){for(x=q.strstart,O=q.lookahead-(C-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[x+C-1])&q.hash_mask,q.prev[x&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=x,x++,--O;);q.strstart=x,q.lookahead=C-1,tt(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=C-1,q.match_available=0,w.next_in=V,w.input=$,w.avail_in=j,q.wrap=U,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,u,c,d,h,f,p,m,l,y,g,v,b,A,S,T,_,R,C,I,z,D,N,E,B;s=a.state,u=a.next_in,E=a.input,c=u+(a.avail_in-5),d=a.next_out,B=a.output,h=d-(o-a.avail_out),f=d+(a.avail_out-257),p=s.dmax,m=s.wsize,l=s.whave,y=s.wnext,g=s.window,v=s.hold,b=s.bits,A=s.lencode,S=s.distcode,T=(1<<s.lenbits)-1,_=(1<<s.distbits)-1;t:do{b<15&&(v+=E[u++]<<b,b+=8,v+=E[u++]<<b,b+=8),R=A[v&T];e:for(;;){if(v>>>=C=R>>>24,b-=C,(C=R>>>16&255)===0)B[d++]=65535&R;else{if(!(16&C)){if(!(64&C)){R=A[(65535&R)+(v&(1<<C)-1)];continue e}if(32&C){s.mode=12;break t}a.msg="invalid literal/length code",s.mode=30;break t}I=65535&R,(C&=15)&&(b<C&&(v+=E[u++]<<b,b+=8),I+=v&(1<<C)-1,v>>>=C,b-=C),b<15&&(v+=E[u++]<<b,b+=8,v+=E[u++]<<b,b+=8),R=S[v&_];r:for(;;){if(v>>>=C=R>>>24,b-=C,!(16&(C=R>>>16&255))){if(!(64&C)){R=S[(65535&R)+(v&(1<<C)-1)];continue r}a.msg="invalid distance code",s.mode=30;break t}if(z=65535&R,b<(C&=15)&&(v+=E[u++]<<b,(b+=8)<C&&(v+=E[u++]<<b,b+=8)),p<(z+=v&(1<<C)-1)){a.msg="invalid distance too far back",s.mode=30;break t}if(v>>>=C,b-=C,(C=d-h)<z){if(l<(C=z-C)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break t}if(N=g,(D=0)===y){if(D+=m-C,C<I){for(I-=C;B[d++]=g[D++],--C;);D=d-z,N=B}}else if(y<C){if(D+=m+y-C,(C-=y)<I){for(I-=C;B[d++]=g[D++],--C;);if(D=0,y<I){for(I-=C=y;B[d++]=g[D++],--C;);D=d-z,N=B}}}else if(D+=y-C,C<I){for(I-=C;B[d++]=g[D++],--C;);D=d-z,N=B}for(;2<I;)B[d++]=N[D++],B[d++]=N[D++],B[d++]=N[D++],I-=3;I&&(B[d++]=N[D++],1<I&&(B[d++]=N[D++]))}else{for(D=d-z;B[d++]=B[D++],B[d++]=B[D++],B[d++]=B[D++],2<(I-=3););I&&(B[d++]=B[D++],1<I&&(B[d++]=B[D++]))}break}}break}}while(u<c&&d<f);u-=I=b>>3,v&=(1<<(b-=I<<3))-1,a.next_in=u,a.next_out=d,a.avail_in=u<c?c-u+5:5-(u-c),a.avail_out=d<f?f-d+257:257-(d-f),s.hold=v,s.bits=b}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),u=r("./inffast"),c=r("./inftrees"),d=1,h=2,f=0,p=-2,m=1,l=852,y=592;function g(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(D){var N;return D&&D.state?(N=D.state,D.total_in=D.total_out=N.total=0,D.msg="",N.wrap&&(D.adler=1&N.wrap),N.mode=m,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new a.Buf32(l),N.distcode=N.distdyn=new a.Buf32(y),N.sane=1,N.back=-1,f):p}function A(D){var N;return D&&D.state?((N=D.state).wsize=0,N.whave=0,N.wnext=0,b(D)):p}function S(D,N){var E,B;return D&&D.state?(B=D.state,N<0?(E=0,N=-N):(E=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?p:(B.window!==null&&B.wbits!==N&&(B.window=null),B.wrap=E,B.wbits=N,A(D))):p}function T(D,N){var E,B;return D?(B=new v,(D.state=B).window=null,(E=S(D,N))!==f&&(D.state=null),E):p}var _,R,C=!0;function I(D){if(C){var N;for(_=new a.Buf32(512),R=new a.Buf32(32),N=0;N<144;)D.lens[N++]=8;for(;N<256;)D.lens[N++]=9;for(;N<280;)D.lens[N++]=7;for(;N<288;)D.lens[N++]=8;for(c(d,D.lens,0,288,_,0,D.work,{bits:9}),N=0;N<32;)D.lens[N++]=5;c(h,D.lens,0,32,R,0,D.work,{bits:5}),C=!1}D.lencode=_,D.lenbits=9,D.distcode=R,D.distbits=5}function z(D,N,E,B){var F,L=D.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new a.Buf8(L.wsize)),B>=L.wsize?(a.arraySet(L.window,N,E-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(B<(F=L.wsize-L.wnext)&&(F=B),a.arraySet(L.window,N,E-B,F,L.wnext),(B-=F)?(a.arraySet(L.window,N,E-B,B,0),L.wnext=B,L.whave=L.wsize):(L.wnext+=F,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=F))),0}i.inflateReset=A,i.inflateReset2=S,i.inflateResetKeep=b,i.inflateInit=function(D){return T(D,15)},i.inflateInit2=T,i.inflate=function(D,N){var E,B,F,L,K,G,Q,M,k,at,Y,P,tt,et,W,rt,ot,nt,ut,ft,w,H,q,x,O=0,U=new a.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return p;(E=D.state).mode===12&&(E.mode=13),K=D.next_out,F=D.output,Q=D.avail_out,L=D.next_in,B=D.input,G=D.avail_in,M=E.hold,k=E.bits,at=G,Y=Q,H=f;t:for(;;)switch(E.mode){case m:if(E.wrap===0){E.mode=13;break}for(;k<16;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(2&E.wrap&&M===35615){U[E.check=0]=255&M,U[1]=M>>>8&255,E.check=s(E.check,U,2,0),k=M=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&M)<<8)+(M>>8))%31){D.msg="incorrect header check",E.mode=30;break}if((15&M)!=8){D.msg="unknown compression method",E.mode=30;break}if(k-=4,w=8+(15&(M>>>=4)),E.wbits===0)E.wbits=w;else if(w>E.wbits){D.msg="invalid window size",E.mode=30;break}E.dmax=1<<w,D.adler=E.check=1,E.mode=512&M?10:12,k=M=0;break;case 2:for(;k<16;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(E.flags=M,(255&E.flags)!=8){D.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){D.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=M>>8&1),512&E.flags&&(U[0]=255&M,U[1]=M>>>8&255,E.check=s(E.check,U,2,0)),k=M=0,E.mode=3;case 3:for(;k<32;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.head&&(E.head.time=M),512&E.flags&&(U[0]=255&M,U[1]=M>>>8&255,U[2]=M>>>16&255,U[3]=M>>>24&255,E.check=s(E.check,U,4,0)),k=M=0,E.mode=4;case 4:for(;k<16;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.head&&(E.head.xflags=255&M,E.head.os=M>>8),512&E.flags&&(U[0]=255&M,U[1]=M>>>8&255,E.check=s(E.check,U,2,0)),k=M=0,E.mode=5;case 5:if(1024&E.flags){for(;k<16;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.length=M,E.head&&(E.head.extra_len=M),512&E.flags&&(U[0]=255&M,U[1]=M>>>8&255,E.check=s(E.check,U,2,0)),k=M=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(G<(P=E.length)&&(P=G),P&&(E.head&&(w=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),a.arraySet(E.head.extra,B,L,P,w)),512&E.flags&&(E.check=s(E.check,B,P,L)),G-=P,L+=P,E.length-=P),E.length))break t;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(G===0)break t;for(P=0;w=B[L+P++],E.head&&w&&E.length<65536&&(E.head.name+=String.fromCharCode(w)),w&&P<G;);if(512&E.flags&&(E.check=s(E.check,B,P,L)),G-=P,L+=P,w)break t}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(G===0)break t;for(P=0;w=B[L+P++],E.head&&w&&E.length<65536&&(E.head.comment+=String.fromCharCode(w)),w&&P<G;);if(512&E.flags&&(E.check=s(E.check,B,P,L)),G-=P,L+=P,w)break t}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;k<16;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(M!==(65535&E.check)){D.msg="header crc mismatch",E.mode=30;break}k=M=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),D.adler=E.check=0,E.mode=12;break;case 10:for(;k<32;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}D.adler=E.check=g(M),k=M=0,E.mode=11;case 11:if(E.havedict===0)return D.next_out=K,D.avail_out=Q,D.next_in=L,D.avail_in=G,E.hold=M,E.bits=k,2;D.adler=E.check=1,E.mode=12;case 12:if(N===5||N===6)break t;case 13:if(E.last){M>>>=7&k,k-=7&k,E.mode=27;break}for(;k<3;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}switch(E.last=1&M,k-=1,3&(M>>>=1)){case 0:E.mode=14;break;case 1:if(I(E),E.mode=20,N!==6)break;M>>>=2,k-=2;break t;case 2:E.mode=17;break;case 3:D.msg="invalid block type",E.mode=30}M>>>=2,k-=2;break;case 14:for(M>>>=7&k,k-=7&k;k<32;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if((65535&M)!=(M>>>16^65535)){D.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&M,k=M=0,E.mode=15,N===6)break t;case 15:E.mode=16;case 16:if(P=E.length){if(G<P&&(P=G),Q<P&&(P=Q),P===0)break t;a.arraySet(F,B,L,P,K),G-=P,L+=P,Q-=P,K+=P,E.length-=P;break}E.mode=12;break;case 17:for(;k<14;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(E.nlen=257+(31&M),M>>>=5,k-=5,E.ndist=1+(31&M),M>>>=5,k-=5,E.ncode=4+(15&M),M>>>=4,k-=4,286<E.nlen||30<E.ndist){D.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;k<3;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.lens[j[E.have++]]=7&M,M>>>=3,k-=3}for(;E.have<19;)E.lens[j[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,q={bits:E.lenbits},H=c(0,E.lens,0,19,E.lencode,0,E.work,q),E.lenbits=q.bits,H){D.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;rt=(O=E.lencode[M&(1<<E.lenbits)-1])>>>16&255,ot=65535&O,!((W=O>>>24)<=k);){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(ot<16)M>>>=W,k-=W,E.lens[E.have++]=ot;else{if(ot===16){for(x=W+2;k<x;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(M>>>=W,k-=W,E.have===0){D.msg="invalid bit length repeat",E.mode=30;break}w=E.lens[E.have-1],P=3+(3&M),M>>>=2,k-=2}else if(ot===17){for(x=W+3;k<x;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}k-=W,w=0,P=3+(7&(M>>>=W)),M>>>=3,k-=3}else{for(x=W+7;k<x;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}k-=W,w=0,P=11+(127&(M>>>=W)),M>>>=7,k-=7}if(E.have+P>E.nlen+E.ndist){D.msg="invalid bit length repeat",E.mode=30;break}for(;P--;)E.lens[E.have++]=w}}if(E.mode===30)break;if(E.lens[256]===0){D.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,q={bits:E.lenbits},H=c(d,E.lens,0,E.nlen,E.lencode,0,E.work,q),E.lenbits=q.bits,H){D.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,q={bits:E.distbits},H=c(h,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,q),E.distbits=q.bits,H){D.msg="invalid distances set",E.mode=30;break}if(E.mode=20,N===6)break t;case 20:E.mode=21;case 21:if(6<=G&&258<=Q){D.next_out=K,D.avail_out=Q,D.next_in=L,D.avail_in=G,E.hold=M,E.bits=k,u(D,Y),K=D.next_out,F=D.output,Q=D.avail_out,L=D.next_in,B=D.input,G=D.avail_in,M=E.hold,k=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;rt=(O=E.lencode[M&(1<<E.lenbits)-1])>>>16&255,ot=65535&O,!((W=O>>>24)<=k);){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(rt&&!(240&rt)){for(nt=W,ut=rt,ft=ot;rt=(O=E.lencode[ft+((M&(1<<nt+ut)-1)>>nt)])>>>16&255,ot=65535&O,!(nt+(W=O>>>24)<=k);){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}M>>>=nt,k-=nt,E.back+=nt}if(M>>>=W,k-=W,E.back+=W,E.length=ot,rt===0){E.mode=26;break}if(32&rt){E.back=-1,E.mode=12;break}if(64&rt){D.msg="invalid literal/length code",E.mode=30;break}E.extra=15&rt,E.mode=22;case 22:if(E.extra){for(x=E.extra;k<x;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.length+=M&(1<<E.extra)-1,M>>>=E.extra,k-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;rt=(O=E.distcode[M&(1<<E.distbits)-1])>>>16&255,ot=65535&O,!((W=O>>>24)<=k);){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(!(240&rt)){for(nt=W,ut=rt,ft=ot;rt=(O=E.distcode[ft+((M&(1<<nt+ut)-1)>>nt)])>>>16&255,ot=65535&O,!(nt+(W=O>>>24)<=k);){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}M>>>=nt,k-=nt,E.back+=nt}if(M>>>=W,k-=W,E.back+=W,64&rt){D.msg="invalid distance code",E.mode=30;break}E.offset=ot,E.extra=15&rt,E.mode=24;case 24:if(E.extra){for(x=E.extra;k<x;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}E.offset+=M&(1<<E.extra)-1,M>>>=E.extra,k-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){D.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(Q===0)break t;if(P=Y-Q,E.offset>P){if((P=E.offset-P)>E.whave&&E.sane){D.msg="invalid distance too far back",E.mode=30;break}tt=P>E.wnext?(P-=E.wnext,E.wsize-P):E.wnext-P,P>E.length&&(P=E.length),et=E.window}else et=F,tt=K-E.offset,P=E.length;for(Q<P&&(P=Q),Q-=P,E.length-=P;F[K++]=et[tt++],--P;);E.length===0&&(E.mode=21);break;case 26:if(Q===0)break t;F[K++]=E.length,Q--,E.mode=21;break;case 27:if(E.wrap){for(;k<32;){if(G===0)break t;G--,M|=B[L++]<<k,k+=8}if(Y-=Q,D.total_out+=Y,E.total+=Y,Y&&(D.adler=E.check=E.flags?s(E.check,F,Y,K-Y):o(E.check,F,Y,K-Y)),Y=Q,(E.flags?M:g(M))!==E.check){D.msg="incorrect data check",E.mode=30;break}k=M=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;k<32;){if(G===0)break t;G--,M+=B[L++]<<k,k+=8}if(M!==(4294967295&E.total)){D.msg="incorrect length check",E.mode=30;break}k=M=0}E.mode=29;case 29:H=1;break t;case 30:H=-3;break t;case 31:return-4;case 32:default:return p}return D.next_out=K,D.avail_out=Q,D.next_in=L,D.avail_in=G,E.hold=M,E.bits=k,(E.wsize||Y!==D.avail_out&&E.mode<30&&(E.mode<27||N!==4))&&z(D,D.output,D.next_out,Y-D.avail_out)?(E.mode=31,-4):(at-=D.avail_in,Y-=D.avail_out,D.total_in+=at,D.total_out+=Y,E.total+=Y,E.wrap&&Y&&(D.adler=E.check=E.flags?s(E.check,F,Y,D.next_out-Y):o(E.check,F,Y,D.next_out-Y)),D.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(at==0&&Y===0||N===4)&&H===f&&(H=-5),H)},i.inflateEnd=function(D){if(!D||!D.state)return p;var N=D.state;return N.window&&(N.window=null),D.state=null,f},i.inflateGetHeader=function(D,N){var E;return D&&D.state&&2&(E=D.state).wrap?((E.head=N).done=!1,f):p},i.inflateSetDictionary=function(D,N){var E,B=N.length;return D&&D.state?(E=D.state).wrap!==0&&E.mode!==11?p:E.mode===11&&o(1,N,B,0)!==E.check?-3:z(D,N,B,B)?(E.mode=31,-4):(E.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,f,p,m,l,y,g){var v,b,A,S,T,_,R,C,I,z=g.bits,D=0,N=0,E=0,B=0,F=0,L=0,K=0,G=0,Q=0,M=0,k=null,at=0,Y=new a.Buf16(16),P=new a.Buf16(16),tt=null,et=0;for(D=0;D<=15;D++)Y[D]=0;for(N=0;N<p;N++)Y[h[f+N]]++;for(F=z,B=15;1<=B&&Y[B]===0;B--);if(B<F&&(F=B),B===0)return m[l++]=20971520,m[l++]=20971520,g.bits=1,0;for(E=1;E<B&&Y[E]===0;E++);for(F<E&&(F=E),D=G=1;D<=15;D++)if(G<<=1,(G-=Y[D])<0)return-1;if(0<G&&(d===0||B!==1))return-1;for(P[1]=0,D=1;D<15;D++)P[D+1]=P[D]+Y[D];for(N=0;N<p;N++)h[f+N]!==0&&(y[P[h[f+N]]++]=N);if(_=d===0?(k=tt=y,19):d===1?(k=o,at-=257,tt=s,et-=257,256):(k=u,tt=c,-1),D=E,T=l,K=N=M=0,A=-1,S=(Q=1<<(L=F))-1,d===1&&852<Q||d===2&&592<Q)return 1;for(;;){for(R=D-K,I=y[N]<_?(C=0,y[N]):y[N]>_?(C=tt[et+y[N]],k[at+y[N]]):(C=96,0),v=1<<D-K,E=b=1<<L;m[T+(M>>K)+(b-=v)]=R<<24|C<<16|I|0,b!==0;);for(v=1<<D-1;M&v;)v>>=1;if(v!==0?(M&=v-1,M+=v):M=0,N++,--Y[D]==0){if(D===B)break;D=h[f+y[N]]}if(F<D&&(M&S)!==A){for(K===0&&(K=F),T+=E,G=1<<(L=D-K);L+K<B&&!((G-=Y[L+K])<=0);)L++,G<<=1;if(Q+=1<<L,d===1&&852<Q||d===2&&592<Q)return 1;m[A=M&S]=F<<24|L<<16|T-l|0}}return M!==0&&(m[T+M]=D-K<<24|64<<16|0),g.bits=F,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function u(O){for(var U=O.length;0<=--U;)O[U]=0}var c=0,d=29,h=256,f=h+1+d,p=30,m=19,l=2*f+1,y=15,g=16,v=7,b=256,A=16,S=17,T=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(f+2));u(z);var D=new Array(2*p);u(D);var N=new Array(512);u(N);var E=new Array(256);u(E);var B=new Array(d);u(B);var F,L,K,G=new Array(p);function Q(O,U,j,V,$){this.static_tree=O,this.extra_bits=U,this.extra_base=j,this.elems=V,this.max_length=$,this.has_stree=O&&O.length}function M(O,U){this.dyn_tree=O,this.max_code=0,this.stat_desc=U}function k(O){return O<256?N[O]:N[256+(O>>>7)]}function at(O,U){O.pending_buf[O.pending++]=255&U,O.pending_buf[O.pending++]=U>>>8&255}function Y(O,U,j){O.bi_valid>g-j?(O.bi_buf|=U<<O.bi_valid&65535,at(O,O.bi_buf),O.bi_buf=U>>g-O.bi_valid,O.bi_valid+=j-g):(O.bi_buf|=U<<O.bi_valid&65535,O.bi_valid+=j)}function P(O,U,j){Y(O,j[2*U],j[2*U+1])}function tt(O,U){for(var j=0;j|=1&O,O>>>=1,j<<=1,0<--U;);return j>>>1}function et(O,U,j){var V,$,X=new Array(y+1),it=0;for(V=1;V<=y;V++)X[V]=it=it+j[V-1]<<1;for($=0;$<=U;$++){var Z=O[2*$+1];Z!==0&&(O[2*$]=tt(X[Z]++,Z))}}function W(O){var U;for(U=0;U<f;U++)O.dyn_ltree[2*U]=0;for(U=0;U<p;U++)O.dyn_dtree[2*U]=0;for(U=0;U<m;U++)O.bl_tree[2*U]=0;O.dyn_ltree[2*b]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function rt(O){8<O.bi_valid?at(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function ot(O,U,j,V){var $=2*U,X=2*j;return O[$]<O[X]||O[$]===O[X]&&V[U]<=V[j]}function nt(O,U,j){for(var V=O.heap[j],$=j<<1;$<=O.heap_len&&($<O.heap_len&&ot(U,O.heap[$+1],O.heap[$],O.depth)&&$++,!ot(U,V,O.heap[$],O.depth));)O.heap[j]=O.heap[$],j=$,$<<=1;O.heap[j]=V}function ut(O,U,j){var V,$,X,it,Z=0;if(O.last_lit!==0)for(;V=O.pending_buf[O.d_buf+2*Z]<<8|O.pending_buf[O.d_buf+2*Z+1],$=O.pending_buf[O.l_buf+Z],Z++,V===0?P(O,$,U):(P(O,(X=E[$])+h+1,U),(it=_[X])!==0&&Y(O,$-=B[X],it),P(O,X=k(--V),j),(it=R[X])!==0&&Y(O,V-=G[X],it)),Z<O.last_lit;);P(O,b,U)}function ft(O,U){var j,V,$,X=U.dyn_tree,it=U.stat_desc.static_tree,Z=U.stat_desc.has_stree,st=U.stat_desc.elems,pt=-1;for(O.heap_len=0,O.heap_max=l,j=0;j<st;j++)X[2*j]!==0?(O.heap[++O.heap_len]=pt=j,O.depth[j]=0):X[2*j+1]=0;for(;O.heap_len<2;)X[2*($=O.heap[++O.heap_len]=pt<2?++pt:0)]=1,O.depth[$]=0,O.opt_len--,Z&&(O.static_len-=it[2*$+1]);for(U.max_code=pt,j=O.heap_len>>1;1<=j;j--)nt(O,X,j);for($=st;j=O.heap[1],O.heap[1]=O.heap[O.heap_len--],nt(O,X,1),V=O.heap[1],O.heap[--O.heap_max]=j,O.heap[--O.heap_max]=V,X[2*$]=X[2*j]+X[2*V],O.depth[$]=(O.depth[j]>=O.depth[V]?O.depth[j]:O.depth[V])+1,X[2*j+1]=X[2*V+1]=$,O.heap[1]=$++,nt(O,X,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(lt,Mt){var or,Xt,sr,bt,Zr,Rn,ie=Mt.dyn_tree,ta=Mt.max_code,Js=Mt.stat_desc.static_tree,Qs=Mt.stat_desc.has_stree,tu=Mt.stat_desc.extra_bits,ea=Mt.stat_desc.extra_base,ur=Mt.stat_desc.max_length,Kr=0;for(bt=0;bt<=y;bt++)lt.bl_count[bt]=0;for(ie[2*lt.heap[lt.heap_max]+1]=0,or=lt.heap_max+1;or<l;or++)ur<(bt=ie[2*ie[2*(Xt=lt.heap[or])+1]+1]+1)&&(bt=ur,Kr++),ie[2*Xt+1]=bt,ta<Xt||(lt.bl_count[bt]++,Zr=0,ea<=Xt&&(Zr=tu[Xt-ea]),Rn=ie[2*Xt],lt.opt_len+=Rn*(bt+Zr),Qs&&(lt.static_len+=Rn*(Js[2*Xt+1]+Zr)));if(Kr!==0){do{for(bt=ur-1;lt.bl_count[bt]===0;)bt--;lt.bl_count[bt]--,lt.bl_count[bt+1]+=2,lt.bl_count[ur]--,Kr-=2}while(0<Kr);for(bt=ur;bt!==0;bt--)for(Xt=lt.bl_count[bt];Xt!==0;)ta<(sr=lt.heap[--or])||(ie[2*sr+1]!==bt&&(lt.opt_len+=(bt-ie[2*sr+1])*ie[2*sr],ie[2*sr+1]=bt),Xt--)}}(O,U),et(X,pt,O.bl_count)}function w(O,U,j){var V,$,X=-1,it=U[1],Z=0,st=7,pt=4;for(it===0&&(st=138,pt=3),U[2*(j+1)+1]=65535,V=0;V<=j;V++)$=it,it=U[2*(V+1)+1],++Z<st&&$===it||(Z<pt?O.bl_tree[2*$]+=Z:$!==0?($!==X&&O.bl_tree[2*$]++,O.bl_tree[2*A]++):Z<=10?O.bl_tree[2*S]++:O.bl_tree[2*T]++,X=$,pt=(Z=0)===it?(st=138,3):$===it?(st=6,3):(st=7,4))}function H(O,U,j){var V,$,X=-1,it=U[1],Z=0,st=7,pt=4;for(it===0&&(st=138,pt=3),V=0;V<=j;V++)if($=it,it=U[2*(V+1)+1],!(++Z<st&&$===it)){if(Z<pt)for(;P(O,$,O.bl_tree),--Z!=0;);else $!==0?($!==X&&(P(O,$,O.bl_tree),Z--),P(O,A,O.bl_tree),Y(O,Z-3,2)):Z<=10?(P(O,S,O.bl_tree),Y(O,Z-3,3)):(P(O,T,O.bl_tree),Y(O,Z-11,7));X=$,pt=(Z=0)===it?(st=138,3):$===it?(st=6,3):(st=7,4)}}u(G);var q=!1;function x(O,U,j,V){Y(O,(c<<1)+(V?1:0),3),function($,X,it,Z){rt($),at($,it),at($,~it),a.arraySet($.pending_buf,$.window,X,it,$.pending),$.pending+=it}(O,U,j)}i._tr_init=function(O){q||(function(){var U,j,V,$,X,it=new Array(y+1);for($=V=0;$<d-1;$++)for(B[$]=V,U=0;U<1<<_[$];U++)E[V++]=$;for(E[V-1]=$,$=X=0;$<16;$++)for(G[$]=X,U=0;U<1<<R[$];U++)N[X++]=$;for(X>>=7;$<p;$++)for(G[$]=X<<7,U=0;U<1<<R[$]-7;U++)N[256+X++]=$;for(j=0;j<=y;j++)it[j]=0;for(U=0;U<=143;)z[2*U+1]=8,U++,it[8]++;for(;U<=255;)z[2*U+1]=9,U++,it[9]++;for(;U<=279;)z[2*U+1]=7,U++,it[7]++;for(;U<=287;)z[2*U+1]=8,U++,it[8]++;for(et(z,f+1,it),U=0;U<p;U++)D[2*U+1]=5,D[2*U]=tt(U,5);F=new Q(z,_,h+1,f,y),L=new Q(D,R,0,p,y),K=new Q(new Array(0),C,0,m,v)}(),q=!0),O.l_desc=new M(O.dyn_ltree,F),O.d_desc=new M(O.dyn_dtree,L),O.bl_desc=new M(O.bl_tree,K),O.bi_buf=0,O.bi_valid=0,W(O)},i._tr_stored_block=x,i._tr_flush_block=function(O,U,j,V){var $,X,it=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(Z){var st,pt=4093624447;for(st=0;st<=31;st++,pt>>>=1)if(1&pt&&Z.dyn_ltree[2*st]!==0)return o;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return s;for(st=32;st<h;st++)if(Z.dyn_ltree[2*st]!==0)return s;return o}(O)),ft(O,O.l_desc),ft(O,O.d_desc),it=function(Z){var st;for(w(Z,Z.dyn_ltree,Z.l_desc.max_code),w(Z,Z.dyn_dtree,Z.d_desc.max_code),ft(Z,Z.bl_desc),st=m-1;3<=st&&Z.bl_tree[2*I[st]+1]===0;st--);return Z.opt_len+=3*(st+1)+5+5+4,st}(O),$=O.opt_len+3+7>>>3,(X=O.static_len+3+7>>>3)<=$&&($=X)):$=X=j+5,j+4<=$&&U!==-1?x(O,U,j,V):O.strategy===4||X===$?(Y(O,2+(V?1:0),3),ut(O,z,D)):(Y(O,4+(V?1:0),3),function(Z,st,pt,lt){var Mt;for(Y(Z,st-257,5),Y(Z,pt-1,5),Y(Z,lt-4,4),Mt=0;Mt<lt;Mt++)Y(Z,Z.bl_tree[2*I[Mt]+1],3);H(Z,Z.dyn_ltree,st-1),H(Z,Z.dyn_dtree,pt-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,it+1),ut(O,O.dyn_ltree,O.dyn_dtree)),W(O),V&&rt(O)},i._tr_tally=function(O,U,j){return O.pending_buf[O.d_buf+2*O.last_lit]=U>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&U,O.pending_buf[O.l_buf+O.last_lit]=255&j,O.last_lit++,U===0?O.dyn_ltree[2*j]++:(O.matches++,U--,O.dyn_ltree[2*(E[j]+h+1)]++,O.dyn_dtree[2*k(U)]++),O.last_lit===O.lit_bufsize-1},i._tr_align=function(O){Y(O,2,3),P(O,b,z),function(U){U.bi_valid===16?(at(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var u,c,d,h,f=1,p={},m=!1,l=o.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(o);y=y&&y.setTimeout?y:o,u={}.toString.call(o.process)==="[object process]"?function(A){process.nextTick(function(){v(A)})}:function(){if(o.postMessage&&!o.importScripts){var A=!0,S=o.onmessage;return o.onmessage=function(){A=!1},o.postMessage("","*"),o.onmessage=S,A}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(A){o.postMessage(h+A,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){v(A.data)},function(A){d.port2.postMessage(A)}):l&&"onreadystatechange"in l.createElement("script")?(c=l.documentElement,function(A){var S=l.createElement("script");S.onreadystatechange=function(){v(A),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(A){setTimeout(v,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var _={callback:A,args:S};return p[f]=_,u(f),f++},y.clearImmediate=g}function g(A){delete p[A]}function v(A){if(m)setTimeout(v,0,A);else{var S=p[A];if(S){m=!0;try{(function(T){var _=T.callback,R=T.args;switch(R.length){case 0:_();break;case 1:_(R[0]);break;case 2:_(R[0],R[1]);break;case 3:_(R[0],R[1],R[2]);break;default:_.apply(s,R)}})(S)}finally{g(A),m=!1}}}}function b(A){A.source===o&&typeof A.data=="string"&&A.data.indexOf(h)===0&&v(+A.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Go);var Fc=Go.exports;const en=mi(Fc);var Ho={exports:{}};(function(t,e){(function(r,n){n()})(Ct,function(){function r(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,d,h){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){u(f.response,d,h)},f.onerror=function(){console.error("could not download file")},f.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ct=="object"&&Ct.global===Ct?Ct:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,d,h){var f=o.URL||o.webkitURL,p=document.createElement("a");d=d||c.name||"download",p.download=d,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?a(p):i(p.href)?n(c,d,h):a(p,p.target="_blank")):(p.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,h){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),d);else if(i(c))n(c,d,h);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){a(f)})}}:function(c,d,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return n(c,d,h);var p=c.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||p&&m||s)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var b=y.result;b=l?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=b:location=b,f=null},y.readAsDataURL(c)}else{var g=o.URL||o.webkitURL,v=g.createObjectURL(c);f?f.location=v:location.href=v,f=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})})(Ho);var Nn=Ho.exports,Ci={},cr={},fr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.ValidationError=void 0;class kc extends Error{constructor(e){super(e),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(e){return new this(e)}}zr.ValidationError=kc;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.PromisePoolError=void 0;class Lc extends Error{constructor(e,r){super(),this.raw=e,this.item=r,this.name=this.constructor.name,this.message=this.messageFrom(e),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(e,r){return new this(e,r)}messageFrom(e){return e instanceof Error||typeof e=="object"?e.message:typeof e=="string"||typeof e=="number"?e.toString():""}}$r.PromisePoolError=Lc;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.StopThePromisePoolError=void 0;class Uc extends Error{}qr.StopThePromisePoolError=Uc;var ga;function Mc(){if(ga)return fr;ga=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.PromisePoolExecutor=void 0;const t=ti(),e=zr,r=$r,n=qr;class i{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=o=>o,this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(o){if(!this.isValidConcurrency(o))throw e.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${o}" (${typeof o})`);return this.meta.concurrency=o,this}isValidConcurrency(o){return typeof o=="number"&&o>=1}withTaskTimeout(o){return this.meta.taskTimeout=o,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(o){return this.meta.shouldResultsCorrespond=o,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(o){return this.meta.items=o,this}items(){return this.meta.items}itemsCount(){const o=this.items();return Array.isArray(o)?o.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(o){return this.handler=o,this}hasErrorHandler(){return!!this.errorHandler}handleError(o){return this.errorHandler=o,this}onTaskStarted(o){return this.onTaskStartedHandlers=o,this}onTaskFinished(o){return this.onTaskFinishedHandlers=o,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new n.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw e.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const o=this.taskTimeout();if(!(o==null||typeof o=="number"&&o>=0))throw e.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(o)}" (${typeof o})`);if(!this.areItemsValid())throw e.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw e.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(s=>{if(s&&typeof s!="function")throw e.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof s}"`)}),this.onTaskFinishedHandlers.forEach(s=>{if(s&&typeof s!="function")throw e.ValidationError.createFrom(`The error handler must be a function. Received "${typeof s}"`)}),this}areItemsValid(){const o=this.items();return!!(Array.isArray(o)||typeof o[Symbol.iterator]=="function"||typeof o[Symbol.asyncIterator]=="function")}prepareResultsArray(){const o=this.items();return Array.isArray(o)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(o.length).fill(t.PromisePool.notRun),this):this:this}async process(){let o=0;for await(const s of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[o]=t.PromisePool.notRun),this.startProcessing(s,o),o+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(o,s){const u=this.createTaskFor(o,s).then(c=>{this.save(c,s).removeActive(u)}).catch(async c=>{await this.handleErrorFor(c,o,s),this.removeActive(u)}).finally(()=>{this.processedItems().push(o),this.runOnTaskFinishedHandlers(o)});this.tasks().push(u),this.runOnTaskStartedHandlers(o)}async createTaskFor(o,s){if(this.taskTimeout()===void 0)return this.handler(o,s,this);const[u,c]=this.createTaskTimeout(o);return Promise.race([this.handler(o,s,this),u()]).finally(c)}createTaskTimeout(o){let s;return[async()=>new Promise((d,h)=>{s=setTimeout(()=>{h(new r.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,o))},this.taskTimeout())}),()=>clearTimeout(s)]}save(o,s){return this.shouldUseCorrespondingResults()?this.results()[s]=o:this.results().push(o),this}removeActive(o){return this.tasks().splice(this.tasks().indexOf(o),1),this}async handleErrorFor(o,s,u){if(this.shouldUseCorrespondingResults()&&(this.results()[u]=t.PromisePool.failed),!this.isStoppingThePoolError(o)){if(this.isValidationError(o))throw this.markAsStopped(),o;this.hasErrorHandler()?await this.runErrorHandlerFor(o,s):this.saveErrorFor(o,s)}}isStoppingThePoolError(o){return o instanceof n.StopThePromisePoolError}isValidationError(o){return o instanceof e.ValidationError}async runErrorHandlerFor(o,s){var u;try{await((u=this.errorHandler)==null?void 0:u.call(this,o,s,this))}catch(c){this.rethrowIfNotStoppingThePool(c)}}runOnTaskStartedHandlers(o){this.onTaskStartedHandlers.forEach(s=>{s(o,this)})}runOnTaskFinishedHandlers(o){this.onTaskFinishedHandlers.forEach(s=>{s(o,this)})}rethrowIfNotStoppingThePool(o){if(!this.isStoppingThePoolError(o))throw o}saveErrorFor(o,s){this.errors().push(r.PromisePoolError.createFrom(o,s))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}return fr.PromisePoolExecutor=i,fr}var ya;function ti(){if(ya)return cr;ya=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.PromisePool=void 0;const t=Mc();class e{constructor(n){this.timeout=void 0,this.concurrency=10,this.items=n??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(n){return this.concurrency=n,this}static withConcurrency(n){return new this().withConcurrency(n)}withTaskTimeout(n){return this.timeout=n,this}static withTaskTimeout(n){return new this().withTaskTimeout(n)}for(n){const i=new e(n).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&i.handleError(this.errorHandler),typeof this.timeout=="number"?i.withTaskTimeout(this.timeout):i}static for(n){return new this().for(n)}handleError(n){return this.errorHandler=n,this}onTaskStarted(n){return this.onTaskStartedHandlers.push(n),this}onTaskFinished(n){return this.onTaskFinishedHandlers.push(n),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(n){return new t.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(n).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}return cr.PromisePool=e,e.notRun=Symbol("notRun"),e.failed=Symbol("failed"),cr}var jo={};Object.defineProperty(jo,"__esModule",{value:!0});var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});(function(t){var e=Ct&&Ct.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(a,o);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,u)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ct&&Ct.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0});const n=ti();t.default=n.PromisePool,r(jo,t),r(ti(),t),r($r,t),r(Vo,t),r(qr,t),r(zr,t)})(Ci);var Oi=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var a=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(a,1),a>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var a=i.length,o=0;o<a;++o)i[o].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),u=i.length,c=0;c<u;++c)i[c].apply(this,s)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}();function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ge.apply(null,arguments)}var yr;typeof window<"u"?yr=window:typeof Ct<"u"?yr=Ct:typeof self<"u"?yr=self:yr={};var zc=yr;const mt=mi(zc);var $c=function(e){return mt.atob?mt.atob(e):Buffer.from(e,"base64").toString("binary")};function qc(t){for(var e=$c(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class Gc extends Oi{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const Hc="	",Pn=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},jc=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Nt=function(t){const e={};if(!t)return e;const r=t.split(jc());let n=r.length,i;for(;n--;)r[n]!==""&&(i=/([^=]*)=(.*)/.exec(r[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},va=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class Vc extends Oi{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((a,o)=>{const s=o(e);return s===e?a:a.concat([s])},[e]).forEach(a=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,a))return;if(a.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:a.slice(1)});return}if(a=a.replace("\r",""),r=/^#EXTM3U/.exec(a),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(a),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(a),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(a),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(a),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(a),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(a),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(a),r){n=Ge(Pn(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(a),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(a),r){if(n={type:"tag",tagType:"map"},r[1]){const o=Nt(r[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=Pn(o.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(a),r){n={type:"tag",tagType:"stream-inf"},r[1]&&(n.attributes=Nt(r[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=va(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(a),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=Nt(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(a),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(a),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(a),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(a),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=Nt(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(a),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=Nt(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(a),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(a),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=Nt(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(Hc)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=Nt(r[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=Pn(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=Nt(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Nt(r[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Nt(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const s=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[s]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Nt(r[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(a),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=Nt(r[1]),["ID","CLASS"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=String(n.attributes[s]))}),["START-DATE","END-DATE"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=new Date(n.attributes[s]))}),["DURATION","PLANNED-DURATION"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["END-ON-NEXT"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/i.test(n.attributes[s]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=n.attributes[s].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const s in n.attributes){if(!o.test(s))continue;const u=/[0-9A-Fa-f]{6}/g.test(n.attributes[s]),c=/^\d+(\.\d+)?$/.test(n.attributes[s]);n.attributes[s]=u?n.attributes[s].toString(16):c?parseFloat(n.attributes[s]):String(n.attributes[s])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(a),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(a),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(a),r){n={type:"tag",tagType:"content-steering"},n.attributes=Nt(r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(a),r){n={type:"tag",tagType:"i-frame-playlist"},n.attributes=Nt(r[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=va(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),this.trigger("data",n);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(a),r){n={type:"tag",tagType:"define"},n.attributes=Nt(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:a.slice(4)})})}addParser({expression:e,customType:r,dataParser:n,segment:i}){typeof n!="function"&&(n=a=>a),this.customParsers.push(a=>{if(e.exec(a))return this.trigger("data",{type:"custom",data:n(a),customType:r,segment:i}),!0})}addTagMapper({expression:e,map:r}){const n=i=>e.test(i)?r(i):i;this.tagMappers.push(n)}}const Wc=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),pe=function(t){const e={};return Object.keys(t).forEach(function(r){e[Wc(r)]=t[r]}),e},Bn=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:n}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",s=r&&r*3,u=n&&n*2;r&&!e.hasOwnProperty(a)&&(e[a]=s,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${s}).`})),s&&e[a]<s&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[a]}) to targetDuration * 3 (${s})`}),e[a]=s),n&&!e.hasOwnProperty(o)&&(e[o]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),n&&e[o]<u&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${u}).`}),e[o]=u)};class Xc extends Oi{constructor(e={}){super(),this.lineStream=new Gc,this.parseStream=new Vc,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,n=[];let i={},a,o,s=!1;const u=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let h=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,p=0;const m={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&a&&(i.map=a),!i.key&&o&&(i.key=o),!i.timeline&&typeof h=="number"&&(i.timeline=h),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(l){let y,g;if(r.manifest.definitions){for(const v in r.manifest.definitions)if(l.uri&&(l.uri=l.uri.replace(`{$${v}}`,r.manifest.definitions[v])),l.attributes)for(const b in l.attributes)typeof l.attributes[b]=="string"&&(l.attributes[b]=l.attributes[b].replace(`{$${v}}`,r.manifest.definitions[v]))}({tag(){({version(){l.version&&(this.manifest.version=l.version)},"allow-cache"(){this.manifest.allowCache=l.allowed,"allowed"in l||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in l&&(i.byterange=v,v.length=l.length,"offset"in l||(l.offset=f)),"offset"in l&&(i.byterange=v,v.offset=l.offset),f=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),l.title&&(i.title=l.title),l.duration>0&&(i.duration=l.duration),l.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!l.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(l.attributes.METHOD==="NONE"){o=null;return}if(!l.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(l.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:l.attributes};return}if(l.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:l.attributes.URI};return}if(l.attributes.KEYFORMAT===d){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(l.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(l.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),l.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(l.attributes.KEYID&&l.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:l.attributes.KEYFORMAT,keyId:l.attributes.KEYID.substring(2)},pssh:qc(l.attributes.URI.split(",")[1])};return}l.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:l.attributes.METHOD||"AES-128",uri:l.attributes.URI},typeof l.attributes.IV<"u"&&(o.iv=l.attributes.IV)},"media-sequence"(){if(!isFinite(l.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+l.number});return}this.manifest.mediaSequence=l.number},"discontinuity-sequence"(){if(!isFinite(l.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+l.number});return}this.manifest.discontinuitySequence=l.number,h=l.number},"playlist-type"(){if(!/VOD|EVENT/.test(l.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+l.playlist});return}this.manifest.playlistType=l.playlistType},map(){a={},l.uri&&(a.uri=l.uri),l.byterange&&(a.byterange=l.byterange),o&&(a.key=o)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!l.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Ge(i.attributes,l.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(l.attributes&&l.attributes.TYPE&&l.attributes["GROUP-ID"]&&l.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[l.attributes.TYPE];v[l.attributes["GROUP-ID"]]=v[l.attributes["GROUP-ID"]]||{},y=v[l.attributes["GROUP-ID"]],g={default:/yes/i.test(l.attributes.DEFAULT)},g.default?g.autoselect=!0:g.autoselect=/yes/i.test(l.attributes.AUTOSELECT),l.attributes.LANGUAGE&&(g.language=l.attributes.LANGUAGE),l.attributes.URI&&(g.uri=l.attributes.URI),l.attributes["INSTREAM-ID"]&&(g.instreamId=l.attributes["INSTREAM-ID"]),l.attributes.CHARACTERISTICS&&(g.characteristics=l.attributes.CHARACTERISTICS),l.attributes.FORCED&&(g.forced=/yes/i.test(l.attributes.FORCED)),y[l.attributes.NAME]=g},discontinuity(){h+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=l.dateTimeString,this.manifest.dateTimeObject=l.dateTimeObject),i.dateTimeString=l.dateTimeString,i.dateTimeObject=l.dateTimeObject;const{lastProgramDateTime:v}=this;this.lastProgramDateTime=new Date(l.dateTimeString).getTime(),v===null&&this.manifest.segments.reduceRight((b,A)=>(A.programDateTime=b-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(l.duration)||l.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+l.duration});return}this.manifest.targetDuration=l.duration,Bn.call(this,this.manifest)},start(){if(!l.attributes||isNaN(l.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:l.attributes["TIME-OFFSET"],precise:l.attributes.PRECISE}},"cue-out"(){i.cueOut=l.data},"cue-out-cont"(){i.cueOutCont=l.data},"cue-in"(){i.cueIn=l.data},skip(){this.manifest.skip=pe(l.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",l.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const v=this.manifest.segments.length,b=pe(l.attributes);i.parts=i.parts||[],i.parts.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=p),p=b.byterange.offset+b.byterange.length);const A=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${A} for segment #${v}`,l.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((S,T)=>{S.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${T} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=pe(l.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Bn.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,b=pe(l.attributes),A=b.type&&b.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=A?p:0,A&&(p=b.byterange.offset+b.byterange.length)));const S=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${S} for segment #${v}`,l.attributes,["TYPE","URI"]),!!b.type)for(let T=0;T<i.preloadHints.length-1;T++){const _=i.preloadHints[T];_.type&&_.type===b.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${S} for segment #${v} has the same TYPE ${b.type} as preload hint #${T}`})}},"rendition-report"(){const v=pe(l.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const b=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];s&&A.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${b}`,l.attributes,A)},"part-inf"(){this.manifest.partInf=pe(l.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",l.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Bn.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(pe(l.attributes));const v=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,l.attributes,["ID","START-DATE"]);const b=this.manifest.dateRanges[v];b.endDate&&b.startDate&&new Date(b.endDate)<new Date(b.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),b.duration&&b.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),b.plannedDuration&&b.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!b.endOnNext;if(A&&!b.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(b.duration||b.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),b.duration&&b.endDate){const T=b.startDate.getTime()+b.duration*1e3;this.manifest.dateRanges[v].endDate=new Date(T)}if(!m[b.id])m[b.id]=b;else{for(const T in m[b.id])if(b[T]&&JSON.stringify(m[b.id][T])!==JSON.stringify(b[T])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const S=this.manifest.dateRanges.findIndex(T=>T.id===b.id);this.manifest.dateRanges[S]=Ge(this.manifest.dateRanges[S],b),m[b.id]=Ge(m[b.id],b),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=pe(l.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",l.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const v=(b,A)=>{if(b in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${b}`});return}this.manifest.definitions[b]=A};if("QUERYPARAM"in l.attributes){if("NAME"in l.attributes||"IMPORT"in l.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const b=this.params.get(l.attributes.QUERYPARAM);if(!b){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${l.attributes.QUERYPARAM}`});return}v(l.attributes.QUERYPARAM,decodeURIComponent(b));return}if("NAME"in l.attributes){if("IMPORT"in l.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in l.attributes)||typeof l.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${l.attributes.NAME}`});return}v(l.attributes.NAME,l.attributes.VALUE);return}if("IMPORT"in l.attributes){if(!this.mainDefinitions[l.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${l.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}v(l.attributes.IMPORT,this.mainDefinitions[l.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:l.attributes,uri:l.uri,timeline:h}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",l.attributes,["BANDWIDTH","URI"])}}[l.tagType]||u).call(r)},uri(){i.uri=l.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),o&&(i.key=o),i.timeline=h,a&&(i.map=a),p=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){l.segment?(i.custom=i.custom||{},i.custom[l.customType]=l.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[l.customType]=l.data)}})[l.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,n){const i=[];n.forEach(function(a){r.hasOwnProperty(a)||i.push(a)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Wo={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(u,c,d){if(d=d||{},u=u.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return u;var h=s.parseURL(u);if(!h)throw new Error("Error trying to parse base URL.");return h.path=s.normalizePath(h.path),s.buildURLFromParts(h)}var f=s.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return d.alwaysNormalize?(f.path=s.normalizePath(f.path),s.buildURLFromParts(f)):c;var p=s.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=i.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var l={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(l.netLoc=p.netLoc,f.path[0]!=="/"))if(!f.path)l.path=p.path,f.params||(l.params=p.params,f.query||(l.query=p.query));else{var y=p.path,g=y.substring(0,y.lastIndexOf("/")+1)+f.path;l.path=s.normalizePath(g)}return l.path===null&&(l.path=d.alwaysNormalize?s.normalizePath(f.path):f.path),s.buildURLFromParts(l)},parseURL:function(u){var c=n.exec(u);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=s})()})(Wo);var Yc=Wo.exports;const ba=mi(Yc);var Ea="http://example.com",Ii=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=mt.location&&mt.location.href||"");var n=typeof mt.URL=="function",i=/^\/\//.test(e),a=!mt.location&&!/\/\//i.test(e);if(n?e=new mt.URL(e,mt.location||Ea):/\/\//i.test(e)||(e=ba.buildAbsoluteURL(mt.location&&mt.location.href||"",e)),n){var o=new URL(r,e);return a?o.href.slice(Ea.length):i?o.href.slice(o.protocol.length):o.href}return ba.buildAbsoluteURL(e,r)},Zc=function(e,r,n){r.forEach(function(i){for(var a in e.mediaGroups[i])for(var o in e.mediaGroups[i][a]){var s=e.mediaGroups[i][a][o];n(s,i,a,o)}})},Kc=function(e){return mt.atob?mt.atob(e):Buffer.from(e,"base64").toString("binary")};function Jc(t){for(var e=Kc(t),r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}var we={},de={};function Qc(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function xi(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function tf(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var Xo=xi({HTML:"text/html",isHTML:function(t){return t===Xo.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Yo=xi({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Yo.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});de.assign=tf;de.find=Qc;de.freeze=xi;de.MIME_TYPE=Xo;de.NAMESPACE=Yo;var Zo=de,Qt=Zo.find,Rr=Zo.NAMESPACE;function ef(t){return t!==""}function rf(t){return t?t.split(/[\t\n\f\r ]+/).filter(ef):[]}function nf(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function wa(t){if(!t)return[];var e=rf(t);return Object.keys(e.reduce(nf,{}))}function af(t){return function(e){return t&&t.indexOf(e)!==-1}}function Gr(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function kt(t,e){var r=t.prototype;if(!(r instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,Gr(r,n),t.prototype=r=n}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Lt={},Vt=Lt.ELEMENT_NODE=1,Ze=Lt.ATTRIBUTE_NODE=2,mn=Lt.TEXT_NODE=3,Ko=Lt.CDATA_SECTION_NODE=4,Jo=Lt.ENTITY_REFERENCE_NODE=5,of=Lt.ENTITY_NODE=6,Qo=Lt.PROCESSING_INSTRUCTION_NODE=7,ts=Lt.COMMENT_NODE=8,es=Lt.DOCUMENT_NODE=9,rs=Lt.DOCUMENT_TYPE_NODE=10,ce=Lt.DOCUMENT_FRAGMENT_NODE=11,sf=Lt.NOTATION_NODE=12,Rt={},Tt={};Rt.INDEX_SIZE_ERR=(Tt[1]="Index size error",1);Rt.DOMSTRING_SIZE_ERR=(Tt[2]="DOMString size error",2);var Pt=Rt.HIERARCHY_REQUEST_ERR=(Tt[3]="Hierarchy request error",3);Rt.WRONG_DOCUMENT_ERR=(Tt[4]="Wrong document",4);Rt.INVALID_CHARACTER_ERR=(Tt[5]="Invalid character",5);Rt.NO_DATA_ALLOWED_ERR=(Tt[6]="No data allowed",6);Rt.NO_MODIFICATION_ALLOWED_ERR=(Tt[7]="No modification allowed",7);var ns=Rt.NOT_FOUND_ERR=(Tt[8]="Not found",8);Rt.NOT_SUPPORTED_ERR=(Tt[9]="Not supported",9);var Aa=Rt.INUSE_ATTRIBUTE_ERR=(Tt[10]="Attribute in use",10);Rt.INVALID_STATE_ERR=(Tt[11]="Invalid state",11);Rt.SYNTAX_ERR=(Tt[12]="Syntax error",12);Rt.INVALID_MODIFICATION_ERR=(Tt[13]="Invalid modification",13);Rt.NAMESPACE_ERR=(Tt[14]="Invalid namespace",14);Rt.INVALID_ACCESS_ERR=(Tt[15]="Invalid access",15);function Et(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Tt[t]),this.message=Tt[t],Error.captureStackTrace&&Error.captureStackTrace(this,Et);return r.code=t,e&&(this.message=this.message+": "+e),r}Et.prototype=Error.prototype;Gr(Rt,Et);function se(){}se.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)qe(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Ke(t,e){this._node=t,this._refresh=e,Ri(this)}function Ri(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(ms(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];Gr(r,t),t._inc=e}}Ke.prototype.item=function(t){return Ri(this),this[t]||null};kt(Ke,se);function gn(){}function is(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function Da(t,e,r,n){if(n?e[is(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&ss(i,t,n),uf(i,t,r))}}function Sa(t,e,r){var n=is(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var a=t.ownerDocument;a&&(ss(a,t,r),r.ownerElement=null)}}else throw new Et(ns,new Error(t.tagName+"@"+r))}gn.prototype={length:0,item:se.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Et(Aa);var r=this.getNamedItem(t.nodeName);return Da(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Et(Aa);return r=this.getNamedItemNS(t.namespaceURI,t.localName),Da(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return Sa(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return Sa(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function as(){}as.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new Hr;if(n.implementation=this,n.childNodes=new se,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new Tn;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function ht(){}ht.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return yn(this,t,e)},replaceChild:function(t,e){yn(this,t,e,ls),e&&this.removeChild(e)},removeChild:function(t){return us(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return ei(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==mn&&t.nodeType==mn?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Ze?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Ze?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function os(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Gr(Lt,ht);Gr(Lt,ht.prototype);function Nr(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Nr(t,e))return!0;while(t=t.nextSibling)}function Hr(){this.ownerDocument=this}function uf(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Rr.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function ss(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Rr.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Ni(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function us(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Ni(t.ownerDocument,t),e}function lf(t){return t&&(t.nodeType===ht.DOCUMENT_NODE||t.nodeType===ht.DOCUMENT_FRAGMENT_NODE||t.nodeType===ht.ELEMENT_NODE)}function cf(t){return t&&(te(t)||Pi(t)||fe(t)||t.nodeType===ht.DOCUMENT_FRAGMENT_NODE||t.nodeType===ht.COMMENT_NODE||t.nodeType===ht.PROCESSING_INSTRUCTION_NODE)}function fe(t){return t&&t.nodeType===ht.DOCUMENT_TYPE_NODE}function te(t){return t&&t.nodeType===ht.ELEMENT_NODE}function Pi(t){return t&&t.nodeType===ht.TEXT_NODE}function _a(t,e){var r=t.childNodes||[];if(Qt(r,te)||fe(e))return!1;var n=Qt(r,fe);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function Ta(t,e){var r=t.childNodes||[];function n(a){return te(a)&&a!==e}if(Qt(r,n))return!1;var i=Qt(r,fe);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function ff(t,e,r){if(!lf(t))throw new Et(Pt,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new Et(ns,"child not in parent");if(!cf(e)||fe(e)&&t.nodeType!==ht.DOCUMENT_NODE)throw new Et(Pt,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function df(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===ht.DOCUMENT_FRAGMENT_NODE){var a=i.filter(te);if(a.length>1||Qt(i,Pi))throw new Et(Pt,"More than one element or text in fragment");if(a.length===1&&!_a(t,r))throw new Et(Pt,"Element in fragment can not be inserted before doctype")}if(te(e)&&!_a(t,r))throw new Et(Pt,"Only one element can be added and only after doctype");if(fe(e)){if(Qt(n,fe))throw new Et(Pt,"Only one doctype is allowed");var o=Qt(n,te);if(r&&n.indexOf(o)<n.indexOf(r))throw new Et(Pt,"Doctype can only be inserted before an element");if(!r&&o)throw new Et(Pt,"Doctype can not be appended since element is present")}}function ls(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===ht.DOCUMENT_FRAGMENT_NODE){var a=i.filter(te);if(a.length>1||Qt(i,Pi))throw new Et(Pt,"More than one element or text in fragment");if(a.length===1&&!Ta(t,r))throw new Et(Pt,"Element in fragment can not be inserted before doctype")}if(te(e)&&!Ta(t,r))throw new Et(Pt,"Only one element can be added and only after doctype");if(fe(e)){if(Qt(n,function(u){return fe(u)&&u!==r}))throw new Et(Pt,"Only one doctype is allowed");var o=Qt(n,te);if(r&&n.indexOf(o)<n.indexOf(r))throw new Et(Pt,"Doctype can only be inserted before an element")}}function yn(t,e,r,n){ff(t,e,r),t.nodeType===ht.DOCUMENT_NODE&&(n||df)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===ce){var a=e.firstChild;if(a==null)return e;var o=e.lastChild}else a=o=e;var s=r?r.previousSibling:t.lastChild;a.previousSibling=s,o.nextSibling=r,s?s.nextSibling=a:t.firstChild=a,r==null?t.lastChild=o:r.previousSibling=o;do a.parentNode=t;while(a!==o&&(a=a.nextSibling));return Ni(t.ownerDocument||t,t),e.nodeType==ce&&(e.firstChild=e.lastChild=null),e}function pf(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Ni(t.ownerDocument,t,e),e}Hr.prototype={nodeName:"#document",nodeType:es,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ce){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return yn(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Vt&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),us(this,t)},replaceChild:function(t,e){yn(this,t,e,ls),t.ownerDocument=this,e&&this.removeChild(e),te(t)&&(this.documentElement=t)},importNode:function(t,e){return hs(this,t,e)},getElementById:function(t){var e=null;return Nr(this.documentElement,function(r){if(r.nodeType==Vt&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=wa(t);return new Ke(this,function(r){var n=[];return e.length>0&&Nr(r.documentElement,function(i){if(i!==r&&i.nodeType===Vt){var a=i.getAttribute("class");if(a){var o=t===a;if(!o){var s=wa(a);o=e.every(af(s))}o&&n.push(i)}}}),n})},createElement:function(t){var e=new Ie;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new se;var r=e.attributes=new gn;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Cn;return t.ownerDocument=this,t.childNodes=new se,t},createTextNode:function(t){var e=new Bi;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Fi;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ki;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new Ui;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new vn;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Li;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ie,n=e.split(":"),i=r.attributes=new gn;return r.childNodes=new se,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new vn,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};kt(Hr,ht);function Ie(){this._nsMap={}}Ie.prototype={nodeType:Vt,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ce?this.insertBefore(t,null):pf(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ke(this,function(e){var r=[];return Nr(e,function(n){n!==e&&n.nodeType==Vt&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Ke(this,function(r){var n=[];return Nr(r,function(i){i!==r&&i.nodeType===Vt&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};Hr.prototype.getElementsByTagName=Ie.prototype.getElementsByTagName;Hr.prototype.getElementsByTagNameNS=Ie.prototype.getElementsByTagNameNS;kt(Ie,ht);function vn(){}vn.prototype.nodeType=Ze;kt(vn,ht);function jr(){}jr.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Tt[Pt])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};kt(jr,ht);function Bi(){}Bi.prototype={nodeName:"#text",nodeType:mn,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};kt(Bi,jr);function Fi(){}Fi.prototype={nodeName:"#comment",nodeType:ts};kt(Fi,jr);function ki(){}ki.prototype={nodeName:"#cdata-section",nodeType:Ko};kt(ki,jr);function Tn(){}Tn.prototype.nodeType=rs;kt(Tn,ht);function cs(){}cs.prototype.nodeType=sf;kt(cs,ht);function fs(){}fs.prototype.nodeType=of;kt(fs,ht);function Li(){}Li.prototype.nodeType=Jo;kt(Li,ht);function Cn(){}Cn.prototype.nodeName="#document-fragment";Cn.prototype.nodeType=ce;kt(Cn,ht);function Ui(){}Ui.prototype.nodeType=Qo;kt(Ui,ht);function ds(){}ds.prototype.serializeToString=function(t,e,r){return ps.call(t,e,r)};ht.prototype.toString=ps;function ps(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&i==null){var i=n.lookupPrefix(a);if(i==null)var o=[{namespace:a,prefix:null}]}return qe(this,r,t,e,o),r.join("")}function Ca(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Rr.XML||i===Rr.XMLNS)return!1;for(var a=r.length;a--;){var o=r[a];if(o.prefix===n)return o.namespace!==i}return!0}function Fn(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,os),'"')}function qe(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Vt:var a=t.attributes,o=a.length,g=t.firstChild,s=t.tagName;r=Rr.isHTML(t.namespaceURI)||r;var u=s;if(!r&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<a.length;d++)if(a.item(d).name==="xmlns"){c=a.item(d).value;break}if(!c)for(var h=i.length-1;h>=0;h--){var f=i[h];if(f.prefix===""&&f.namespace===t.namespaceURI){c=f.namespace;break}}if(c!==t.namespaceURI)for(var h=i.length-1;h>=0;h--){var f=i[h];if(f.namespace===t.namespaceURI){f.prefix&&(u=f.prefix+":"+s);break}}}e.push("<",u);for(var p=0;p<o;p++){var m=a.item(p);m.prefix=="xmlns"?i.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&i.push({prefix:"",namespace:m.value})}for(var p=0;p<o;p++){var m=a.item(p);if(Ca(m,r,i)){var l=m.prefix||"",y=m.namespaceURI;Fn(e,l?"xmlns:"+l:"xmlns",y),i.push({prefix:l,namespace:y})}qe(m,e,r,n,i)}if(s===u&&Ca(t,r,i)){var l=t.prefix||"",y=t.namespaceURI;Fn(e,l?"xmlns:"+l:"xmlns",y),i.push({prefix:l,namespace:y})}if(g||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(e.push(">"),r&&/^script$/i.test(s))for(;g;)g.data?e.push(g.data):qe(g,e,r,n,i.slice()),g=g.nextSibling;else for(;g;)qe(g,e,r,n,i.slice()),g=g.nextSibling;e.push("</",u,">")}else e.push("/>");return;case es:case ce:for(var g=t.firstChild;g;)qe(g,e,r,n,i.slice()),g=g.nextSibling;return;case Ze:return Fn(e,t.name,t.value);case mn:return e.push(t.data.replace(/[<&>]/g,os));case Ko:return e.push("<![CDATA[",t.data,"]]>");case ts:return e.push("<!--",t.data,"-->");case rs:var v=t.publicId,b=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),b&&b!="."&&e.push(" ",b),e.push(">");else if(b&&b!=".")e.push(" SYSTEM ",b,">");else{var A=t.internalSubset;A&&e.push(" [",A,"]"),e.push(">")}return;case Qo:return e.push("<?",t.target," ",t.data,"?>");case Jo:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function hs(t,e,r){var n;switch(e.nodeType){case Vt:n=e.cloneNode(!1),n.ownerDocument=t;case ce:break;case Ze:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(hs(t,i,r)),i=i.nextSibling;return n}function ei(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(e.childNodes&&(n.childNodes=new se),n.ownerDocument=t,n.nodeType){case Vt:var o=e.attributes,s=n.attributes=new gn,u=o.length;s._ownerElement=n;for(var c=0;c<u;c++)n.setAttributeNode(ei(t,o.item(c),!0));break;case Ze:r=!0}if(r)for(var d=e.firstChild;d;)n.appendChild(ei(t,d,r)),d=d.nextSibling;return n}function ms(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Vt:case ce:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Ke.prototype,"length",{get:function(){return Ri(this),this.$$length}}),Object.defineProperty(ht.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Vt:case ce:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ms=function(e,r,n){e["$$"+r]=n}}}catch{}we.DocumentType=Tn;we.DOMException=Et;we.DOMImplementation=as;we.Element=Ie;we.Node=ht;we.NodeList=se;we.XMLSerializer=ds;var On={},gs={};(function(t){var e=de.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(gs);var Mi={},Pr=de.NAMESPACE,ri=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Oa=new RegExp("[\\-\\.0-9"+ri.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ia=new RegExp("^"+ri.source+Oa.source+"*(?::"+ri.source+Oa.source+"*)?$"),dr=0,he=1,Pe=2,pr=3,Be=4,Fe=5,hr=6,rn=7;function Je(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Je)}Je.prototype=new Error;Je.prototype.name=Je.name;function ys(){}ys.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),vs(e,e={}),hf(t,e,r,n,this.errorHandler),n.endDocument()}};function hf(t,e,r,n,i){function a(F){if(F>65535){F-=65536;var L=55296+(F>>10),K=56320+(F&1023);return String.fromCharCode(L,K)}else return String.fromCharCode(F)}function o(F){var L=F.slice(1,-1);return Object.hasOwnProperty.call(r,L)?r[L]:L.charAt(0)==="#"?a(parseInt(L.substr(1).replace("x","0x"))):(i.error("entity not found:"+F),F)}function s(F){if(F>l){var L=t.substring(l,F).replace(/&#?\w+;/g,o);f&&u(l),n.characters(L,0,F-l),l=F}}function u(F,L){for(;F>=d&&(L=h.exec(t));)c=L.index,d=c+L[0].length,f.lineNumber++;f.columnNumber=F-c+1}for(var c=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,p=[{currentNSMap:e}],m={},l=0;;){try{var y=t.indexOf("<",l);if(y<0){if(!t.substr(l).match(/^\s*$/)){var g=n.doc,v=g.createTextNode(t.substr(l));g.appendChild(v),n.currentElement=v}return}switch(y>l&&s(y),t.charAt(y+1)){case"/":var z=t.indexOf(">",y+3),b=t.substring(y+2,z).replace(/[ \t\n\r]+$/g,""),A=p.pop();z<0?(b=t.substring(y+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+A.tagName),z=y+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),z=y+1+b.length);var S=A.localNSMap,T=A.tagName==b,_=T||A.tagName&&A.tagName.toLowerCase()==b.toLowerCase();if(_){if(n.endElement(A.uri,A.localName,b),S)for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&n.endPrefixMapping(R);T||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+A.tagName)}else p.push(A);z++;break;case"?":f&&u(y),z=bf(t,y,n);break;case"!":f&&u(y),z=vf(t,y,n,i);break;default:f&&u(y);var C=new bs,I=p[p.length-1].currentNSMap,z=mf(t,y,C,I,o,i),D=C.length;if(!C.closed&&yf(t,z,C.tagName,m)&&(C.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),f&&D){for(var N=xa(f,{}),E=0;E<D;E++){var B=C[E];u(B.offset),B.locator=xa(f,{})}n.locator=N,Ra(C,n,I)&&p.push(C),n.locator=f}else Ra(C,n,I)&&p.push(C);Pr.isHTML(C.uri)&&!C.closed?z=gf(t,z,C.tagName,o,n):z++}}catch(F){if(F instanceof Je)throw F;i.error("element parse error: "+F),z=-1}z>l?l=z:s(Math.max(y,l)+1)}}function xa(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function mf(t,e,r,n,i,a){function o(f,p,m){r.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),r.addValue(f,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),m)}for(var s,u,c=++e,d=dr;;){var h=t.charAt(c);switch(h){case"=":if(d===he)s=t.slice(e,c),d=pr;else if(d===Pe)d=pr;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===pr||d===he)if(d===he&&(a.warning('attribute value must after "="'),s=t.slice(e,c)),e=c+1,c=t.indexOf(h,e),c>0)u=t.slice(e,c),o(s,u,e-1),d=Fe;else throw new Error("attribute value no end '"+h+"' match");else if(d==Be)u=t.slice(e,c),o(s,u,e),a.warning('attribute "'+s+'" missed start quot('+h+")!!"),e=c+1,d=Fe;else throw new Error('attribute value must after "="');break;case"/":switch(d){case dr:r.setTagName(t.slice(e,c));case Fe:case hr:case rn:d=rn,r.closed=!0;case Be:case he:break;case Pe:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),d==dr&&r.setTagName(t.slice(e,c)),c;case">":switch(d){case dr:r.setTagName(t.slice(e,c));case Fe:case hr:case rn:break;case Be:case he:u=t.slice(e,c),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case Pe:d===Pe&&(u=s),d==Be?(a.warning('attribute "'+u+'" missed quot(")!'),o(s,u,e)):((!Pr.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),o(u,u,e));break;case pr:throw new Error("attribute value missed!!")}return c;case"":h=" ";default:if(h<=" ")switch(d){case dr:r.setTagName(t.slice(e,c)),d=hr;break;case he:s=t.slice(e,c),d=Pe;break;case Be:var u=t.slice(e,c);a.warning('attribute "'+u+'" missed quot(")!!'),o(s,u,e);case Fe:d=hr;break}else switch(d){case Pe:r.tagName,(!Pr.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),o(s,s,e),e=c,d=he;break;case Fe:a.warning('attribute space is required"'+s+'"!!');case hr:d=he,e=c;break;case pr:d=Be,e=c;break;case rn:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function Ra(t,e,r){for(var n=t.tagName,i=null,h=t.length;h--;){var a=t[h],o=a.qName,s=a.value,f=o.indexOf(":");if(f>0)var u=a.prefix=o.slice(0,f),c=o.slice(f+1),d=u==="xmlns"&&c;else c=o,u=null,d=o==="xmlns"&&"";a.localName=c,d!==!1&&(i==null&&(i={},vs(r,r={})),r[d]=i[d]=s,a.uri=Pr.XMLNS,e.startPrefixMapping(d,s))}for(var h=t.length;h--;){a=t[h];var u=a.prefix;u&&(u==="xml"&&(a.uri=Pr.XML),u!=="xmlns"&&(a.uri=r[u||""]))}var f=n.indexOf(":");f>0?(u=t.prefix=n.slice(0,f),c=t.localName=n.slice(f+1)):(u=null,c=t.localName=n);var p=t.uri=r[u||""];if(e.startElement(p,c,n,t),t.closed){if(e.endElement(p,c,n),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=r,t.localNSMap=i,!0}function gf(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=t.indexOf("</"+r+">",e),o=t.substring(e+1,a);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),a)}return e+1}function yf(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function vs(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function vf(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(r.comment(t,e+4,a-e-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,a-e-9),r.endCDATA(),a+3}var o=Ef(t,e),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],c=!1,d=!1;s>3&&(/^public$/i.test(o[2][0])?(c=o[3][0],d=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(d=o[3][0]));var h=o[s-1];return r.startDTD(u,c,d),r.endDTD(),h.index+h[0].length}}return-1}function bf(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function bs(){this.attributeNames={}}bs.prototype={setTagName:function(t){if(!Ia.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!Ia.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Ef(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}Mi.XMLReader=ys;Mi.ParseError=Je;var wf=de,Af=we,Na=gs,Es=Mi,Df=Af.DOMImplementation,Pa=wf.NAMESPACE,Sf=Es.ParseError,_f=Es.XMLReader;function ws(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function As(t){this.options=t||{locator:{}}}As.prototype.parseFromString=function(t,e){var r=this.options,n=new _f,i=r.domBuilder||new Vr,a=r.errorHandler,o=r.locator,s=r.xmlns||{},u=/\/x?html?$/.test(e),c=u?Na.HTML_ENTITIES:Na.XML_ENTITIES;o&&i.setDocumentLocator(o),n.errorHandler=Tf(a,i,o),n.domBuilder=r.domBuilder||i,u&&(s[""]=Pa.HTML),s.xml=s.xml||Pa.XML;var d=r.normalizeLineEndings||ws;return t&&typeof t=="string"?n.parse(d(t),s,c):n.errorHandler.error("invalid doc source"),i.doc};function Tf(t,e,r){if(!t){if(e instanceof Vr)return e;t=e}var n={},i=t instanceof Function;r=r||{};function a(o){var s=t[o];!s&&i&&(s=t.length==2?function(u){t(o,u)}:t),n[o]=s&&function(u){s("[xmldom "+o+"]	"+u+ni(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function Vr(){this.cdata=!1}function ke(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Vr.prototype={startDocument:function(){this.doc=new Df().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,a=i.createElementNS(t,r||e),o=n.length;nn(this,a),this.currentElement=a,this.locator&&ke(this.locator,a);for(var s=0;s<o;s++){var t=n.getURI(s),u=n.getValue(s),r=n.getQName(s),c=i.createAttributeNS(t,r);this.locator&&ke(n.getLocator(s),c),c.value=c.nodeValue=u,a.setAttributeNode(c)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&ke(this.locator,r),nn(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=Ba.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&ke(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=Ba.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&ke(this.locator,n),nn(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&ke(this.locator,i),nn(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,ni(this.locator))},error:function(t){console.error("[xmldom error]	"+t,ni(this.locator))},fatalError:function(t){throw new Sf(t,this.locator)}};function ni(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Ba(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Vr.prototype[t]=function(){return null}});function nn(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}On.__DOMHandler=Vr;On.normalizeLineEndings=ws;On.DOMParser=As;var Cf=On.DOMParser;/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const Fa=t=>!!t&&typeof t=="object",St=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=e[n].concat(r[n]):Fa(e[n])&&Fa(r[n])?e[n]=St(e[n],r[n]):e[n]=r[n]}),e),{}),Ds=t=>Object.keys(t).map(e=>t[e]),Of=(t,e)=>{const r=[];for(let n=t;n<e;n++)r.push(n);return r},Qe=t=>t.reduce((e,r)=>e.concat(r),[]),Ss=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},If=(t,e)=>t.reduce((r,n,i)=>(n[e]&&r.push(i),r),[]),xf=(t,e)=>Ds(t.reduce((r,n)=>(n.forEach(i=>{r[e(i)]=i}),r),{}));var Br={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Fr=({baseUrl:t="",source:e="",range:r="",indexRange:n=""})=>{const i={uri:e,resolvedUri:Ii(t||"",e)};if(r||n){const o=(r||n).split("-");let s=mt.BigInt?mt.BigInt(o[0]):parseInt(o[0],10),u=mt.BigInt?mt.BigInt(o[1]):parseInt(o[1],10);s<Number.MAX_SAFE_INTEGER&&typeof s=="bigint"&&(s=Number(s)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let c;typeof u=="bigint"||typeof s=="bigint"?c=mt.BigInt(u)-mt.BigInt(s)+mt.BigInt(1):c=u-s+1,typeof c=="bigint"&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),i.byterange={length:c,offset:s}}return i},Rf=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=mt.BigInt(t.offset)+mt.BigInt(t.length)-mt.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},ka=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),Nf={static(t){const{duration:e,timescale:r=1,sourceDuration:n,periodDuration:i}=t,a=ka(t.endNumber),o=e/r;return typeof a=="number"?{start:0,end:a}:typeof i=="number"?{start:0,end:i/o}:{start:0,end:n/o}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:n,timescale:i=1,duration:a,periodStart:o=0,minimumUpdatePeriod:s=0,timeShiftBufferDepth:u=1/0}=t,c=ka(t.endNumber),d=(e+r)/1e3,h=n+o,p=d+s-h,m=Math.ceil(p*i/a),l=Math.floor((d-h-u)*i/a),y=Math.floor((d-h)*i/a);return{start:Math.max(0,l),end:typeof c=="number"?c:Math.min(m,y)}}},Pf=t=>e=>{const{duration:r,timescale:n=1,periodStart:i,startNumber:a=1}=t;return{number:a+e,duration:r/n,timeline:i,time:e*r}},zi=t=>{const{type:e,duration:r,timescale:n=1,periodDuration:i,sourceDuration:a}=t,{start:o,end:s}=Nf[e](t),u=Of(o,s).map(Pf(t));if(e==="static"){const c=u.length-1,d=typeof i=="number"?i:a;u[c].duration=d-r/n*c}return u},_s=t=>{const{baseUrl:e,initialization:r={},sourceDuration:n,indexRange:i="",periodStart:a,presentationTime:o,number:s=0,duration:u}=t;if(!e)throw new Error(Br.NO_BASE_URL);const c=Fr({baseUrl:e,source:r.sourceURL,range:r.range}),d=Fr({baseUrl:e,source:e,indexRange:i});if(d.map=c,u){const h=zi(t);h.length&&(d.duration=h[0].duration,d.timeline=h[0].timeline)}else n&&(d.duration=n,d.timeline=a);return d.presentationTime=o||a,d.number=s,[d]},Bf=(t,e,r)=>{const n=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,a=t.timeline||0,o=t.sidx.byterange,s=o.offset+o.length,u=e.timescale,c=e.references.filter(y=>y.referenceType!==1),d=[],h=t.endList?"static":"dynamic",f=t.sidx.timeline;let p=f,m=t.mediaSequence||0,l;typeof e.firstOffset=="bigint"?l=mt.BigInt(s)+e.firstOffset:l=s+e.firstOffset;for(let y=0;y<c.length;y++){const g=e.references[y],v=g.referencedSize,b=g.subsegmentDuration;let A;typeof l=="bigint"?A=l+mt.BigInt(v)-mt.BigInt(1):A=l+v-1;const S=`${l}-${A}`,_=_s({baseUrl:r,timescale:u,timeline:a,periodStart:f,presentationTime:p,number:m,duration:b,sourceDuration:i,indexRange:S,type:h})[0];n&&(_.map=n),d.push(_),typeof l=="bigint"?l+=mt.BigInt(v):l+=v,p+=b/u,m++}return t.segments=d,t},Ff=["AUDIO","SUBTITLES"],kf=1/60,Ts=t=>xf(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),Lf=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},La=t=>{let e=[];return Zc(t,Ff,(r,n,i,a)=>{e=e.concat(r.playlists||[])}),e},Ua=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,n)=>{r.number=t.mediaSequence+n})},Uf=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:u}){return u===n.timeline});const i=Lf(t,n.attributes.NAME);if(!i||n.sidx)return;const a=n.segments[0],o=i.segments.findIndex(function(u){return Math.abs(u.presentationTime-a.presentationTime)<kf});if(o===-1){Ua({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[o].discontinuity&&!a.discontinuity&&(a.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Ua({playlist:n,mediaSequence:i.segments[o].number})})},Mf=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(La(t)),n=e.playlists.concat(La(e));return e.timelineStarts=Ts([t.timelineStarts,e.timelineStarts]),Uf({oldPlaylists:r,newPlaylists:n,timelineStarts:e.timelineStarts}),e},zf=t=>t&&t.uri+"-"+Rf(t.byterange),kn=t=>{const e=t.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let r=[];return Object.values(e).forEach(n=>{const i=Ds(n.reduce((a,o)=>{const s=o.attributes.id+(o.attributes.lang||"");return a[s]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),a[s].segments.push(...o.segments)),o.attributes.contentProtection&&(a[s].attributes.contentProtection=o.attributes.contentProtection)):(a[s]=o,a[s].attributes.timelineStarts=[]),a[s].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),a},{}));r=r.concat(i)}),r.map(n=>(n.discontinuityStarts=If(n.segments||[],"discontinuity"),n))},$i=(t,e)=>{const r=zf(t.sidx),n=r&&e[r]&&e[r].sidx;return n&&Bf(t,n,t.sidx.resolvedUri),t},$f=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=$i(t[r],e);return t},qf=({attributes:t,segments:e,sidx:r,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:a},o)=>{const s={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:a,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),r&&(s.sidx=r),o&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s},Gf=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const a={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(a.CODECS=t.codecs);const o={attributes:a,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:r,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},Hf=(t,e={},r=!1)=>{let n;const i=t.reduce((a,o)=>{const s=o.attributes.role&&o.attributes.role.value||"",u=o.attributes.lang||"";let c=o.attributes.label||"main";if(u&&!o.attributes.label){const h=s?` (${s})`:"";c=`${o.attributes.lang}${h}`}a[c]||(a[c]={language:u,autoselect:!0,default:s==="main",playlists:[],uri:""});const d=$i(qf(o,r),e);return a[c].playlists.push(d),typeof n>"u"&&s==="main"&&(n=o,n.default=!0),a},{});if(!n){const a=Object.keys(i)[0];i[a].default=!0}return i},jf=(t,e={})=>t.reduce((r,n)=>{const i=n.attributes.label||n.attributes.lang||"text",a=n.attributes.lang||"und";return r[i]||(r[i]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),r[i].playlists.push($i(Gf(n),e)),r},{}),Vf=t=>t.reduce((e,r)=>(r&&r.forEach(n=>{const{channel:i,language:a}=n;e[a]={autoselect:!1,default:!1,instreamId:i,language:a},n.hasOwnProperty("aspectRatio")&&(e[a].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[a].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[a]["3D"]=n["3D"])}),e),{}),Wf=({attributes:t,segments:e,sidx:r,discontinuityStarts:n})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),r&&(i.sidx=r),i},Xf=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",Yf=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",Zf=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Kf=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,i)=>{n.number=i})})},Ma=t=>t?Object.keys(t).reduce((e,r)=>{const n=t[r];return e.concat(n.playlists)},[]):[],Jf=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:n={},previousManifest:i,eventStream:a})=>{if(!t.length)return{};const{sourceDuration:o,type:s,suggestedPresentationDelay:u,minimumUpdatePeriod:c}=t[0].attributes,d=kn(t.filter(Xf)).map(Wf),h=kn(t.filter(Yf)),f=kn(t.filter(Zf)),p=t.map(A=>A.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:$f(d,n)};c>=0&&(m.minimumUpdatePeriod=c*1e3),e&&(m.locations=e),r&&(m.contentSteering=r),s==="dynamic"&&(m.suggestedPresentationDelay=u),a&&a.length>0&&(m.eventStream=a);const l=m.playlists.length===0,y=h.length?Hf(h,n,l):null,g=f.length?jf(f,n):null,v=d.concat(Ma(y),Ma(g)),b=v.map(({timelineStarts:A})=>A);return m.timelineStarts=Ts(b),Kf(v,m.timelineStarts),y&&(m.mediaGroups.AUDIO.audio=y),g&&(m.mediaGroups.SUBTITLES.subs=g),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=Vf(p)),i?Mf({oldManifest:i,newManifest:m}):m},Qf=(t,e,r)=>{const{NOW:n,clientOffset:i,availabilityStartTime:a,timescale:o=1,periodStart:s=0,minimumUpdatePeriod:u=0}=t,c=(n+i)/1e3,d=a+s,f=c+u-d;return Math.ceil((f*o-e)/r)},Cs=(t,e)=>{const{type:r,minimumUpdatePeriod:n=0,media:i="",sourceDuration:a,timescale:o=1,startNumber:s=1,periodStart:u}=t,c=[];let d=-1;for(let h=0;h<e.length;h++){const f=e[h],p=f.d,m=f.r||0,l=f.t||0;d<0&&(d=l),l&&l>d&&(d=l);let y;if(m<0){const b=h+1;b===e.length?r==="dynamic"&&n>0&&i.indexOf("$Number$")>0?y=Qf(t,d,p):y=(a*o-d)/p:y=(e[b].t-d)/p}else y=m+1;const g=s+c.length+y;let v=s+c.length;for(;v<g;)c.push({number:v,duration:p/o,time:d,timeline:u}),d+=p,v++}return c},td=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ed=t=>(e,r,n,i)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const a=""+t[r];return r==="RepresentationID"||(n?i=parseInt(i,10):i=1,a.length>=i)?a:`${new Array(i-a.length+1).join("0")}${a}`},za=(t,e)=>t.replace(td,ed(e)),rd=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?zi(t):Cs(t,e),nd=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,i=Fr({baseUrl:t.baseUrl,source:za(n.sourceURL,r),range:n.range});return rd(t,e).map(o=>{r.Number=o.number,r.Time=o.time;const s=za(t.media||"",r),u=t.timescale||1,c=t.presentationTimeOffset||0,d=t.periodStart+(o.time-c)/u;return{uri:s,timeline:o.timeline,duration:o.duration,resolvedUri:Ii(t.baseUrl||"",s),map:i,number:o.number,presentationTime:d}})},id=(t,e)=>{const{baseUrl:r,initialization:n={}}=t,i=Fr({baseUrl:r,source:n.sourceURL,range:n.range}),a=Fr({baseUrl:r,source:e.media,range:e.mediaRange});return a.map=i,a},ad=(t,e)=>{const{duration:r,segmentUrls:n=[],periodStart:i}=t;if(!r&&!e||r&&e)throw new Error(Br.SEGMENT_TIME_UNSPECIFIED);const a=n.map(u=>id(t,u));let o;return r&&(o=zi(t)),e&&(o=Cs(t,e)),o.map((u,c)=>{if(a[c]){const d=a[c],h=t.timescale||1,f=t.presentationTimeOffset||0;return d.timeline=u.timeline,d.duration=u.duration,d.number=u.number,d.presentationTime=i+(u.time-f)/h,d}}).filter(u=>u)},od=({attributes:t,segmentInfo:e})=>{let r,n;e.template?(n=nd,r=St(t,e.template)):e.base?(n=_s,r=St(t,e.base)):e.list&&(n=ad,r=St(t,e.list));const i={attributes:t};if(!n)return i;const a=n(r,e.segmentTimeline);if(r.duration){const{duration:o,timescale:s=1}=r;r.duration=o/s}else a.length?r.duration=a.reduce((o,s)=>Math.max(o,Math.ceil(s.duration)),0):r.duration=0;return i.attributes=r,i.segments=a,e.base&&r.indexRange&&(i.sidx=a[0],i.segments=[]),i},sd=t=>t.map(od),yt=(t,e)=>Ss(t.childNodes).filter(({tagName:r})=>r===e),Wr=t=>t.textContent.trim(),ud=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),Le=t=>{const s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!s)return 0;const[u,c,d,h,f,p]=s.slice(1);return parseFloat(u||0)*31536e3+parseFloat(c||0)*2592e3+parseFloat(d||0)*86400+parseFloat(h||0)*3600+parseFloat(f||0)*60+parseFloat(p||0)},ld=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),$a={mediaPresentationDuration(t){return Le(t)},availabilityStartTime(t){return ld(t)/1e3},minimumUpdatePeriod(t){return Le(t)},suggestedPresentationDelay(t){return Le(t)},type(t){return t},timeShiftBufferDepth(t){return Le(t)},start(t){return Le(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return ud(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Le(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},At=t=>t&&t.attributes?Ss(t.attributes).reduce((e,r)=>{const n=$a[r.name]||$a.DEFAULT;return e[r.name]=n(r.value),e},{}):{},cd={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},In=(t,e)=>e.length?Qe(t.map(function(r){return e.map(function(n){const i=Wr(n),a=Ii(r.baseUrl,i),o=St(At(n),{baseUrl:a});return a!==i&&!o.serviceLocation&&r.serviceLocation&&(o.serviceLocation=r.serviceLocation),o})})):t,qi=t=>{const e=yt(t,"SegmentTemplate")[0],r=yt(t,"SegmentList")[0],n=r&&yt(r,"SegmentURL").map(h=>St({tag:"SegmentURL"},At(h))),i=yt(t,"SegmentBase")[0],a=r||e,o=a&&yt(a,"SegmentTimeline")[0],s=r||i||e,u=s&&yt(s,"Initialization")[0],c=e&&At(e);c&&u?c.initialization=u&&At(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const d={template:c,segmentTimeline:o&&yt(o,"S").map(h=>At(h)),list:r&&St(At(r),{segmentUrls:n,initialization:At(u)}),base:i&&St(At(i),{initialization:At(u)})};return Object.keys(d).forEach(h=>{d[h]||delete d[h]}),d},fd=(t,e,r)=>n=>{const i=yt(n,"BaseURL"),a=In(e,i),o=St(t,At(n)),s=qi(n);return a.map(u=>({segmentInfo:St(r,s),attributes:St(o,u)}))},dd=t=>t.reduce((e,r)=>{const n=At(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=cd[n.schemeIdUri];if(i){e[i]={attributes:n};const a=yt(r,"cenc:pssh")[0];if(a){const o=Wr(a);e[i].pssh=o&&Jc(o)}}return e},{}),pd=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let n,i;return i=r,/^CC\d=/.test(r)?[n,i]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[i,a=""]=r.split("=");n.channel=i,n.language=r,a.split(",").forEach(o=>{const[s,u]=o.split(":");s==="lang"?n.language=u:s==="er"?n.easyReader=Number(u):s==="war"?n.aspectRatio=Number(u):s==="3D"&&(n["3D"]=Number(u))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},hd=t=>Qe(yt(t.node,"EventStream").map(e=>{const r=At(e),n=r.schemeIdUri;return yt(e,"Event").map(i=>{const a=At(i),o=a.presentationTime||0,s=r.timescale||1,u=a.duration||0,c=o/s+t.attributes.start;return{schemeIdUri:n,value:r.value,id:a.id,start:c,end:c+u/s,messageData:Wr(i)||a.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),md=(t,e,r)=>n=>{const i=At(n),a=In(e,yt(n,"BaseURL")),o=yt(n,"Role")[0],s={role:At(o)};let u=St(t,i,s);const c=yt(n,"Accessibility")[0],d=pd(At(c));d&&(u=St(u,{captionServices:d}));const h=yt(n,"Label")[0];if(h&&h.childNodes.length){const y=h.childNodes[0].nodeValue.trim();u=St(u,{label:y})}const f=dd(yt(n,"ContentProtection"));Object.keys(f).length&&(u=St(u,{contentProtection:f}));const p=qi(n),m=yt(n,"Representation"),l=St(r,p);return Qe(m.map(fd(u,a,l)))},gd=(t,e)=>(r,n)=>{const i=In(e,yt(r.node,"BaseURL")),a=St(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(a.periodDuration=r.attributes.duration);const o=yt(r.node,"AdaptationSet"),s=qi(r.node);return Qe(o.map(md(a,i,s)))},yd=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=St({serverURL:Wr(t[0])},At(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},vd=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,bd=(t,e={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:a=function(){}}=e,o=yt(t,"Period");if(!o.length)throw new Error(Br.INVALID_NUMBER_OF_PERIOD);const s=yt(t,"Location"),u=At(t),c=In([{baseUrl:r}],yt(t,"BaseURL")),d=yt(t,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=n,u.clientOffset=i,s.length&&(u.locations=s.map(Wr));const h=[];return o.forEach((f,p)=>{const m=At(f),l=h[p-1];m.start=vd({attributes:m,priorPeriodAttributes:l?l.attributes:null,mpdType:u.type}),h.push({node:f,attributes:m})}),{locations:u.locations,contentSteeringInfo:yd(d,a),representationInfo:Qe(h.map(gd(u,c))),eventStream:Qe(h.map(hd))}},Ed=t=>{if(t==="")throw new Error(Br.DASH_EMPTY_MANIFEST);const e=new Cf;let r,n;try{r=e.parseFromString(t,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Br.DASH_INVALID_XML);return n},wd=(t,e={})=>{const r=bd(Ed(t),e),n=sd(r.representationInfo);return Jf({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})};(function(t){if(typeof exports=="object"&&typeof module<"u")module.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.muxjs=t()}})(function(){return function(){function t(e,r,n){function i(s,u){if(!r[s]){if(!e[s]){var c=typeof require=="function"&&require;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(f){var p=e[s][1][f];return i(p||f)},h,h.exports,t,e,r,n)}return r[s].exports}for(var a=typeof require=="function"&&require,o=0;o<n.length;o++)i(n[o]);return i}return t}()({1:[function(t,e,r){var n=t(31),i=t(2),a;a=function(){var o=new Uint8Array,s=0;a.prototype.init.call(this),this.setTimestamp=function(u){s=u},this.push=function(u){var c=0,d=0,h,f,p,m;for(o.length?(m=o.length,o=new Uint8Array(u.byteLength+m),o.set(o.subarray(0,m)),o.set(u,m)):o=u;o.length-d>=3;){if(o[d]===73&&o[d+1]===68&&o[d+2]===51){if(o.length-d<10||(c=i.parseId3TagSize(o,d),d+c>o.length))break;f={type:"timed-metadata",data:o.subarray(d,d+c)},this.trigger("data",f),d+=c;continue}else if((o[d]&255)===255&&(o[d+1]&240)===240){if(o.length-d<7||(c=i.parseAdtsSize(o,d),d+c>o.length))break;p={type:"audio",data:o.subarray(d,d+c),pts:s,dts:s},this.trigger("data",p),d+=c;continue}d++}h=o.length-d,h>0?o=o.subarray(d):o=new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}},a.prototype=new n,e.exports=a},{2:2,31:31}],2:[function(t,e,r){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(m,l){var y=m[l+6]<<21|m[l+7]<<14|m[l+8]<<7|m[l+9],g=m[l+5],v=(g&16)>>4;return y=y>=0?y:0,v?y+20:y+10},a=function(m,l){return m.length-l<10||m[l]!==73||m[l+1]!==68||m[l+2]!==51?l:(l+=i(m,l),a(m,l))},o=function(m){var l=a(m,0);return m.length>=l+2&&(m[l]&255)===255&&(m[l+1]&240)===240&&(m[l+1]&22)===16},s=function(m){return m[0]<<21|m[1]<<14|m[2]<<7|m[3]},u=function(m,l,y){var g,v="";for(g=l;g<y;g++)v+="%"+("00"+m[g].toString(16)).slice(-2);return v},c=function(m,l,y){return unescape(u(m,l,y))},d=function(m,l){var y=(m[l+5]&224)>>5,g=m[l+4]<<3,v=m[l+3]&6144;return v|g|y},h=function(m,l){return m[l]===73&&m[l+1]===68&&m[l+2]===51?"timed-metadata":m[l]&!0&&(m[l+1]&240)===240?"audio":null},f=function(m){for(var l=0;l+5<m.length;){if(m[l]!==255||(m[l+1]&246)!==240){l++;continue}return n[(m[l+2]&60)>>>2]}return null},p=function(m){var l,y,g,v;l=10,m[5]&64&&(l+=4,l+=s(m.subarray(10,14)));do{if(y=s(m.subarray(l+4,l+8)),y<1)return null;if(v=String.fromCharCode(m[l],m[l+1],m[l+2],m[l+3]),v==="PRIV"){g=m.subarray(l+10,l+y+10);for(var b=0;b<g.byteLength;b++)if(g[b]===0){var A=c(g,0,b);if(A==="com.apple.streaming.transportStreamTimestamp"){var S=g.subarray(b+1),T=(S[3]&1)<<30|S[4]<<22|S[5]<<14|S[6]<<6|S[7]>>>2;return T*=4,T+=S[7]&3,T}break}}l+=10,l+=y}while(l<m.byteLength);return null};e.exports={isLikelyAacData:o,parseId3TagSize:i,parseAdtsSize:d,parseType:h,parseSampleRate:f,parseAacTimestamp:p}},{}],3:[function(t,e,r){var n=t(31),i=t(29).ONE_SECOND_IN_TS,a,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];a=function(s){var u,c=0;a.prototype.init.call(this),this.push=function(d){var h=0,f,p,m,l,y,g;if(s||(c=0),d.type==="audio")for(u?(l=u,u=new Uint8Array(l.byteLength+d.data.byteLength),u.set(l),u.set(d.data,l.byteLength)):u=d.data;h+5<u.length;){if(u[h]!==255||(u[h+1]&246)!==240){h++;continue}if(p=(~u[h+1]&1)*2,f=(u[h+3]&3)<<11|u[h+4]<<3|(u[h+5]&224)>>5,y=((u[h+6]&3)+1)*1024,g=y*i/o[(u[h+2]&60)>>>2],m=h+f,u.byteLength<m)return;if(this.trigger("data",{pts:d.pts+c*g,dts:d.dts+c*g,sampleCount:y,audioobjecttype:(u[h+2]>>>6&3)+1,channelcount:(u[h+2]&1)<<2|(u[h+3]&192)>>>6,samplerate:o[(u[h+2]&60)>>>2],samplingfrequencyindex:(u[h+2]&60)>>>2,samplesize:16,data:u.subarray(h+7+p,m)}),c++,u.byteLength===m){u=void 0;return}u=u.subarray(m)}},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){u=void 0,this.trigger("reset")},this.endTimeline=function(){u=void 0,this.trigger("endedtimeline")}},a.prototype=new n,e.exports=a},{29:29,31:31}],4:[function(t,e,r){var n=t(31),i=t(30),a,o,s;o=function(){var u=0,c,d;o.prototype.init.call(this),this.push=function(h){var f;d?(f=new Uint8Array(d.byteLength+h.data.byteLength),f.set(d),f.set(h.data,d.byteLength),d=f):d=h.data;for(var p=d.byteLength;u<p-3;u++)if(d[u+2]===1){c=u+5;break}for(;c<p;)switch(d[c]){case 0:if(d[c-1]!==0){c+=2;break}else if(d[c-2]!==0){c++;break}u+3!==c-2&&this.trigger("data",d.subarray(u+3,c-2));do c++;while(d[c]!==1&&c<p);u=c-2,c+=3;break;case 1:if(d[c-1]!==0||d[c-2]!==0){c+=3;break}this.trigger("data",d.subarray(u+3,c-2)),u=c-2,c+=3;break;default:c+=3;break}d=d.subarray(u),c-=u,u=0},this.reset=function(){d=null,u=0,this.trigger("reset")},this.flush=function(){d&&d.byteLength>3&&this.trigger("data",d.subarray(u+3)),d=null,u=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},o.prototype=new n,s={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},a=function(){var u=new o,c,d,h,f,p,m,l;a.prototype.init.call(this),c=this,this.push=function(y){y.type==="video"&&(d=y.trackId,h=y.pts,f=y.dts,u.push(y))},u.on("data",function(y){var g={trackId:d,pts:h,dts:f,data:y};switch(y[0]&31){case 5:g.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:g.nalUnitType="sei_rbsp",g.escapedRBSP=p(y.subarray(1));break;case 7:g.nalUnitType="seq_parameter_set_rbsp",g.escapedRBSP=p(y.subarray(1)),g.config=m(g.escapedRBSP);break;case 8:g.nalUnitType="pic_parameter_set_rbsp";break;case 9:g.nalUnitType="access_unit_delimiter_rbsp";break}c.trigger("data",g)}),u.on("done",function(){c.trigger("done")}),u.on("partialdone",function(){c.trigger("partialdone")}),u.on("reset",function(){c.trigger("reset")}),u.on("endedtimeline",function(){c.trigger("endedtimeline")}),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},l=function(y,g){var v=8,b=8,A,S;for(A=0;A<y;A++)b!==0&&(S=g.readExpGolomb(),b=(v+S+256)%256),v=b===0?v:b},p=function(y){for(var g=y.byteLength,v=[],b=1,A,S;b<g-2;)y[b]===0&&y[b+1]===0&&y[b+2]===3?(v.push(b+2),b+=2):b++;if(v.length===0)return y;A=g-v.length,S=new Uint8Array(A);var T=0;for(b=0;b<A;T++,b++)T===v[0]&&(T++,v.shift()),S[b]=y[T];return S},m=function(y){var g=0,v=0,b=0,A=0,S=1,T,_,R,C,I,z,D,N,E,B,F,L,K,G;if(T=new i(y),_=T.readUnsignedByte(),C=T.readUnsignedByte(),R=T.readUnsignedByte(),T.skipUnsignedExpGolomb(),s[_]&&(I=T.readUnsignedExpGolomb(),I===3&&T.skipBits(1),T.skipUnsignedExpGolomb(),T.skipUnsignedExpGolomb(),T.skipBits(1),T.readBoolean()))for(F=I!==3?8:12,G=0;G<F;G++)T.readBoolean()&&(G<6?l(16,T):l(64,T));if(T.skipUnsignedExpGolomb(),z=T.readUnsignedExpGolomb(),z===0)T.readUnsignedExpGolomb();else if(z===1)for(T.skipBits(1),T.skipExpGolomb(),T.skipExpGolomb(),D=T.readUnsignedExpGolomb(),G=0;G<D;G++)T.skipExpGolomb();if(T.skipUnsignedExpGolomb(),T.skipBits(1),N=T.readUnsignedExpGolomb(),E=T.readUnsignedExpGolomb(),B=T.readBits(1),B===0&&T.skipBits(1),T.skipBits(1),T.readBoolean()&&(g=T.readUnsignedExpGolomb(),v=T.readUnsignedExpGolomb(),b=T.readUnsignedExpGolomb(),A=T.readUnsignedExpGolomb()),T.readBoolean()&&T.readBoolean()){switch(K=T.readUnsignedByte(),K){case 1:L=[1,1];break;case 2:L=[12,11];break;case 3:L=[10,11];break;case 4:L=[16,11];break;case 5:L=[40,33];break;case 6:L=[24,11];break;case 7:L=[20,11];break;case 8:L=[32,11];break;case 9:L=[80,33];break;case 10:L=[18,11];break;case 11:L=[15,11];break;case 12:L=[64,33];break;case 13:L=[160,99];break;case 14:L=[4,3];break;case 15:L=[3,2];break;case 16:L=[2,1];break;case 255:{L=[T.readUnsignedByte()<<8|T.readUnsignedByte(),T.readUnsignedByte()<<8|T.readUnsignedByte()];break}}L&&(S=L[0]/L[1])}return{profileIdc:_,levelIdc:R,profileCompatibility:C,width:Math.ceil(((N+1)*16-g*2-v*2)*S),height:(2-B)*(E+1)*16-b*2-A*2,sarRatio:L}}},a.prototype=new n,e.exports={H264Stream:a,NalByteStream:o}},{30:30,31:31}],5:[function(t,e,r){var n=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];e.exports=n},{}],6:[function(t,e,r){var n=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];e.exports=n},{}],7:[function(t,e,r){var n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(u){for(var c=[];u--;)c.push(0);return c},o=function(u){return Object.keys(u).reduce(function(c,d){return c[d]=new Uint8Array(u[d].reduce(function(h,f){return h.concat(f)},[])),c},{})},s;e.exports=function(){if(!s){var u={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};s=o(u)}return s}},{}],8:[function(t,e,r){var n=t(31),i=t(23),a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new h(0,0),new h(0,1),new h(1,0),new h(1,1)],this.reset(),this.ccStreams_.forEach(function(f){f.on("data",this.trigger.bind(this,"data")),f.on("partialdone",this.trigger.bind(this,"partialdone")),f.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new n,a.prototype.push=function(f){var p,m,l;if(f.nalUnitType==="sei_rbsp"&&(p=i.parseSei(f.escapedRBSP),p.payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(m=i.parseUserData(p),!!m))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}l=i.parseCaptionPackets(f.pts,m),this.captionPackets_=this.captionPackets_.concat(l),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},a.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(p){return f==="flush"?p.flush():p.partialFlush()},this)},a.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(p,m){p.presortIndex=m}),this.captionPackets_.sort(function(p,m){return p.pts===m.pts?p.presortIndex-m.presortIndex:p.pts-m.pts}),this.captionPackets_.forEach(function(p){p.type<2&&this.dispatchCea608Packet(p)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},a.prototype.flush=function(){return this.flushStream("flush")},a.prototype.partialFlush=function(){return this.flushStream("partialFlush")},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},a.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},a.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},a.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},a.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(f){return f===null?"":(f=o[f]||f,String.fromCharCode(f))},u=14,c=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],d=function(){for(var f=[],p=u+1;p--;)f.push("");return f},h=function(f,p){h.prototype.init.call(this),this.field_=f||0,this.dataChannel_=p||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var l,y,g,v,b;if(l=m.ccData&32639,l===this.lastControlCode_){this.lastControlCode_=null;return}if((l&61440)===4096?this.lastControlCode_=l:l!==this.PADDING_&&(this.lastControlCode_=null),g=l>>>8,v=l&255,l!==this.PADDING_)if(l===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(l===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),y=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=y,this.startPts_=m.pts;else if(l===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(l===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(l===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(l===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(l===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(l===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=d();else if(l===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=d();else if(l===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=d()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(g,v))g=(g&3)<<8,b=s(g|v),this[this.mode_](m.pts,b),this.column_++;else if(this.isExtCharacter(g,v))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),g=(g&3)<<8,b=s(g|v),this[this.mode_](m.pts,b),this.column_++;else if(this.isMidRowCode(g,v))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(v&14)===14&&this.addFormatting(m.pts,["i"]),(v&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(g,v))this.column_+=v&3;else if(this.isPAC(g,v)){var A=c.indexOf(l&7968);this.mode_==="rollUp"&&(A-this.rollUpRows_+1<0&&(A=this.rollUpRows_-1),this.setRollUp(m.pts,A)),A!==this.row_&&(this.clearFormatting(m.pts),this.row_=A),v&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(l&16)===16&&(this.column_=((l&14)>>1)*4),this.isColorPAC(v)&&(v&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(g)&&(v===0&&(v=null),b=s(g),b+=s(v),this[this.mode_](m.pts,b),this.column_+=b.length)}};h.prototype=new n,h.prototype.flushDisplayed=function(f){var p=this.displayed_.map(function(m){try{return m.trim()}catch{return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");p.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,text:p,stream:this.name_})},h.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=d(),this.nonDisplayed_=d(),this.lastControlCode_=null,this.column_=0,this.row_=u,this.rollUpRows_=2,this.formatting_=[]},h.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},h.prototype.isSpecialCharacter=function(f,p){return f===this.EXT_&&p>=48&&p<=63},h.prototype.isExtCharacter=function(f,p){return(f===this.EXT_+1||f===this.EXT_+2)&&p>=32&&p<=63},h.prototype.isMidRowCode=function(f,p){return f===this.EXT_&&p>=32&&p<=47},h.prototype.isOffsetControlCode=function(f,p){return f===this.OFFSET_&&p>=33&&p<=35},h.prototype.isPAC=function(f,p){return f>=this.BASE_&&f<this.BASE_+8&&p>=64&&p<=127},h.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},h.prototype.isNormalChar=function(f){return f>=32&&f<=127},h.prototype.setRollUp=function(f,p){if(this.mode_!=="rollUp"&&(this.row_=u,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=d(),this.displayed_=d()),p!==void 0&&p!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[p-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";p===void 0&&(p=this.row_),this.topRow_=p-this.rollUpRows_+1},h.prototype.addFormatting=function(f,p){this.formatting_=this.formatting_.concat(p);var m=p.reduce(function(l,y){return l+"<"+y+">"},"");this[this.mode_](f,m)},h.prototype.clearFormatting=function(f){if(this.formatting_.length){var p=this.formatting_.reverse().reduce(function(m,l){return m+"</"+l+">"},"");this.formatting_=[],this[this.mode_](f,p)}},h.prototype.popOn=function(f,p){var m=this.nonDisplayed_[this.row_];m+=p,this.nonDisplayed_[this.row_]=m},h.prototype.rollUp=function(f,p){var m=this.displayed_[this.row_];m+=p,this.displayed_[this.row_]=m},h.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]="";for(f=this.row_+1;f<u+1;f++)this.displayed_[f]="";for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]=""},h.prototype.paintOn=function(f,p){var m=this.displayed_[this.row_];m+=p,this.displayed_[this.row_]=m},e.exports={CaptionStream:a,Cea608Stream:h}},{23:23,31:31}],9:[function(t,e,r){var n=t(31),i=t(8),a=t(11),o=t(12).TimestampRolloverStream,s,u,c,d=188,h=71;s=function(){var m=new Uint8Array(d),l=0;s.prototype.init.call(this),this.push=function(y){var g=0,v=d,b;for(l?(b=new Uint8Array(y.byteLength+l),b.set(m.subarray(0,l)),b.set(y,l),l=0):b=y;v<b.byteLength;){if(b[g]===h&&b[v]===h){this.trigger("data",b.subarray(g,v)),g+=d,v+=d;continue}g++,v++}g<b.byteLength&&(m.set(b.subarray(g),0),l=b.byteLength-g)},this.flush=function(){l===d&&m[0]===h&&(this.trigger("data",m),l=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){l=0,this.trigger("reset")}},s.prototype=new n,u=function(){var m,l,y,g;u.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,m=function(v,b){var A=0;b.payloadUnitStartIndicator&&(A+=v[A]+1),b.type==="pat"?l(v.subarray(A),b):y(v.subarray(A),b)},l=function(v,b){b.section_number=v[7],b.last_section_number=v[8],g.pmtPid=(v[10]&31)<<8|v[11],b.pmtPid=g.pmtPid},y=function(v,b){var A,S,T,_;if(v[5]&1){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},A=(v[1]&15)<<8|v[2],S=3+A-4,T=(v[10]&15)<<8|v[11],_=12+T;_<S;){var R=v[_],C=(v[_+1]&31)<<8|v[_+2];R===a.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=C:R===a.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=C:R===a.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][C]=R),_+=((v[_+3]&15)<<8|v[_+4])+5}b.programMapTable=g.programMapTable}},this.push=function(v){var b={},A=4;if(b.payloadUnitStartIndicator=!!(v[1]&64),b.pid=v[1]&31,b.pid<<=8,b.pid|=v[2],(v[3]&48)>>>4>1&&(A+=v[A]+1),b.pid===0)b.type="pat",m(v.subarray(A),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",m(v.subarray(A),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([v,A,b]):this.processPes_(v,A,b)},this.processPes_=function(v,b,A){A.pid===this.programMapTable.video?A.streamType=a.H264_STREAM_TYPE:A.pid===this.programMapTable.audio?A.streamType=a.ADTS_STREAM_TYPE:A.streamType=this.programMapTable["timed-metadata"][A.pid],A.type="pes",A.data=v.subarray(b),this.trigger("data",A)}},u.prototype=new n,u.STREAM_TYPES={h264:27,adts:15},c=function(){var m=this,l={data:[],size:0},y={data:[],size:0},g={data:[],size:0},v,b=function(S,T){var _;T.packetLength=6+(S[4]<<8|S[5]),T.dataAlignmentIndicator=(S[6]&4)!==0,_=S[7],_&192&&(T.pts=(S[9]&14)<<27|(S[10]&255)<<20|(S[11]&254)<<12|(S[12]&255)<<5|(S[13]&254)>>>3,T.pts*=4,T.pts+=(S[13]&6)>>>1,T.dts=T.pts,_&64&&(T.dts=(S[14]&14)<<27|(S[15]&255)<<20|(S[16]&254)<<12|(S[17]&255)<<5|(S[18]&254)>>>3,T.dts*=4,T.dts+=(S[18]&6)>>>1)),T.data=S.subarray(9+S[8])},A=function(S,T,_){var R=new Uint8Array(S.size),C={type:T},I=0,z=0,D=!1,N;if(!(!S.data.length||S.size<9)){for(C.trackId=S.data[0].pid,I=0;I<S.data.length;I++)N=S.data[I],R.set(N.data,z),z+=N.data.byteLength;b(R,C),D=T==="video"||C.packetLength<=S.size,(_||D)&&(S.size=0,S.data.length=0),D&&m.trigger("data",C)}};c.prototype.init.call(this),this.push=function(S){({pat:function(){},pes:function(){var T,_;switch(S.streamType){case a.H264_STREAM_TYPE:T=l,_="video";break;case a.ADTS_STREAM_TYPE:T=y,_="audio";break;case a.METADATA_STREAM_TYPE:T=g,_="timed-metadata";break;default:return}S.payloadUnitStartIndicator&&A(T,_,!0),T.data.push(S),T.size+=S.data.byteLength},pmt:function(){var T={type:"metadata",tracks:[]};v=S.programMapTable,v.video!==null&&T.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+v.video,codec:"avc",type:"video"}),v.audio!==null&&T.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+v.audio,codec:"adts",type:"audio"}),m.trigger("data",T)}})[S.type]()},this.reset=function(){l.size=0,l.data.length=0,y.size=0,y.data.length=0,this.trigger("reset")},this.flushStreams_=function(){A(l,"video"),A(y,"audio"),A(g,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},c.prototype=new n;var f={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:s,TransportParseStream:u,ElementaryStream:c,TimestampRolloverStream:o,CaptionStream:i.CaptionStream,Cea608Stream:i.Cea608Stream,MetadataStream:t(10)};for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p]);e.exports=f},{10:10,11:11,12:12,31:31,8:8}],10:[function(t,e,r){var n=t(31),i=t(11),a=function(h,f,p){var m,l="";for(m=f;m<p;m++)l+="%"+("00"+h[m].toString(16)).slice(-2);return l},o=function(h,f,p){return decodeURIComponent(a(h,f,p))},s=function(h,f,p){return unescape(a(h,f,p))},u=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},c={TXXX:function(h){var f;if(h.data[0]===3){for(f=1;f<h.data.length;f++)if(h.data[f]===0){h.description=o(h.data,1,f),h.value=o(h.data,f+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var f;if(h.data[0]===3){for(f=1;f<h.data.length;f++)if(h.data[f]===0){h.description=o(h.data,1,f),h.url=o(h.data,f+1,h.data.length);break}}},PRIV:function(h){var f;for(f=0;f<h.data.length;f++)if(h.data[f]===0){h.owner=s(h.data,0,f);break}h.privateData=h.data.subarray(f+1),h.data=h.privateData}},d;d=function(h){var f={debug:!!(h&&h.debug),descriptor:h&&h.descriptor},p=0,m=[],l=0,y;if(d.prototype.init.call(this),this.dispatchType=i.METADATA_STREAM_TYPE.toString(16),f.descriptor)for(y=0;y<f.descriptor.length;y++)this.dispatchType+=("00"+f.descriptor[y].toString(16)).slice(-2);this.push=function(g){var v,b,A,S,T,_;if(g.type==="timed-metadata"){if(g.dataAlignmentIndicator&&(l=0,m.length=0),m.length===0&&(g.data.length<10||g.data[0]!==73||g.data[1]!==68||g.data[2]!==51)){f.debug&&console.log("Skipping unrecognized metadata packet");return}if(m.push(g),l+=g.data.byteLength,m.length===1&&(p=u(g.data.subarray(6,10)),p+=10),!(l<p)){for(v={data:new Uint8Array(p),frames:[],pts:m[0].pts,dts:m[0].dts},T=0;T<p;)v.data.set(m[0].data.subarray(0,p-T),T),T+=m[0].data.byteLength,l-=m[0].data.byteLength,m.shift();b=10,v.data[5]&64&&(b+=4,b+=u(v.data.subarray(10,14)),p-=u(v.data.subarray(16,20)));do{if(A=u(v.data.subarray(b+4,b+8)),A<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(_=String.fromCharCode(v.data[b],v.data[b+1],v.data[b+2],v.data[b+3]),S={id:_,data:v.data.subarray(b+10,b+A+10)},S.key=S.id,c[S.id]&&(c[S.id](S),S.owner==="com.apple.streaming.transportStreamTimestamp")){var R=S.data,C=(R[3]&1)<<30|R[4]<<22|R[5]<<14|R[6]<<6|R[7]>>>2;C*=4,C+=R[7]&3,S.timeStamp=C,v.pts===void 0&&v.dts===void 0&&(v.pts=S.timeStamp,v.dts=S.timeStamp),this.trigger("timestamp",S)}v.frames.push(S),b+=10,b+=A}while(b<p);this.trigger("data",v)}}}},d.prototype=new n,e.exports=d},{11:11,31:31}],11:[function(t,e,r){e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],12:[function(t,e,r){var n=t(31),i=8589934592,a=4294967296,o="shared",s=function(c,d){var h=1;for(c>d&&(h=-1);Math.abs(d-c)>a;)c+=h*i;return c},u=function(c){var d,h;u.prototype.init.call(this),this.type_=c||o,this.push=function(f){this.type_!==o&&f.type!==this.type_||(h===void 0&&(h=f.dts),f.dts=s(f.dts,h),f.pts=s(f.pts,h),d=f.dts,this.trigger("data",f))},this.flush=function(){h=d,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){h=void 0,d=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};u.prototype=new n,e.exports={TimestampRolloverStream:u,handleRollover:s}},{31:31}],13:[function(t,e,r){var n=t(7),i=t(29),a=function(d){var h,f,p=0;for(h=0;h<d.length;h++)f=d[h],p+=f.data.byteLength;return p},o=function(d,h,f,p){var m,l=0,y=0,g=0,v=0,b,A,S;if(h.length&&(m=i.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),l=Math.ceil(i.ONE_SECOND_IN_TS/(d.samplerate/1024)),f&&p&&(y=m-Math.max(f,p),g=Math.floor(y/l),v=g*l),!(g<1||v>i.ONE_SECOND_IN_TS/2))){for(b=n()[d.samplerate],b||(b=h[0].data),A=0;A<g;A++)S=h[0],h.splice(0,0,{data:b,dts:S.dts-l,pts:S.pts-l});d.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(v,d.samplerate))}},s=function(d,h,f){return h.minSegmentDts>=f?d:(h.minSegmentDts=1/0,d.filter(function(p){return p.dts>=f?(h.minSegmentDts=Math.min(h.minSegmentDts,p.dts),h.minSegmentPts=h.minSegmentDts,!0):!1}))},u=function(d){var h,f,p=[];for(h=0;h<d.length;h++)f=d[h],p.push({size:f.data.byteLength,duration:1024});return p},c=function(d){var h,f,p=0,m=new Uint8Array(a(d));for(h=0;h<d.length;h++)f=d[h],m.set(f.data,p),p+=f.data.byteLength;return m};e.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:s,generateSampleTable:u,concatenateFrameData:c}},{29:29,7:7}],14:[function(t,e,r){var n=t(23).discardEmulationPreventionBytes,i=t(8).CaptionStream,a=t(15),o=t(25),s=t(27),u=t(26),c=function(l,y){for(var g=l,v=0;v<y.length;v++){var b=y[v];if(g<b.size)return b;g-=b.size}return null},d=function(l,y,g){var v=new DataView(l.buffer,l.byteOffset,l.byteLength),b=[],A,S,T,_;for(S=0;S+4<l.length;S+=T)if(T=v.getUint32(S),S+=4,!(T<=0))switch(l[S]&31){case 6:var R=l.subarray(S+1,S+1+T),C=c(S,y);if(A={nalUnitType:"sei_rbsp",size:T,data:R,escapedRBSP:n(R),trackId:g},C)A.pts=C.pts,A.dts=C.dts,_=C;else if(_)A.pts=_.pts,A.dts=_.dts;else{console.log("We've encountered a nal unit without data. See mux.js#233.");break}b.push(A);break}return b},h=function(l,y,g){var v=y,b=g.defaultSampleDuration||0,A=g.defaultSampleSize||0,S=g.trackId,T=[];return l.forEach(function(_){var R=s(_),C=R.samples;C.forEach(function(I){I.duration===void 0&&(I.duration=b),I.size===void 0&&(I.size=A),I.trackId=S,I.dts=v,I.compositionTimeOffset===void 0&&(I.compositionTimeOffset=0),I.pts=v+I.compositionTimeOffset,v+=I.duration}),T=T.concat(C)}),T},f=function(l,y){var g=a(l,["moof","traf"]),v=a(l,["mdat"]),b={},A=[];return v.forEach(function(S,T){var _=g[T];A.push({mdat:S,traf:_})}),A.forEach(function(S){var T=S.mdat,_=S.traf,R=a(_,["tfhd"]),C=u(R[0]),I=C.trackId,z=a(_,["tfdt"]),D=z.length>0?o(z[0]).baseMediaDecodeTime:0,N=a(_,["trun"]),E,B;y===I&&N.length>0&&(E=h(N,D,C),B=d(T,E,I),b[I]||(b[I]=[]),b[I]=b[I].concat(B))}),b},p=function(l,y,g){var v;return y===null?null:(v=f(l,y),{seiNals:v[y],timescale:g})},m=function(){var l=!1,y,g,v,b,A,S;this.isInitialized=function(){return l},this.init=function(T){y=new i,l=!0,S=T?T.isPartial:!1,y.on("data",function(_){_.startTime=_.startPts/b,_.endTime=_.endPts/b,A.captions.push(_),A.captionStreams[_.stream]=!0})},this.isNewInit=function(T,_){return T&&T.length===0||_&&typeof _=="object"&&Object.keys(_).length===0?!1:v!==T[0]||b!==_[v]},this.parse=function(T,_,R){var C;if(this.isInitialized()){if(!_||!R)return null;if(this.isNewInit(_,R))v=_[0],b=R[v];else if(v===null||!b)return g.push(T),null}else return null;for(;g.length>0;){var I=g.shift();this.parse(I,_,R)}return C=p(T,v,b),C===null||!C.seiNals?null:(this.pushNals(C.seiNals),this.flushStream(),A)},this.pushNals=function(T){if(!this.isInitialized()||!T||T.length===0)return null;T.forEach(function(_){y.push(_)})},this.flushStream=function(){if(!this.isInitialized())return null;S?y.partialFlush():y.flush()},this.clearParsedCaptions=function(){A.captions=[],A.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;y.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){g=[],v=null,b=null,A?this.clearParsedCaptions():A={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};e.exports=m},{15:15,23:23,25:25,26:26,27:27,8:8}],15:[function(t,e,r){var n=t(28).toUnsigned,i=t(19),a=function(o,s){var u=[],c,d,h,f,p;if(!s.length)return null;for(c=0;c<o.byteLength;)d=n(o[c]<<24|o[c+1]<<16|o[c+2]<<8|o[c+3]),h=i(o.subarray(c+4,c+8)),f=d>1?c+d:o.byteLength,h===s[0]&&(s.length===1?u.push(o.subarray(c+8,f)):(p=a(o.subarray(c+8,f),s.slice(1)),p.length&&(u=u.concat(p)))),c=f;return u};e.exports=a},{19:19,28:28}],16:[function(t,e,r){var n=function(f){var p,m,l=[],y=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,l.byteLength=0,p=0;p<f.length;p++)m=f[p],m.nalUnitType==="access_unit_delimiter_rbsp"?(l.length&&(l.duration=m.dts-l.dts,y.byteLength+=l.byteLength,y.nalCount+=l.length,y.duration+=l.duration,y.push(l)),l=[m],l.byteLength=m.data.byteLength,l.pts=m.pts,l.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(l.keyFrame=!0),l.duration=m.dts-l.dts,l.byteLength+=m.data.byteLength,l.push(m));return y.length&&(!l.duration||l.duration<=0)&&(l.duration=y[y.length-1].duration),y.byteLength+=l.byteLength,y.nalCount+=l.length,y.duration+=l.duration,y.push(l),y},i=function(f){var p,m,l=[],y=[];for(l.byteLength=0,l.nalCount=0,l.duration=0,l.pts=f[0].pts,l.dts=f[0].dts,y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=f[0].pts,y.dts=f[0].dts,p=0;p<f.length;p++)m=f[p],m.keyFrame?(l.length&&(y.push(l),y.byteLength+=l.byteLength,y.nalCount+=l.nalCount,y.duration+=l.duration),l=[m],l.nalCount=m.length,l.byteLength=m.byteLength,l.pts=m.pts,l.dts=m.dts,l.duration=m.duration):(l.duration+=m.duration,l.nalCount+=m.length,l.byteLength+=m.byteLength,l.push(m));return y.length&&l.duration<=0&&(l.duration=y[y.length-1].duration),y.byteLength+=l.byteLength,y.nalCount+=l.nalCount,y.duration+=l.duration,y.push(l),y},a=function(f){var p;return!f[0][0].keyFrame&&f.length>1&&(p=f.shift(),f.byteLength-=p.byteLength,f.nalCount-=p.nalCount,f[0][0].dts=p.dts,f[0][0].pts=p.pts,f[0][0].duration+=p.duration),f},o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},s=function(f,p){var m=o();return m.dataOffset=p,m.compositionTimeOffset=f.pts-f.dts,m.duration=f.duration,m.size=4*f.length,m.size+=f.byteLength,f.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},u=function(f,p){var m,l,y,g,v,b=p||0,A=[];for(m=0;m<f.length;m++)for(g=f[m],l=0;l<g.length;l++)v=g[l],y=s(v,b),b+=y.size,A.push(y);return A},c=function(f){var p,m,l,y,g,v,b=0,A=f.byteLength,S=f.nalCount,T=A+4*S,_=new Uint8Array(T),R=new DataView(_.buffer);for(p=0;p<f.length;p++)for(y=f[p],m=0;m<y.length;m++)for(g=y[m],l=0;l<g.length;l++)v=g[l],R.setUint32(b,v.data.byteLength),b+=4,_.set(v.data,b),b+=v.data.byteLength;return _},d=function(f,p){var m,l=p||0,y=[];return m=s(f,l),y.push(m),y},h=function(f){var p,m,l=0,y=f.byteLength,g=f.length,v=y+4*g,b=new Uint8Array(v),A=new DataView(b.buffer);for(p=0;p<f.length;p++)m=f[p],A.setUint32(l,m.data.byteLength),l+=4,b.set(m.data,l),l+=m.data.byteLength;return b};e.exports={groupNalsIntoFrames:n,groupFramesIntoGops:i,extendFirstKeyFrame:a,generateSampleTable:u,concatenateNalData:c,generateSampleTableForFrame:d,concatenateNalDataForFrame:h}},{}],17:[function(t,e,r){e.exports={generator:t(18),probe:t(20),Transmuxer:t(22).Transmuxer,AudioSegmentStream:t(22).AudioSegmentStream,VideoSegmentStream:t(22).VideoSegmentStream,CaptionParser:t(14)}},{14:14,18:18,20:20,22:22}],18:[function(t,e,r){var n=Math.pow(2,32)-1,i,a,o,s,u,c,d,h,f,p,m,l,y,g,v,b,A,S,T,_,R,C,I,z,D,N,E,B,F,L,K,G,Q,M,k,at,Y=4294967295;(function(){var P;if(I={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(P in I)I.hasOwnProperty(P)&&(I[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);z=new Uint8Array([105,115,111,109]),N=new Uint8Array([97,118,99,49]),D=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),B=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),F={video:E,audio:B},G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),K=new Uint8Array([0,0,0,0,0,0,0,0]),Q=new Uint8Array([0,0,0,0,0,0,0,0]),M=Q,k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),at=Q,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(P){var tt=[],et=0,W,rt,ot;for(W=1;W<arguments.length;W++)tt.push(arguments[W]);for(W=tt.length;W--;)et+=tt[W].byteLength;for(rt=new Uint8Array(et+8),ot=new DataView(rt.buffer,rt.byteOffset,rt.byteLength),ot.setUint32(0,rt.byteLength),rt.set(P,4),W=0,et=8;W<tt.length;W++)rt.set(tt[W],et),et+=tt[W].byteLength;return rt},a=function(){return i(I.dinf,i(I.dref,G))},o=function(P){return i(I.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,P.audioobjecttype<<3|P.samplingfrequencyindex>>>1,P.samplingfrequencyindex<<7|P.channelcount<<3,6,1,2]))},s=function(){return i(I.ftyp,z,D,z,N)},b=function(P){return i(I.hdlr,F[P])},u=function(P){return i(I.mdat,P)},v=function(P){var tt=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,P.duration>>>24&255,P.duration>>>16&255,P.duration>>>8&255,P.duration&255,85,196,0,0]);return P.samplerate&&(tt[12]=P.samplerate>>>24&255,tt[13]=P.samplerate>>>16&255,tt[14]=P.samplerate>>>8&255,tt[15]=P.samplerate&255,P.duration=P.duration/9e4*P.samplerate,tt[16]=P.duration>>>24&255,tt[17]=P.duration>>>16&255,tt[18]=P.duration>>>8&255,tt[19]=P.duration&255),i(I.mdhd,tt)},g=function(P){return i(I.mdia,v(P),b(P.type),d(P))},c=function(P){return i(I.mfhd,new Uint8Array([0,0,0,0,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255]))},d=function(P){return i(I.minf,P.type==="video"?i(I.vmhd,L):i(I.smhd,K),a(),S(P))},h=function(P,tt){for(var et=[],W=tt.length;W--;)et[W]=_(tt[W]);return i.apply(null,[I.moof,c(P)].concat(et))},f=function(P){for(var tt=P.length,et=[];tt--;)et[tt]=l(P[tt]);return i.apply(null,[I.moov,m(Y)].concat(et).concat(p(P)))},p=function(P){for(var tt=P.length,et=[];tt--;)et[tt]=R(P[tt]);return i.apply(null,[I.mvex].concat(et))},m=function(P){var tt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(I.mvhd,tt)},A=function(P){var tt=P.samples||[],et=new Uint8Array(4+tt.length),W,rt;for(rt=0;rt<tt.length;rt++)W=tt[rt].flags,et[rt+4]=W.dependsOn<<4|W.isDependedOn<<2|W.hasRedundancy;return i(I.sdtp,et)},S=function(P){return i(I.stbl,T(P),i(I.stts,at),i(I.stsc,M),i(I.stsz,k),i(I.stco,Q))},function(){var P,tt;T=function(et){return i(I.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),et.type==="video"?P(et):tt(et))},P=function(et){var W=et.sps||[],rt=et.pps||[],ot=[],nt=[],ut,ft;for(ut=0;ut<W.length;ut++)ot.push((W[ut].byteLength&65280)>>>8),ot.push(W[ut].byteLength&255),ot=ot.concat(Array.prototype.slice.call(W[ut]));for(ut=0;ut<rt.length;ut++)nt.push((rt[ut].byteLength&65280)>>>8),nt.push(rt[ut].byteLength&255),nt=nt.concat(Array.prototype.slice.call(rt[ut]));if(ft=[I.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(et.width&65280)>>8,et.width&255,(et.height&65280)>>8,et.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(I.avcC,new Uint8Array([1,et.profileIdc,et.profileCompatibility,et.levelIdc,255].concat([W.length],ot,[rt.length],nt))),i(I.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],et.sarRatio){var w=et.sarRatio[0],H=et.sarRatio[1];ft.push(i(I.pasp,new Uint8Array([(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255,(H&4278190080)>>24,(H&16711680)>>16,(H&65280)>>8,H&255])))}return i.apply(null,ft)},tt=function(et){return i(I.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(et.channelcount&65280)>>8,et.channelcount&255,(et.samplesize&65280)>>8,et.samplesize&255,0,0,0,0,(et.samplerate&65280)>>8,et.samplerate&255,0,0]),o(et))}}(),y=function(P){var tt=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,0,(P.duration&4278190080)>>24,(P.duration&16711680)>>16,(P.duration&65280)>>8,P.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(P.width&65280)>>8,P.width&255,0,0,(P.height&65280)>>8,P.height&255,0,0]);return i(I.tkhd,tt)},_=function(P){var tt,et,W,rt,ot,nt,ut;return tt=i(I.tfhd,new Uint8Array([0,0,0,58,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),nt=Math.floor(P.baseMediaDecodeTime/(n+1)),ut=Math.floor(P.baseMediaDecodeTime%(n+1)),et=i(I.tfdt,new Uint8Array([1,0,0,0,nt>>>24&255,nt>>>16&255,nt>>>8&255,nt&255,ut>>>24&255,ut>>>16&255,ut>>>8&255,ut&255])),ot=92,P.type==="audio"?(W=C(P,ot),i(I.traf,tt,et,W)):(rt=A(P),W=C(P,rt.length+ot),i(I.traf,tt,et,W,rt))},l=function(P){return P.duration=P.duration||Y,i(I.trak,y(P),g(P))},R=function(P){var tt=new Uint8Array([0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return P.type!=="video"&&(tt[tt.length-1]=0),i(I.trex,tt)},function(){var P,tt,et;et=function(W,rt){var ot=0,nt=0,ut=0,ft=0;return W.length&&(W[0].duration!==void 0&&(ot=1),W[0].size!==void 0&&(nt=2),W[0].flags!==void 0&&(ut=4),W[0].compositionTimeOffset!==void 0&&(ft=8)),[0,0,ot|nt|ut|ft,1,(W.length&4278190080)>>>24,(W.length&16711680)>>>16,(W.length&65280)>>>8,W.length&255,(rt&4278190080)>>>24,(rt&16711680)>>>16,(rt&65280)>>>8,rt&255]},tt=function(W,rt){var ot,nt,ut,ft,w,H;for(ft=W.samples||[],rt+=20+16*ft.length,ut=et(ft,rt),nt=new Uint8Array(ut.length+ft.length*16),nt.set(ut),ot=ut.length,H=0;H<ft.length;H++)w=ft[H],nt[ot++]=(w.duration&4278190080)>>>24,nt[ot++]=(w.duration&16711680)>>>16,nt[ot++]=(w.duration&65280)>>>8,nt[ot++]=w.duration&255,nt[ot++]=(w.size&4278190080)>>>24,nt[ot++]=(w.size&16711680)>>>16,nt[ot++]=(w.size&65280)>>>8,nt[ot++]=w.size&255,nt[ot++]=w.flags.isLeading<<2|w.flags.dependsOn,nt[ot++]=w.flags.isDependedOn<<6|w.flags.hasRedundancy<<4|w.flags.paddingValue<<1|w.flags.isNonSyncSample,nt[ot++]=w.flags.degradationPriority&61440,nt[ot++]=w.flags.degradationPriority&15,nt[ot++]=(w.compositionTimeOffset&4278190080)>>>24,nt[ot++]=(w.compositionTimeOffset&16711680)>>>16,nt[ot++]=(w.compositionTimeOffset&65280)>>>8,nt[ot++]=w.compositionTimeOffset&255;return i(I.trun,nt)},P=function(W,rt){var ot,nt,ut,ft,w,H;for(ft=W.samples||[],rt+=20+8*ft.length,ut=et(ft,rt),ot=new Uint8Array(ut.length+ft.length*8),ot.set(ut),nt=ut.length,H=0;H<ft.length;H++)w=ft[H],ot[nt++]=(w.duration&4278190080)>>>24,ot[nt++]=(w.duration&16711680)>>>16,ot[nt++]=(w.duration&65280)>>>8,ot[nt++]=w.duration&255,ot[nt++]=(w.size&4278190080)>>>24,ot[nt++]=(w.size&16711680)>>>16,ot[nt++]=(w.size&65280)>>>8,ot[nt++]=w.size&255;return i(I.trun,ot)},C=function(W,rt){return W.type==="audio"?P(W,rt):tt(W,rt)}}(),e.exports={ftyp:s,mdat:u,moof:h,moov:f,setDuration:function(P){P&&(Y=P*9e4)},initSegment:function(P){var tt=s(),et=f(P),W;return W=new Uint8Array(tt.byteLength+et.byteLength),W.set(tt),W.set(et,tt.byteLength),W}}},{}],19:[function(t,e,r){var n=function(i){var a="";return a+=String.fromCharCode(i[0]),a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),a+=String.fromCharCode(i[3]),a};e.exports=n},{}],20:[function(t,e,r){var n=t(28).toUnsigned,i=t(28).toHexString,a=t(15),o=t(19),s=t(26),u=t(27),c=t(25),d,h,f,p,m,l;d=function(y){var g={},v=a(y,["moov","trak"]);return v.reduce(function(b,A){var S,T,_,R,C;return S=a(A,["tkhd"])[0],!S||(T=S[0],_=T===0?12:20,R=n(S[_]<<24|S[_+1]<<16|S[_+2]<<8|S[_+3]),C=a(A,["mdia","mdhd"])[0],!C)?null:(T=C[0],_=T===0?12:20,b[R]=n(C[_]<<24|C[_+1]<<16|C[_+2]<<8|C[_+3]),b)},g)},h=function(y,g){var v,b,A;return v=a(g,["moof","traf"]),b=[].concat.apply([],v.map(function(S){return a(S,["tfhd"]).map(function(T){var _,R,C;return _=n(T[4]<<24|T[5]<<16|T[6]<<8|T[7]),R=y[_]||9e4,C=a(S,["tfdt"]).map(function(I){var z,D;return z=I[0],D=n(I[4]<<24|I[5]<<16|I[6]<<8|I[7]),z===1&&(D*=Math.pow(2,32),D+=n(I[8]<<24|I[9]<<16|I[10]<<8|I[11])),D})[0],C=C||1/0,C/R})})),A=Math.min.apply(null,b),isFinite(A)?A:0},f=function(y,g){var v=a(g,["moof","traf"]),b=0,A=0,S;if(v&&v.length){var T=a(v[0],["tfhd"])[0],_=a(v[0],["trun"])[0],R=a(v[0],["tfdt"])[0];if(T){var C=s(T);S=C.trackId}if(R){var I=c(R);b=I.baseMediaDecodeTime}if(_){var z=u(_);z.samples&&z.samples.length&&(A=z.samples[0].compositionTimeOffset||0)}}var D=y[S]||9e4;return(b+A)/D},p=function(y){var g=a(y,["moov","trak"]),v=[];return g.forEach(function(b){var A=a(b,["mdia","hdlr"]),S=a(b,["tkhd"]);A.forEach(function(T,_){var R=o(T.subarray(8,12)),C=S[_],I,z,D;R==="vide"&&(I=new DataView(C.buffer,C.byteOffset,C.byteLength),z=I.getUint8(0),D=z===0?I.getUint32(12):I.getUint32(20),v.push(D))})}),v},l=function(y){var g=y[0],v=g===0?12:20;return n(y[v]<<24|y[v+1]<<16|y[v+2]<<8|y[v+3])},m=function(y){var g=a(y,["moov","trak"]),v=[];return g.forEach(function(b){var A={},S=a(b,["tkhd"])[0],T,_;S&&(T=new DataView(S.buffer,S.byteOffset,S.byteLength),_=T.getUint8(0),A.id=_===0?T.getUint32(12):T.getUint32(20));var R=a(b,["mdia","hdlr"])[0];if(R){var C=o(R.subarray(8,12));C==="vide"?A.type="video":C==="soun"?A.type="audio":A.type=C}var I=a(b,["mdia","minf","stbl","stsd"])[0];if(I){var z=I.subarray(8);A.codec=o(z.subarray(4,8));var D=a(z,[A.codec])[0],N,E;D&&(/^[a-z]vc[1-9]$/i.test(A.codec)?(N=D.subarray(78),E=o(N.subarray(4,8)),E==="avcC"&&N.length>11?(A.codec+=".",A.codec+=i(N[9]),A.codec+=i(N[10]),A.codec+=i(N[11])):A.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(A.codec)&&(N=D.subarray(28),E=o(N.subarray(4,8)),E==="esds"&&N.length>20&&N[19]!==0?(A.codec+="."+i(N[19]),A.codec+="."+i(N[20]>>>2&63).replace(/^0/,"")):A.codec="mp4a.40.2"))}var B=a(b,["mdia","mdhd"])[0];B&&(A.timescale=l(B)),v.push(A)}),v},e.exports={findBox:a,parseType:o,timescale:d,startTime:h,compositionStartTime:f,videoTrackIds:p,tracks:m,getTimescaleFromMediaHeader:l}},{15:15,19:19,25:25,26:26,27:27,28:28}],21:[function(t,e,r){var n=t(29).ONE_SECOND_IN_TS,i=function(s,u){typeof u.pts=="number"&&(s.timelineStartInfo.pts===void 0&&(s.timelineStartInfo.pts=u.pts),s.minSegmentPts===void 0?s.minSegmentPts=u.pts:s.minSegmentPts=Math.min(s.minSegmentPts,u.pts),s.maxSegmentPts===void 0?s.maxSegmentPts=u.pts:s.maxSegmentPts=Math.max(s.maxSegmentPts,u.pts)),typeof u.dts=="number"&&(s.timelineStartInfo.dts===void 0&&(s.timelineStartInfo.dts=u.dts),s.minSegmentDts===void 0?s.minSegmentDts=u.dts:s.minSegmentDts=Math.min(s.minSegmentDts,u.dts),s.maxSegmentDts===void 0?s.maxSegmentDts=u.dts:s.maxSegmentDts=Math.max(s.maxSegmentDts,u.dts))},a=function(s){delete s.minSegmentDts,delete s.maxSegmentDts,delete s.minSegmentPts,delete s.maxSegmentPts},o=function(s,u){var c,d,h=s.minSegmentDts;return u||(h-=s.timelineStartInfo.dts),c=s.timelineStartInfo.baseMediaDecodeTime,c+=h,c=Math.max(0,c),s.type==="audio"&&(d=s.samplerate/n,c*=d,c=Math.floor(c)),c};e.exports={clearDtsInfo:a,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:i}},{29:29}],22:[function(t,e,r){var n=t(31),i=t(18),a=t(16),o=t(13),s=t(21),u=t(9),c=t(29),d=t(3),h=t(4).H264Stream,f=t(1),p=t(2).isLikelyAacData,m=t(29).ONE_SECOND_IN_TS,l=t(5),y=t(6),g,v,b,A,S=function(_,R){var C;if(_.length!==R.length)return!1;for(C=0;C<_.length;C++)if(_[C]!==R[C])return!1;return!0},T=function(_,R,C,I,z,D){var N=C-R,E=I-R,B=z-C;return{start:{dts:_,pts:_+N},end:{dts:_+E,pts:_+B},prependedContentDuration:D,baseMediaDecodeTime:_}};v=function(_,R){var C=[],I=0,z=0,D=0,N=1/0;R=R||{},v.prototype.init.call(this),this.push=function(E){s.collectDtsInfo(_,E),_&&l.forEach(function(B){_[B]=E[B]}),C.push(E)},this.setEarliestDts=function(E){z=E},this.setVideoBaseMediaDecodeTime=function(E){N=E},this.setAudioAppendStart=function(E){D=E},this.flush=function(){var E,B,F,L,K;if(C.length===0){this.trigger("done","AudioSegmentStream");return}E=o.trimAdtsFramesByEarliestDts(C,_,z),_.baseMediaDecodeTime=s.calculateTrackBaseMediaDecodeTime(_,R.keepOriginalTimestamps),o.prefixWithSilence(_,E,D,N),_.samples=o.generateSampleTable(E),F=i.mdat(o.concatenateFrameData(E)),C=[],B=i.moof(I,[_]),L=new Uint8Array(B.byteLength+F.byteLength),I++,L.set(B),L.set(F,B.byteLength),s.clearDtsInfo(_),K=Math.ceil(m*1024/_.samplerate),E.length&&this.trigger("timingInfo",{start:E[0].pts,end:E[0].pts+E.length*K}),this.trigger("data",{track:_,boxes:L}),this.trigger("done","AudioSegmentStream")},this.reset=function(){s.clearDtsInfo(_),C=[],this.trigger("reset")}},v.prototype=new n,g=function(_,R){var C=0,I=[],z=[],D,N;R=R||{},g.prototype.init.call(this),delete _.minPTS,this.gopCache_=[],this.push=function(E){s.collectDtsInfo(_,E),E.nalUnitType==="seq_parameter_set_rbsp"&&!D&&(D=E.config,_.sps=[E.data],y.forEach(function(B){_[B]=D[B]},this)),E.nalUnitType==="pic_parameter_set_rbsp"&&!N&&(N=E.data,_.pps=[E.data]),I.push(E)},this.flush=function(){for(var E,B,F,L,K,G,Q=0,M,k;I.length&&I[0].nalUnitType!=="access_unit_delimiter_rbsp";)I.shift();if(I.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(E=a.groupNalsIntoFrames(I),F=a.groupFramesIntoGops(E),F[0][0].keyFrame||(B=this.getGopForFusion_(I[0],_),B?(Q=B.duration,F.unshift(B),F.byteLength+=B.byteLength,F.nalCount+=B.nalCount,F.pts=B.pts,F.dts=B.dts,F.duration+=B.duration):F=a.extendFirstKeyFrame(F)),z.length){var at;if(R.alignGopsAtEnd?at=this.alignGopsAtEnd_(F):at=this.alignGopsAtStart_(F),!at){this.gopCache_.unshift({gop:F.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}s.clearDtsInfo(_),F=at}s.collectDtsInfo(_,F),_.samples=a.generateSampleTable(F),K=i.mdat(a.concatenateNalData(F)),_.baseMediaDecodeTime=s.calculateTrackBaseMediaDecodeTime(_,R.keepOriginalTimestamps),this.trigger("processedGopsInfo",F.map(function(Y){return{pts:Y.pts,dts:Y.dts,byteLength:Y.byteLength}})),M=F[0],k=F[F.length-1],this.trigger("segmentTimingInfo",T(_.baseMediaDecodeTime,M.dts,M.pts,k.dts+k.duration,k.pts+k.duration,Q)),this.trigger("timingInfo",{start:F[0].pts,end:F[F.length-1].pts+F[F.length-1].duration}),this.gopCache_.unshift({gop:F.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.trigger("baseMediaDecodeTime",_.baseMediaDecodeTime),this.trigger("timelineStartInfo",_.timelineStartInfo),L=i.moof(C,[_]),G=new Uint8Array(L.byteLength+K.byteLength),C++,G.set(L),G.set(K,L.byteLength),this.trigger("data",{track:_,boxes:G}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),I=[],this.gopCache_.length=0,z.length=0,this.trigger("reset")},this.resetStream_=function(){s.clearDtsInfo(_),D=void 0,N=void 0},this.getGopForFusion_=function(E){var B=45e3,F=1e4,L=1/0,K,G,Q,M,k;for(k=0;k<this.gopCache_.length;k++)M=this.gopCache_[k],Q=M.gop,!(!(_.pps&&S(_.pps[0],M.pps[0]))||!(_.sps&&S(_.sps[0],M.sps[0])))&&(Q.dts<_.timelineStartInfo.dts||(K=E.dts-Q.dts-Q.duration,K>=-F&&K<=B&&(!G||L>K)&&(G=M,L=K)));return G?G.gop:null},this.alignGopsAtStart_=function(E){var B,F,L,K,G,Q,M,k;for(G=E.byteLength,Q=E.nalCount,M=E.duration,B=F=0;B<z.length&&F<E.length&&(L=z[B],K=E[F],L.pts!==K.pts);){if(K.pts>L.pts){B++;continue}F++,G-=K.byteLength,Q-=K.nalCount,M-=K.duration}return F===0?E:F===E.length?null:(k=E.slice(F),k.byteLength=G,k.duration=M,k.nalCount=Q,k.pts=k[0].pts,k.dts=k[0].dts,k)},this.alignGopsAtEnd_=function(E){var B,F,L,K,G,Q;for(B=z.length-1,F=E.length-1,G=null,Q=!1;B>=0&&F>=0;){if(L=z[B],K=E[F],L.pts===K.pts){Q=!0;break}if(L.pts>K.pts){B--;continue}B===z.length-1&&(G=F),F--}if(!Q&&G===null)return null;var M;if(Q?M=F:M=G,M===0)return E;var k=E.slice(M),at=k.reduce(function(Y,P){return Y.byteLength+=P.byteLength,Y.duration+=P.duration,Y.nalCount+=P.nalCount,Y},{byteLength:0,duration:0,nalCount:0});return k.byteLength=at.byteLength,k.duration=at.duration,k.nalCount=at.nalCount,k.pts=k[0].pts,k.dts=k[0].dts,k},this.alignGopsWith=function(E){z=E}},g.prototype=new n,A=function(_,R){this.numberOfTracks=0,this.metadataStream=R,_=_||{},typeof _.remux<"u"?this.remuxTracks=!!_.remux:this.remuxTracks=!0,typeof _.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=_.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,A.prototype.init.call(this),this.push=function(C){if(C.text)return this.pendingCaptions.push(C);if(C.frames)return this.pendingMetadata.push(C);this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,C.track.type==="video"&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),C.track.type==="audio"&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))}},A.prototype=new n,A.prototype.flush=function(_){var R=0,C={captions:[],captionStreams:{},metadata:[],info:{}},I,z,D,N=0,E;if(this.pendingTracks.length<this.numberOfTracks){if(_!=="VideoSegmentStream"&&_!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(N=this.videoTrack.timelineStartInfo.pts,y.forEach(function(B){C.info[B]=this.videoTrack[B]},this)):this.audioTrack&&(N=this.audioTrack.timelineStartInfo.pts,l.forEach(function(B){C.info[B]=this.audioTrack[B]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?C.type=this.pendingTracks[0].type:C.type="combined",this.emittedTracks+=this.pendingTracks.length,D=i.initSegment(this.pendingTracks),C.initSegment=new Uint8Array(D.byteLength),C.initSegment.set(D),C.data=new Uint8Array(this.pendingBytes),E=0;E<this.pendingBoxes.length;E++)C.data.set(this.pendingBoxes[E],R),R+=this.pendingBoxes[E].byteLength;for(E=0;E<this.pendingCaptions.length;E++)I=this.pendingCaptions[E],I.startTime=c.metadataTsToSeconds(I.startPts,N,this.keepOriginalTimestamps),I.endTime=c.metadataTsToSeconds(I.endPts,N,this.keepOriginalTimestamps),C.captionStreams[I.stream]=!0,C.captions.push(I);for(E=0;E<this.pendingMetadata.length;E++)z=this.pendingMetadata[E],z.cueTime=c.metadataTsToSeconds(z.pts,N,this.keepOriginalTimestamps),C.metadata.push(z);for(C.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",C),E=0;E<C.captions.length;E++)I=C.captions[E],this.trigger("caption",I);for(E=0;E<C.metadata.length;E++)z=C.metadata[E],this.trigger("id3Frame",z)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},A.prototype.setRemux=function(_){this.remuxTracks=_},b=function(_){var R=this,C=!0,I,z;b.prototype.init.call(this),_=_||{},this.baseMediaDecodeTime=_.baseMediaDecodeTime||0,this.transmuxPipeline_={},i.setDuration(_.duration),this.setupAacPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="aac",D.metadataStream=new u.MetadataStream,D.aacStream=new f,D.audioTimestampRolloverStream=new u.TimestampRolloverStream("audio"),D.timedMetadataTimestampRolloverStream=new u.TimestampRolloverStream("timed-metadata"),D.adtsStream=new d,D.coalesceStream=new A(_,D.metadataStream),D.headOfPipeline=D.aacStream,D.aacStream.pipe(D.audioTimestampRolloverStream).pipe(D.adtsStream),D.aacStream.pipe(D.timedMetadataTimestampRolloverStream).pipe(D.metadataStream).pipe(D.coalesceStream),D.metadataStream.on("timestamp",function(N){D.aacStream.setTimestamp(N.timeStamp)}),D.aacStream.on("data",function(N){N.type!=="timed-metadata"&&N.type!=="audio"||D.audioSegmentStream||(z=z||{timelineStartInfo:{baseMediaDecodeTime:R.baseMediaDecodeTime},codec:"adts",type:"audio"},D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new v(z,_),D.audioSegmentStream.on("timingInfo",R.trigger.bind(R,"audioTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream),R.trigger("trackinfo",{hasAudio:!!z,hasVideo:!!I}))}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="ts",D.metadataStream=new u.MetadataStream,D.packetStream=new u.TransportPacketStream,D.parseStream=new u.TransportParseStream,D.elementaryStream=new u.ElementaryStream,D.timestampRolloverStream=new u.TimestampRolloverStream,D.adtsStream=new d,D.h264Stream=new h,D.captionStream=new u.CaptionStream,D.coalesceStream=new A(_,D.metadataStream),D.headOfPipeline=D.packetStream,D.packetStream.pipe(D.parseStream).pipe(D.elementaryStream).pipe(D.timestampRolloverStream),D.timestampRolloverStream.pipe(D.h264Stream),D.timestampRolloverStream.pipe(D.adtsStream),D.timestampRolloverStream.pipe(D.metadataStream).pipe(D.coalesceStream),D.h264Stream.pipe(D.captionStream).pipe(D.coalesceStream),D.elementaryStream.on("data",function(N){var E;if(N.type==="metadata"){for(E=N.tracks.length;E--;)!I&&N.tracks[E].type==="video"?(I=N.tracks[E],I.timelineStartInfo.baseMediaDecodeTime=R.baseMediaDecodeTime):!z&&N.tracks[E].type==="audio"&&(z=N.tracks[E],z.timelineStartInfo.baseMediaDecodeTime=R.baseMediaDecodeTime);I&&!D.videoSegmentStream&&(D.coalesceStream.numberOfTracks++,D.videoSegmentStream=new g(I,_),D.videoSegmentStream.on("timelineStartInfo",function(B){z&&!_.keepOriginalTimestamps&&(z.timelineStartInfo=B,D.audioSegmentStream.setEarliestDts(B.dts-R.baseMediaDecodeTime))}),D.videoSegmentStream.on("processedGopsInfo",R.trigger.bind(R,"gopInfo")),D.videoSegmentStream.on("segmentTimingInfo",R.trigger.bind(R,"videoSegmentTimingInfo")),D.videoSegmentStream.on("baseMediaDecodeTime",function(B){z&&D.audioSegmentStream.setVideoBaseMediaDecodeTime(B)}),D.videoSegmentStream.on("timingInfo",R.trigger.bind(R,"videoTimingInfo")),D.h264Stream.pipe(D.videoSegmentStream).pipe(D.coalesceStream)),z&&!D.audioSegmentStream&&(D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new v(z,_),D.audioSegmentStream.on("timingInfo",R.trigger.bind(R,"audioTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream)),R.trigger("trackinfo",{hasAudio:!!z,hasVideo:!!I})}}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("id3Frame",function(N){N.dispatchType=D.metadataStream.dispatchType,R.trigger("id3Frame",N)}),D.coalesceStream.on("caption",this.trigger.bind(this,"caption")),D.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(D){var N=this.transmuxPipeline_;_.keepOriginalTimestamps||(this.baseMediaDecodeTime=D),z&&(z.timelineStartInfo.dts=void 0,z.timelineStartInfo.pts=void 0,s.clearDtsInfo(z),N.audioTimestampRolloverStream&&N.audioTimestampRolloverStream.discontinuity()),I&&(N.videoSegmentStream&&(N.videoSegmentStream.gopCache_=[]),I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,s.clearDtsInfo(I),N.captionStream.reset()),N.timestampRolloverStream&&N.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(D){z&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(D)},this.setRemux=function(D){var N=this.transmuxPipeline_;_.remux=D,N&&N.coalesceStream&&N.coalesceStream.setRemux(D)},this.alignGopsWith=function(D){I&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(D)},this.push=function(D){if(C){var N=p(D);N&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!N&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(D)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},b.prototype=new n,e.exports={Transmuxer:b,VideoSegmentStream:g,AudioSegmentStream:v,AUDIO_PROPERTIES:l,VIDEO_PROPERTIES:y,generateVideoSegmentTimingInfo:T}},{1:1,13:13,16:16,18:18,2:2,21:21,29:29,3:3,31:31,4:4,5:5,6:6,9:9}],23:[function(t,e,r){var n=4,i=128,a=function(c){for(var d=0,h={payloadType:-1,payloadSize:0},f=0,p=0;d<c.byteLength&&c[d]!==i;){for(;c[d]===255;)f+=255,d++;for(f+=c[d++];c[d]===255;)p+=255,d++;if(p+=c[d++],!h.payload&&f===n){var m=String.fromCharCode(c[d+3],c[d+4],c[d+5],c[d+6]);if(m==="GA94"){h.payloadType=f,h.payloadSize=p,h.payload=c.subarray(d,d+p);break}else h.payload=void 0}d+=p,f=0,p=0}return h},o=function(c){return c.payload[0]!==181||(c.payload[1]<<8|c.payload[2])!==49||String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6])!=="GA94"||c.payload[7]!==3?null:c.payload.subarray(8,c.payload.length-1)},s=function(c,d){var h=[],f,p,m,l;if(!(d[0]&64))return h;for(p=d[0]&31,f=0;f<p;f++)m=f*3,l={type:d[m+2]&3,pts:c},d[m+2]&4&&(l.ccData=d[m+3]<<8|d[m+4],h.push(l));return h},u=function(c){for(var d=c.byteLength,h=[],f=1,p,m;f<d-2;)c[f]===0&&c[f+1]===0&&c[f+2]===3?(h.push(f+2),f+=2):f++;if(h.length===0)return c;p=d-h.length,m=new Uint8Array(p);var l=0;for(f=0;f<p;l++,f++)l===h[0]&&(l++,h.shift()),m[f]=c[l];return m};e.exports={parseSei:a,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:u,USER_DATA_REGISTERED_ITU_T_T35:n}},{}],24:[function(t,e,r){var n=function(i){return{isLeading:(i[0]&12)>>>2,dependsOn:i[0]&3,isDependedOn:(i[1]&192)>>>6,hasRedundancy:(i[1]&48)>>>4,paddingValue:(i[1]&14)>>>1,isNonSyncSample:i[1]&1,degradationPriority:i[2]<<8|i[3]}};e.exports=n},{}],25:[function(t,e,r){var n=t(28).toUnsigned,i=function(a){var o={version:a[0],flags:new Uint8Array(a.subarray(1,4)),baseMediaDecodeTime:n(a[4]<<24|a[5]<<16|a[6]<<8|a[7])};return o.version===1&&(o.baseMediaDecodeTime*=Math.pow(2,32),o.baseMediaDecodeTime+=n(a[8]<<24|a[9]<<16|a[10]<<8|a[11])),o};e.exports=i},{28:28}],26:[function(t,e,r){var n=function(i){var a=new DataView(i.buffer,i.byteOffset,i.byteLength),o={version:i[0],flags:new Uint8Array(i.subarray(1,4)),trackId:a.getUint32(4)},s=o.flags[2]&1,u=o.flags[2]&2,c=o.flags[2]&8,d=o.flags[2]&16,h=o.flags[2]&32,f=o.flags[0]&65536,p=o.flags[0]&131072,m;return m=8,s&&(m+=4,o.baseDataOffset=a.getUint32(12),m+=4),u&&(o.sampleDescriptionIndex=a.getUint32(m),m+=4),c&&(o.defaultSampleDuration=a.getUint32(m),m+=4),d&&(o.defaultSampleSize=a.getUint32(m),m+=4),h&&(o.defaultSampleFlags=a.getUint32(m)),f&&(o.durationIsEmpty=!0),!s&&p&&(o.baseDataOffsetIsMoof=!0),o};e.exports=n},{}],27:[function(t,e,r){var n=t(24),i=function(a){var o={version:a[0],flags:new Uint8Array(a.subarray(1,4)),samples:[]},s=new DataView(a.buffer,a.byteOffset,a.byteLength),u=o.flags[2]&1,c=o.flags[2]&4,d=o.flags[1]&1,h=o.flags[1]&2,f=o.flags[1]&4,p=o.flags[1]&8,m=s.getUint32(4),l=8,y;for(u&&(o.dataOffset=s.getInt32(l),l+=4),c&&m&&(y={flags:n(a.subarray(l,l+4))},l+=4,d&&(y.duration=s.getUint32(l),l+=4),h&&(y.size=s.getUint32(l),l+=4),p&&(o.version===1?y.compositionTimeOffset=s.getInt32(l):y.compositionTimeOffset=s.getUint32(l),l+=4),o.samples.push(y),m--);m--;)y={},d&&(y.duration=s.getUint32(l),l+=4),h&&(y.size=s.getUint32(l),l+=4),f&&(y.flags=n(a.subarray(l,l+4)),l+=4),p&&(o.version===1?y.compositionTimeOffset=s.getInt32(l):y.compositionTimeOffset=s.getUint32(l),l+=4),o.samples.push(y);return o};e.exports=i},{24:24}],28:[function(t,e,r){var n=function(a){return a>>>0},i=function(a){return("00"+a.toString(16)).slice(-2)};e.exports={toUnsigned:n,toHexString:i}},{}],29:[function(t,e,r){var n=9e4,i,a,o,s,u,c,d;i=function(h){return h*n},a=function(h,f){return h*f},o=function(h){return h/n},s=function(h,f){return h/f},u=function(h,f){return i(s(h,f))},c=function(h,f){return a(o(h),f)},d=function(h,f,p){return o(p?h:h-f)},e.exports={ONE_SECOND_IN_TS:n,secondsToVideoTs:i,secondsToAudioTs:a,videoTsToSeconds:o,audioTsToSeconds:s,audioTsToVideoTs:u,videoTsToAudioTs:c,metadataTsToSeconds:d}},{}],30:[function(t,e,r){var n;n=function(i){var a=i.byteLength,o=0,s=0;this.length=function(){return 8*a},this.bitsAvailable=function(){return 8*a+s},this.loadWord=function(){var u=i.byteLength-a,c=new Uint8Array(4),d=Math.min(4,a);if(d===0)throw new Error("no bytes available");c.set(i.subarray(u,u+d)),o=new DataView(c.buffer).getUint32(0),s=d*8,a-=d},this.skipBits=function(u){var c;s>u?(o<<=u,s-=u):(u-=s,c=Math.floor(u/8),u-=c*8,a-=c,this.loadWord(),o<<=u,s-=u)},this.readBits=function(u){var c=Math.min(s,u),d=o>>>32-c;return s-=c,s>0?o<<=c:a>0&&this.loadWord(),c=u-c,c>0?d<<c|this.readBits(c):d},this.skipLeadingZeros=function(){var u;for(u=0;u<s;++u)if(o&2147483648>>>u)return o<<=u,s-=u,u;return this.loadWord(),u+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var u=this.skipLeadingZeros();return this.readBits(u+1)-1},this.readExpGolomb=function(){var u=this.readUnsignedExpGolomb();return 1&u?1+u>>>1:-1*(u>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},{}],31:[function(t,e,r){var n=function(){this.init=function(){var i={};this.on=function(a,o){i[a]||(i[a]=[]),i[a]=i[a].concat(o)},this.off=function(a,o){var s;return i[a]?(s=i[a].indexOf(o),i[a]=i[a].slice(),i[a].splice(s,1),s>-1):!1},this.trigger=function(a){var o,s,u,c;if(o=i[a],!!o)if(arguments.length===2)for(u=o.length,s=0;s<u;++s)o[s].call(this,arguments[1]);else{for(c=[],s=arguments.length,s=1;s<arguments.length;++s)c.push(arguments[s]);for(u=o.length,s=0;s<u;++s)o[s].apply(this,c)}},this.dispose=function(){i={}}}};n.prototype.pipe=function(i){return this.on("data",function(a){i.push(a)}),this.on("done",function(a){i.flush(a)}),this.on("partialdone",function(a){i.partialFlush(a)}),this.on("endedtimeline",function(a){i.endTimeline(a)}),this.on("reset",function(a){i.reset(a)}),i},n.prototype.push=function(i){this.trigger("data",i)},n.prototype.flush=function(i){this.trigger("done",i)},n.prototype.partialFlush=function(i){this.trigger("partialdone",i)},n.prototype.endTimeline=function(i){this.trigger("endedtimeline",i)},n.prototype.reset=function(i){this.trigger("reset",i)},e.exports=n},{}]},{},[17])(17)});function Ad(t){return new Worker("/assets/ffmpeg-worker-mp4-PhgkZYyd.js",{name:t==null?void 0:t.name})}const Gi=pi(),Ln=t=>Gi.emit("updateStatus",t),Ar=t=>{console.log("Process Percentage:"+t),Gi.emit("updateDlProcess",t)},ii=t=>Gi.emit("showDlProcess",t),Dd=JSON.parse(localStorage.getItem("session")||"{}"),Sd=Re.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:Dd.token},onDownloadProgress(t){const{loaded:e,total:r}=t;if(e&&r){let n=Math.round(e*100/r);Ar(n)}}}),ye=Re.create({timeout:1e3*60*30});nr(ye,{retries:3,retryCondition:t=>t.code==="ECONNABORTED"});nr(Sd);class Os{constructor(e,r=0,n=0){Ut(this,"url","");Ut(this,"path","");Ut(this,"search","");Ut(this,"width",0);Ut(this,"height",0);Ut(this,"currentFileSize",0);Ut(this,"totalFileSize",0);Ut(this,"duration",0);this.url=e,this.path=e.substring(0,e.lastIndexOf("/")+1),this.search=new URL(e).search,this.width=r,this.height=n}async getFileSize(e){const r=await ye.head(e);return parseInt(r.headers["content-length"])}matchResolutionCategory(){const e=[270,360,480,720,1080,1440,2160,4320],r=this.width;for(let n=0;n<e.length-1;n++){const i=e[n],a=e[n+1];if(r>=i&&r<a)return e.slice(0,n+1)}return[]}resolveUrlWithCategory(){const e=this.matchResolutionCategory(),[r,n]=this.url.split("?"),i=r.substring(0,r.lastIndexOf("/")+1),a=r.substring(r.lastIndexOf("/")+1),[o,s]=a.split(".");return e.map(u=>`${o}_${u}.${s}`).map(u=>`${i}${u}?${n}`)}}class _d extends Os{constructor(r,n,i){super(r,n,i);Ut(this,"manifestMap",new Map)}async download(){let{manifest:r,isVaild:n}=await this.getCheckedManifest(this.url);if(!n){const o=this.resolveUrlWithCategory();let s=!1;for(;o.length>0&&!s;){const u=o.pop();try{const{manifest:c,isVaild:d}=await this.getCheckedManifest(u);d&&(r=c,s=!0)}catch{console.log(`Resolution ${u} is not valid`)}}if(!s)return console.log(`All resolution is not valid: ${this.url}`),new Blob}let i=r.segments.map(o=>({...o,uri:this.path+o.uri+this.search}));if(r.segments.length===0&&r.playlists.length>0){const o=await this.getBestPlaylist(r),s=this.path+o.uri+this.search,{manifest:u,isVaild:c}=await this.getCheckedManifest(s);c&&(i=u.segments.map(d=>({...d,uri:this.path+d.uri+this.search})))}await Promise.all(i.map(async o=>{const s=await ye.head(o.uri);this.duration+=o.duration,this.totalFileSize+=parseInt(s.headers["content-length"])})),ii("Downloading HLS video");const a=new Array(i.length);return await Ci.PromisePool.withConcurrency(5).for(i).process(async(o,s)=>{const u=await ye.get(o.uri,{responseType:"arraybuffer",onDownloadProgress:d=>{this.currentFileSize+=d.bytes;const h=parseFloat((this.currentFileSize*100/this.totalFileSize).toFixed(2));Ar(h)}}),c=new window.muxjs.Transmuxer({keepOriginalTimestamps:!0,duration:this.duration});c.on("data",d=>{if(s==0){let h=new Uint8Array(d.initSegment.byteLength+d.data.byteLength);h.set(d.initSegment,0),h.set(d.data,d.initSegment.byteLength),a[s]=h.buffer}else a[s]=new Uint8Array(d.data)}),c.push(new Uint8Array(u.data)),c.flush()}),new Blob(a,{type:"video/mp4"})}async getCheckedManifest(r){if(r=r||this.url,this.manifestMap.has(r))return this.manifestMap.get(r);const n=await this.getManifest(r);let i=!0;return(!n.segments||!n.playlists&&n.segments.length===0)&&(i=!1),this.manifestMap.set(r,{isVaild:i,manifest:n}),{isVaild:i,manifest:n}}async getManifest(r){return ye.get(r).then(n=>{const i=new Xc;return i.push(n.data),i.end(),i.manifest})}async getBestPlaylist(r){const n=r.playlists;let i=n[0];for(let a=1;a<n.length;a++){const o=n[a];o.attributes.RESOLUTION.width>i.attributes.RESOLUTION.width&&(i=o)}return i}}class Td extends Os{constructor(e,r,n){super(e,r,n)}async download(){ii("Downloading HLS video");const e=await this.getManifest(this.url);console.log(e);const n=(await this.getBestPlaylist(e)).map(u=>u.resolvedUri+this.search);if(await Promise.all(n.map(async u=>{const c=await ye.head(u);this.totalFileSize+=parseInt(c.headers["content-length"])})),this.totalFileSize>1.5*1024*1024*1024)return Ln("Total size is too large, download by browser"),n;const i=new Array(n.length);await Ci.PromisePool.withConcurrency(5).for(n).process(async(u,c)=>{const d=await ye.get(u,{responseType:"arraybuffer",onDownloadProgress:h=>{this.currentFileSize+=h.bytes;const f=parseFloat((this.currentFileSize*100/this.totalFileSize).toFixed(2));Ar(f)}});i[c]=new Uint8Array(d.data)});const[a,o]=i;if(!o)return new Blob([a],{type:"video/mp4"});const s=await this.mergeAudioAndVideo(a,o);return s?new Blob([s],{type:"video/mp4"}):new Blob}mergeAudioAndVideo(e,r){const n=this.totalFileSize;return new Promise(i=>{const a=new Ad;let o=e.buffer,s=r.buffer,u;a.onmessage=c=>{const d=c.data,h=/size=\s*(\d+)kB/;switch(d.type){case"ready":a.postMessage({type:"run",arguments:["-i","video.mp4","-i","audio.mp4","-c:v","copy","-c:a","copy","-map","0:v","-map","1:a","output.mp4"],MEMFS:[{name:"video.mp4",data:o},{name:"audio.mp4",data:s}]},[o,s]),Ln("Merging Video and Audio"),ii("Merging Video and Audio");break;case"stdout":if(u=d.data.match(h),u){const m=parseInt(u[1])*1024,l=parseInt((m*100/n).toFixed(2));console.log("sendToUpdateProcess"),Ar(l)}break;case"stderr":if(u=d.data.match(h),u){const m=parseInt(u[1])*1024,l=parseInt((m*100/n).toFixed(2));console.log("sendToUpdateProcess"),Ar(l)}break;case"exit":console.log("Process exited with code "+d.data),d.data!==0&&(a.terminate(),Ln("Failed to merge video and audio: OOM"),i());break;case"done":console.log("Done",d.data);const f=d.data.MEMFS.find(p=>p.name==="output.mp4");a.terminate(),i(f==null?void 0:f.data);break}}})}async getCheckedManifest(e){return{isVaild:!0,manifest:await this.getManifest(e||this.url)}}async getManifest(e){return ye.get(e).then(r=>wd(r.data,{manifestUri:e}))}async getBestPlaylist(e){const r=e.playlists,i=(d=>{let h=d[0];for(let f=1;f<d.length;f++){const p=d[f];p.attributes.RESOLUTION.width>h.attributes.RESOLUTION.width&&(h=p)}return h})(r),a=e.mediaGroups.AUDIO.audio;if(!a)return[i];const o=Object.keys(a)[0],c=a[o].playlists[0];return[i,c]}}const xn=pi(),Ht=t=>xn.emit("updateStatus",t),Cd=t=>{xn.emit("updateDlProcess",t)},Od=t=>xn.emit("showDlProcess",t),Id=()=>xn.emit("hideDlProcess"),xd=JSON.parse(localStorage.getItem("session")||"{}"),Rd=new AbortController,Is=Re.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:xd.token},onDownloadProgress(t){const{loaded:e,total:r}=t;if(e&&r){let n=Math.round(e*100/r);Cd(n)}},signal:Rd.signal}),Nd=Re.create({timeout:1e3*60*30});nr(Nd,{retries:3,retryCondition:t=>t.code==="ECONNABORTED"});nr(Is);const De=(t,e)=>chrome.downloads.download({url:t,filename:e});class Pd{constructor(){Ut(this,"jszip");Ut(this,"totalFileSize");Ut(this,"zipCount");this.jszip=new en,this.totalFileSize=0,this.zipCount=0}async addFile(e,r){Ht(`Downloading ${r}`);const{headers:n}=await Re.head(e),i=n["content-length"];if(parseInt(i)>1024*1024*1024)return De(e,r);if(this.totalFileSize+parseInt(i)>1024*1024*1024*2){Ht("Too large data, download in packages."),this.zipCount++;const o=await this.jszip.generateAsync({type:"blob"});Nn.saveAs(o,`FanslyDownloader-${this.zipCount}.zip`),this.jszip=new en,this.totalFileSize=0;return}Od(r);const a=await Is.get(e);this.jszip.file(r,a.data),this.totalFileSize+=parseInt(i)}async addBlob(e,r){if(e.size>1024*1024*1024){const n=URL.createObjectURL(e);return De(n,r)}if(this.totalFileSize+e.size>1024*1024*1024*2){Ht("Too large data, download in packages."),this.zipCount++;const n=await this.jszip.generateAsync({type:"blob"});Nn.saveAs(n,`FanslyDownloader-${this.zipCount}.zip`),this.jszip=new en,this.totalFileSize=0;return}this.jszip.file(r,e),this.totalFileSize+=e.size}async download(){if(this.totalFileSize===0){Ht("No files downloaded.");return}else{Ht("Waitting for the generated .zip file...");const e=await this.jszip.generateAsync({type:"blob"});Nn.saveAs(e,this.zipCount===0?"FanslyDownloader.zip":`FanslyDownloader-${this.zipCount++}.zip`)}this.jszip=new en,this.totalFileSize=0,this.zipCount=0}}const Dr=new Pd;async function bn(t,e){if(t=t.filter((o,s,u)=>s===u.findIndex(c=>c.url===o.url)),t.length===0)return;const{isZipPackage:r,isCollectPostInfo:n}=e;let i=0;const a=t.length;if(n){const o=[];for(const s of t)if(s.postInfo){const{id:u,username:c,content:d,createdAt:h,likeCount:f,mediaLikeCount:p}=s.postInfo;if(!o.includes(u)){const m=`${c.trimStart().trimEnd()}/${an(h)}_${u}/info.txt`,y=[`Post ID: ${u}`,`Username: ${c}`,`Content: ${d}`,`Like Count: ${f}`,`Media Like Count: ${p}`,`Post Time: ${qa(h)}`,`Created Time: ${qa(Date.now())}`].join(`
`),g=new Blob([y],{type:"text/plain"});if(o.push(u),s.postInfo)if(r)Dr.jszip.file(m,g);else{const v=URL.createObjectURL(g);De(v,m)}}}}for(const o of t){const{url:s,username:u,type:c,createdAt:d,width:h,height:f,postInfo:p}=o,[m,l]=new URL(s).pathname.split("/").pop().split("."),y=[u.trimStart().trimEnd(),c];n?(p?y.splice(1,0,an(p.createdAt)+"_"+p.id):y.splice(1,0,an(d)+"_message"),y.push(`${h}x${f}_${m}.${l}`)):y.push(`${an(d)}_${h}x${f}_${m}.${l}`);let g=y.join("/");if(c=="HLS"){const{origin:v,pathname:b,search:A}=new URL(s);v+b.split("/").slice(0,-1).join("/")+"";const S=l=="mpd"?new Td(s,h,f):new _d(s,h,f),T=g.replace(`.${l}`,".mp4");Ht(`Downloading ${T}`);try{const _=await S.download();if(!_)Ht("Invalid HLS manifest."),i++,Ht(`Downloaded ${i} of ${a} files`);else{if(Array.isArray(_)){console.log(_);const[R,C]=_;De(R,T.replace(".mp4","-video.mp4")),De(C,T.replace(".mp4","-audio.mp4"))}else if(r)await Dr.addBlob(_,T);else{const R=URL.createObjectURL(_);De(R,T)}i++,Ht(`Downloaded ${i} of ${a} files`)}}catch{}}else i++,Ht(`Downloading ${g}`),r?await Dr.addFile(s,g):De(s,g),Ht(`Downloaded ${i} of ${a} files`)}Id()}function an(t){t.toString().length===10&&(t*=1e3);const e=new Date(t),r=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return`${r}-${n}-${i}`}function qa(t){return t.toString().length===10&&(t*=1e3),new Date(t).toLocaleString()}var Bd=Error,Fd=EvalError,kd=RangeError,Ld=ReferenceError,xs=SyntaxError,Xr=TypeError,Ud=URIError,Md=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Ga=typeof Symbol<"u"&&Symbol,zd=Md,$d=function(){return typeof Ga!="function"||typeof Symbol!="function"||typeof Ga("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:zd()},Un={__proto__:null,foo:{}},qd=Object,Gd=function(){return{__proto__:Un}.foo===Un.foo&&!(Un instanceof qd)},Hd="Function.prototype.bind called on incompatible ",jd=Object.prototype.toString,Vd=Math.max,Wd="[object Function]",Ha=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},Xd=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},Yd=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Zd=function(e){var r=this;if(typeof r!="function"||jd.apply(r)!==Wd)throw new TypeError(Hd+r);for(var n=Xd(arguments,1),i,a=function(){if(this instanceof i){var d=r.apply(this,Ha(n,arguments));return Object(d)===d?d:this}return r.apply(e,Ha(n,arguments))},o=Vd(0,r.length-n.length),s=[],u=0;u<o;u++)s[u]="$"+u;if(i=Function("binder","return function ("+Yd(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Kd=Zd,Hi=Function.prototype.bind||Kd,Jd=Function.prototype.call,Qd=Object.prototype.hasOwnProperty,tp=Hi,ep=tp.call(Jd,Qd),ct,rp=Bd,np=Fd,ip=kd,ap=Ld,tr=xs,He=Xr,op=Ud,Rs=Function,Mn=function(t){try{return Rs('"use strict"; return ('+t+").constructor;")()}catch{}},Te=Object.getOwnPropertyDescriptor;if(Te)try{Te({},"")}catch{Te=null}var zn=function(){throw new He},sp=Te?function(){try{return arguments.callee,zn}catch{try{return Te(arguments,"callee").get}catch{return zn}}}():zn,Ue=$d(),up=Gd(),Dt=Object.getPrototypeOf||(up?function(t){return t.__proto__}:null),$e={},lp=typeof Uint8Array>"u"||!Dt?ct:Dt(Uint8Array),Ce={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ct:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ct:ArrayBuffer,"%ArrayIteratorPrototype%":Ue&&Dt?Dt([][Symbol.iterator]()):ct,"%AsyncFromSyncIteratorPrototype%":ct,"%AsyncFunction%":$e,"%AsyncGenerator%":$e,"%AsyncGeneratorFunction%":$e,"%AsyncIteratorPrototype%":$e,"%Atomics%":typeof Atomics>"u"?ct:Atomics,"%BigInt%":typeof BigInt>"u"?ct:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ct:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ct:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ct:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rp,"%eval%":eval,"%EvalError%":np,"%Float32Array%":typeof Float32Array>"u"?ct:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ct:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ct:FinalizationRegistry,"%Function%":Rs,"%GeneratorFunction%":$e,"%Int8Array%":typeof Int8Array>"u"?ct:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ct:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ct:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ue&&Dt?Dt(Dt([][Symbol.iterator]())):ct,"%JSON%":typeof JSON=="object"?JSON:ct,"%Map%":typeof Map>"u"?ct:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ue||!Dt?ct:Dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ct:Promise,"%Proxy%":typeof Proxy>"u"?ct:Proxy,"%RangeError%":ip,"%ReferenceError%":ap,"%Reflect%":typeof Reflect>"u"?ct:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ct:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ue||!Dt?ct:Dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ct:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ue&&Dt?Dt(""[Symbol.iterator]()):ct,"%Symbol%":Ue?Symbol:ct,"%SyntaxError%":tr,"%ThrowTypeError%":sp,"%TypedArray%":lp,"%TypeError%":He,"%Uint8Array%":typeof Uint8Array>"u"?ct:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ct:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ct:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ct:Uint32Array,"%URIError%":op,"%WeakMap%":typeof WeakMap>"u"?ct:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ct:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ct:WeakSet};if(Dt)try{null.error}catch(t){var cp=Dt(Dt(t));Ce["%Error.prototype%"]=cp}var fp=function t(e){var r;if(e==="%AsyncFunction%")r=Mn("async function () {}");else if(e==="%GeneratorFunction%")r=Mn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Mn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Dt&&(r=Dt(i.prototype))}return Ce[e]=r,r},ja={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yr=Hi,En=ep,dp=Yr.call(Function.call,Array.prototype.concat),pp=Yr.call(Function.apply,Array.prototype.splice),Va=Yr.call(Function.call,String.prototype.replace),wn=Yr.call(Function.call,String.prototype.slice),hp=Yr.call(Function.call,RegExp.prototype.exec),mp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gp=/\\(\\)?/g,yp=function(e){var r=wn(e,0,1),n=wn(e,-1);if(r==="%"&&n!=="%")throw new tr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new tr("invalid intrinsic syntax, expected opening `%`");var i=[];return Va(e,mp,function(a,o,s,u){i[i.length]=s?Va(u,gp,"$1"):o||a}),i},vp=function(e,r){var n=e,i;if(En(ja,n)&&(i=ja[n],n="%"+i[0]+"%"),En(Ce,n)){var a=Ce[n];if(a===$e&&(a=fp(n)),typeof a>"u"&&!r)throw new He("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new tr("intrinsic "+e+" does not exist!")},ir=function(e,r){if(typeof e!="string"||e.length===0)throw new He("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new He('"allowMissing" argument must be a boolean');if(hp(/^%?[^%]*%?$/,e)===null)throw new tr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=yp(e),i=n.length>0?n[0]:"",a=vp("%"+i+"%",r),o=a.name,s=a.value,u=!1,c=a.alias;c&&(i=c[0],pp(n,dp([0,1],c)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],p=wn(f,0,1),m=wn(f,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new tr("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(u=!0),i+="."+f,o="%"+i+"%",En(Ce,o))s=Ce[o];else if(s!=null){if(!(f in s)){if(!r)throw new He("base intrinsic for "+e+" exists, but the property is not available.");return}if(Te&&d+1>=n.length){var l=Te(s,f);h=!!l,h&&"get"in l&&!("originalValue"in l.get)?s=l.get:s=s[f]}else h=En(s,f),s=s[f];h&&!u&&(Ce[o]=s)}}return s},Ns={exports:{}},$n,Wa;function ji(){if(Wa)return $n;Wa=1;var t=ir,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return $n=e,$n}var bp=ir,cn=bp("%Object.getOwnPropertyDescriptor%",!0);if(cn)try{cn([],"length")}catch{cn=null}var Ps=cn,Xa=ji(),Ep=xs,Me=Xr,Ya=Ps,wp=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Me("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Me("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Me("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Me("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Me("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Me("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!Ya&&Ya(e,r);if(Xa)Xa(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:a===null&&u?u.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new Ep("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ai=ji(),Bs=function(){return!!ai};Bs.hasArrayLengthDefineBug=function(){if(!ai)return null;try{return ai([],"length",{value:1}).length!==1}catch{return!0}};var Ap=Bs,Dp=ir,Za=wp,Sp=Ap(),Ka=Ps,Ja=Xr,_p=Dp("%Math.floor%"),Tp=function(e,r){if(typeof e!="function")throw new Ja("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||_p(r)!==r)throw new Ja("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&Ka){var o=Ka(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(Sp?Za(e,"length",r,!0,!0):Za(e,"length",r)),e};(function(t){var e=Hi,r=ir,n=Tp,i=Xr,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),u=ji(),c=r("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+c(0,f.length-(arguments.length-1)),!0)};var d=function(){return s(e,a,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d})(Ns);var Cp=Ns.exports,Fs=ir,ks=Cp,Op=ks(Fs("String.prototype.indexOf")),Ip=function(e,r){var n=Fs(e,!!r);return typeof n=="function"&&Op(e,".prototype.")>-1?ks(n):n};const xp={},Rp=Object.freeze(Object.defineProperty({__proto__:null,default:xp},Symbol.toStringTag,{value:"Module"})),Np=Ou(Rp);var Vi=typeof Map=="function"&&Map.prototype,qn=Object.getOwnPropertyDescriptor&&Vi?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,An=Vi&&qn&&typeof qn.get=="function"?qn.get:null,Qa=Vi&&Map.prototype.forEach,Wi=typeof Set=="function"&&Set.prototype,Gn=Object.getOwnPropertyDescriptor&&Wi?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Dn=Wi&&Gn&&typeof Gn.get=="function"?Gn.get:null,to=Wi&&Set.prototype.forEach,Pp=typeof WeakMap=="function"&&WeakMap.prototype,Sr=Pp?WeakMap.prototype.has:null,Bp=typeof WeakSet=="function"&&WeakSet.prototype,_r=Bp?WeakSet.prototype.has:null,Fp=typeof WeakRef=="function"&&WeakRef.prototype,eo=Fp?WeakRef.prototype.deref:null,kp=Boolean.prototype.valueOf,Lp=Object.prototype.toString,Up=Function.prototype.toString,Mp=String.prototype.match,Xi=String.prototype.slice,ge=String.prototype.replace,zp=String.prototype.toUpperCase,ro=String.prototype.toLowerCase,Ls=RegExp.prototype.test,no=Array.prototype.concat,Kt=Array.prototype.join,$p=Array.prototype.slice,io=Math.floor,oi=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Hn=Object.getOwnPropertySymbols,si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,er=typeof Symbol=="function"&&typeof Symbol.iterator=="object",It=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===er||!0)?Symbol.toStringTag:null,Us=Object.prototype.propertyIsEnumerable,ao=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function oo(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Ls.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-io(-t):io(t);if(n!==t){var i=String(n),a=Xi.call(e,i.length+1);return ge.call(i,r,"$&_")+"."+ge.call(ge.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ge.call(e,r,"$&_")}var ui=Np,so=ui.custom,uo=zs(so)?so:null,qp=function t(e,r,n,i){var a=r||{};if(me(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(me(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=me(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(me(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(me(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return qs(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return s?oo(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return s?oo(e,c):c}var d=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return li(e)?"[Array]":"[Object]";var h=oh(a,n);if(typeof i>"u")i=[];else if($s(i,e)>=0)return"[Circular]";function f(N,E,B){if(E&&(i=$p.call(i),i.push(E)),B){var F={depth:a.depth};return me(a,"quoteStyle")&&(F.quoteStyle=a.quoteStyle),t(N,F,n+1,i)}return t(N,a,n+1,i)}if(typeof e=="function"&&!lo(e)){var p=Kp(e),m=on(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+Kt.call(m,", ")+" }":"")}if(zs(e)){var l=er?ge.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):si.call(e);return typeof e=="object"&&!er?mr(l):l}if(nh(e)){for(var y="<"+ro.call(String(e.nodeName)),g=e.attributes||[],v=0;v<g.length;v++)y+=" "+g[v].name+"="+Ms(Gp(g[v].value),"double",a);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+ro.call(String(e.nodeName))+">",y}if(li(e)){if(e.length===0)return"[]";var b=on(e,f);return h&&!ah(b)?"["+ci(b,h)+"]":"[ "+Kt.call(b,", ")+" ]"}if(jp(e)){var A=on(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Us.call(e,"cause")?"{ ["+String(e)+"] "+Kt.call(no.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Kt.call(A,", ")+" }"}if(typeof e=="object"&&o){if(uo&&typeof e[uo]=="function"&&ui)return ui(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Jp(e)){var S=[];return Qa&&Qa.call(e,function(N,E){S.push(f(E,e,!0)+" => "+f(N,e))}),co("Map",An.call(e),S,h)}if(eh(e)){var T=[];return to&&to.call(e,function(N){T.push(f(N,e))}),co("Set",Dn.call(e),T,h)}if(Qp(e))return jn("WeakMap");if(rh(e))return jn("WeakSet");if(th(e))return jn("WeakRef");if(Wp(e))return mr(f(Number(e)));if(Yp(e))return mr(f(oi.call(e)));if(Xp(e))return mr(kp.call(e));if(Vp(e))return mr(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Ct<"u"&&e===Ct)return"{ [object globalThis] }";if(!Hp(e)&&!lo(e)){var _=on(e,f),R=ao?ao(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",I=!R&&It&&Object(e)===e&&It in e?Xi.call(Ae(e),8,-1):C?"Object":"",z=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",D=z+(I||C?"["+Kt.call(no.call([],I||[],C||[]),": ")+"] ":"");return _.length===0?D+"{}":h?D+"{"+ci(_,h)+"}":D+"{ "+Kt.call(_,", ")+" }"}return String(e)};function Ms(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Gp(t){return ge.call(String(t),/"/g,"&quot;")}function li(t){return Ae(t)==="[object Array]"&&(!It||!(typeof t=="object"&&It in t))}function Hp(t){return Ae(t)==="[object Date]"&&(!It||!(typeof t=="object"&&It in t))}function lo(t){return Ae(t)==="[object RegExp]"&&(!It||!(typeof t=="object"&&It in t))}function jp(t){return Ae(t)==="[object Error]"&&(!It||!(typeof t=="object"&&It in t))}function Vp(t){return Ae(t)==="[object String]"&&(!It||!(typeof t=="object"&&It in t))}function Wp(t){return Ae(t)==="[object Number]"&&(!It||!(typeof t=="object"&&It in t))}function Xp(t){return Ae(t)==="[object Boolean]"&&(!It||!(typeof t=="object"&&It in t))}function zs(t){if(er)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!si)return!1;try{return si.call(t),!0}catch{}return!1}function Yp(t){if(!t||typeof t!="object"||!oi)return!1;try{return oi.call(t),!0}catch{}return!1}var Zp=Object.prototype.hasOwnProperty||function(t){return t in this};function me(t,e){return Zp.call(t,e)}function Ae(t){return Lp.call(t)}function Kp(t){if(t.name)return t.name;var e=Mp.call(Up.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function $s(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Jp(t){if(!An||!t||typeof t!="object")return!1;try{An.call(t);try{Dn.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Qp(t){if(!Sr||!t||typeof t!="object")return!1;try{Sr.call(t,Sr);try{_r.call(t,_r)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function th(t){if(!eo||!t||typeof t!="object")return!1;try{return eo.call(t),!0}catch{}return!1}function eh(t){if(!Dn||!t||typeof t!="object")return!1;try{Dn.call(t);try{An.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function rh(t){if(!_r||!t||typeof t!="object")return!1;try{_r.call(t,_r);try{Sr.call(t,Sr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function nh(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function qs(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return qs(Xi.call(t,0,e.maxStringLength),e)+n}var i=ge.call(ge.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ih);return Ms(i,"single",e)}function ih(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+zp.call(e.toString(16))}function mr(t){return"Object("+t+")"}function jn(t){return t+" { ? }"}function co(t,e,r,n){var i=n?ci(r,n):Kt.call(r,", ");return t+" ("+e+") {"+i+"}"}function ah(t){for(var e=0;e<t.length;e++)if($s(t[e],`
`)>=0)return!1;return!0}function oh(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Kt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Kt.call(Array(e+1),r)}}function ci(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Kt.call(t,","+r)+`
`+e.prev}function on(t,e){var r=li(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=me(t,i)?e(t[i],t):""}var a=typeof Hn=="function"?Hn(t):[],o;if(er){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in t)me(t,u)&&(r&&String(Number(u))===u&&u<t.length||er&&o["$"+u]instanceof Symbol||(Ls.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof Hn=="function")for(var c=0;c<a.length;c++)Us.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}var Gs=ir,ar=Ip,sh=qp,uh=Xr,sn=Gs("%WeakMap%",!0),un=Gs("%Map%",!0),lh=ar("WeakMap.prototype.get",!0),ch=ar("WeakMap.prototype.set",!0),fh=ar("WeakMap.prototype.has",!0),dh=ar("Map.prototype.get",!0),ph=ar("Map.prototype.set",!0),hh=ar("Map.prototype.has",!0),Yi=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},mh=function(t,e){var r=Yi(t,e);return r&&r.value},gh=function(t,e,r){var n=Yi(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},yh=function(t,e){return!!Yi(t,e)},vh=function(){var e,r,n,i={assert:function(a){if(!i.has(a))throw new uh("Side channel does not contain "+sh(a))},get:function(a){if(sn&&a&&(typeof a=="object"||typeof a=="function")){if(e)return lh(e,a)}else if(un){if(r)return dh(r,a)}else if(n)return mh(n,a)},has:function(a){if(sn&&a&&(typeof a=="object"||typeof a=="function")){if(e)return fh(e,a)}else if(un){if(r)return hh(r,a)}else if(n)return yh(n,a);return!1},set:function(a,o){sn&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new sn),ch(e,a,o)):un?(r||(r=new un),ph(r,a,o)):(n||(n={key:{},next:null}),gh(n,a,o))}};return i},bh=String.prototype.replace,Eh=/%20/g,Vn={RFC1738:"RFC1738",RFC3986:"RFC3986"},Zi={default:Vn.RFC3986,formatters:{RFC1738:function(t){return bh.call(t,Eh,"+")},RFC3986:function(t){return String(t)}},RFC1738:Vn.RFC1738,RFC3986:Vn.RFC3986},wh=Zi,Wn=Object.prototype.hasOwnProperty,Se=Array.isArray,Yt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ah=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Se(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Hs=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Dh=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Se(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Wn.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Se(e)&&!Se(r)&&(i=Hs(e,n)),Se(e)&&Se(r)?(r.forEach(function(a,o){if(Wn.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return Wn.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},Sh=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},_h=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Xn=1024,Th=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var s="",u=0;u<o.length;u+=Xn){for(var c=o.length>=Xn?o.slice(u,u+Xn):o,d=[],h=0;h<c.length;++h){var f=c.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===wh.RFC1738&&(f===40||f===41)){d[d.length]=c.charAt(h);continue}if(f<128){d[d.length]=Yt[f];continue}if(f<2048){d[d.length]=Yt[192|f>>6]+Yt[128|f&63];continue}if(f<55296||f>=57344){d[d.length]=Yt[224|f>>12]+Yt[128|f>>6&63]+Yt[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|c.charCodeAt(h)&1023),d[d.length]=Yt[240|f>>18]+Yt[128|f>>12&63]+Yt[128|f>>6&63]+Yt[128|f&63]}s+=d.join("")}return s},Ch=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var c=s[u],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return Ah(r),e},Oh=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ih=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},xh=function(e,r){return[].concat(e,r)},Rh=function(e,r){if(Se(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},js={arrayToObject:Hs,assign:Sh,combine:xh,compact:Ch,decode:_h,encode:Th,isBuffer:Ih,isRegExp:Oh,maybeMap:Rh,merge:Dh},Vs=vh,fn=js,Tr=Zi,Nh=Object.prototype.hasOwnProperty,Ws={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Zt=Array.isArray,Ph=Array.prototype.push,Xs=function(t,e){Ph.apply(t,Zt(e)?e:[e])},Bh=Date.prototype.toISOString,fo=Tr.default,wt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:fn.encode,encodeValuesOnly:!1,format:fo,formatter:Tr.formatters[fo],indices:!1,serializeDate:function(e){return Bh.call(e)},skipNulls:!1,strictNullHandling:!1},Fh=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Yn={},kh=function t(e,r,n,i,a,o,s,u,c,d,h,f,p,m,l,y,g,v){for(var b=e,A=v,S=0,T=!1;(A=A.get(Yn))!==void 0&&!T;){var _=A.get(e);if(S+=1,typeof _<"u"){if(_===S)throw new RangeError("Cyclic object value");T=!0}typeof A.get(Yn)>"u"&&(S=0)}if(typeof d=="function"?b=d(r,b):b instanceof Date?b=p(b):n==="comma"&&Zt(b)&&(b=fn.maybeMap(b,function(Q){return Q instanceof Date?p(Q):Q})),b===null){if(o)return c&&!y?c(r,wt.encoder,g,"key",m):r;b=""}if(Fh(b)||fn.isBuffer(b)){if(c){var R=y?r:c(r,wt.encoder,g,"key",m);return[l(R)+"="+l(c(b,wt.encoder,g,"value",m))]}return[l(r)+"="+l(String(b))]}var C=[];if(typeof b>"u")return C;var I;if(n==="comma"&&Zt(b))y&&c&&(b=fn.maybeMap(b,c)),I=[{value:b.length>0?b.join(",")||null:void 0}];else if(Zt(d))I=d;else{var z=Object.keys(b);I=h?z.sort(h):z}var D=u?r.replace(/\./g,"%2E"):r,N=i&&Zt(b)&&b.length===1?D+"[]":D;if(a&&Zt(b)&&b.length===0)return N+"[]";for(var E=0;E<I.length;++E){var B=I[E],F=typeof B=="object"&&typeof B.value<"u"?B.value:b[B];if(!(s&&F===null)){var L=f&&u?B.replace(/\./g,"%2E"):B,K=Zt(b)?typeof n=="function"?n(N,L):N:N+(f?"."+L:"["+L+"]");v.set(e,S);var G=Vs();G.set(Yn,v),Xs(C,t(F,K,n,i,a,o,s,u,n==="comma"&&y&&Zt(b)?null:c,d,h,f,p,m,l,y,g,G))}}return C},Lh=function(e){if(!e)return wt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||wt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Tr.default;if(typeof e.format<"u"){if(!Nh.call(Tr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Tr.formatters[n],a=wt.filter;(typeof e.filter=="function"||Zt(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in Ws?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=wt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:wt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:wt.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:wt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?wt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:wt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:wt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:wt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:wt.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:wt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:wt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wt.strictNullHandling}},Uh=function(t,e){var r=t,n=Lh(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Zt(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=Ws[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=Vs(),d=0;d<i.length;++d){var h=i[d];n.skipNulls&&r[h]===null||Xs(o,kh(r[h],h,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var f=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},rr=js,fi=Object.prototype.hasOwnProperty,Mh=Array.isArray,vt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:rr.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},zh=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ys=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},$h="utf8=%26%2310003%3B",qh="utf8=%E2%9C%93",Gh=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===qh?c="utf-8":o[u]===$h&&(c="iso-8859-1"),s=u,u=o.length);for(u=0;u<o.length;++u)if(u!==s){var d=o[u],h=d.indexOf("]="),f=h===-1?d.indexOf("="):h+1,p,m;f===-1?(p=r.decoder(d,vt.decoder,c,"key"),m=r.strictNullHandling?null:""):(p=r.decoder(d.slice(0,f),vt.decoder,c,"key"),m=rr.maybeMap(Ys(d.slice(f+1),r),function(y){return r.decoder(y,vt.decoder,c,"value")})),m&&r.interpretNumericEntities&&c==="iso-8859-1"&&(m=zh(m)),d.indexOf("[]=")>-1&&(m=Mh(m)?[m]:m);var l=fi.call(n,p);l&&r.duplicates==="combine"?n[p]=rr.combine(n[p],m):(!l||r.duplicates==="last")&&(n[p]=m)}return n},Hh=function(t,e,r,n){for(var i=n?e:Ys(e,r),a=t.length-1;a>=0;--a){var o,s=t[a];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,c=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&s!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},jh=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(a),c=u?a.slice(0,u.index):a,d=[];if(c){if(!n.plainObjects&&fi.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var h=0;n.depth>0&&(u=s.exec(a))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&fi.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+a.slice(u.index)+"]")}return Hh(d,r,n,i)}},Vh=function(e){if(!e)return vt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?vt.charset:e.charset,n=typeof e.duplicates>"u"?vt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:vt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:vt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:vt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:vt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:vt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:vt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:vt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:vt.decoder,delimiter:typeof e.delimiter=="string"||rr.isRegExp(e.delimiter)?e.delimiter:vt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:vt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:vt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:vt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:vt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:vt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vt.strictNullHandling}},Wh=function(t,e){var r=Vh(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Gh(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],u=jh(s,n[s],r,typeof t=="string");i=rr.merge(i,u,r)}return r.allowSparse===!0?i:rr.compact(i)},Xh=Uh,Yh=Wh,Zh=Zi,Ki={formats:Zh,parse:Yh,stringify:Xh};const Kh=pi(),zt=t=>Kh.emit("updateStatus",t),ve=JSON.parse(localStorage.getItem("session")||"{}"),ze=(t,e)=>{var r=65535,n=+t,i=+e,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)},Jh=(t,e=0)=>{let r=3735928559^e,n=1103547991^e;for(let i,a=0;a<t.length;a++)i=t.charCodeAt(a),r=ze(r^i,2654435761),n=ze(n^i,1597334677);return r=ze(r^r>>>16,2246822507),r^=ze(n^n>>>13,3266489909),n=ze(n^n>>>16,2246822507),n^=ze(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)},Zs=Re.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:ve.token}}),re=Re.create({timeout:1e3*60*30,baseURL:"https://apiv3.fansly.com/api/v1",headers:{Authorization:ve.token,"Cache-Control":"no-cache",Pragma:"no-cache"},withCredentials:!0});chrome.storage.onChanged.addListener((t,e)=>{if(e=="local"&&t.session){console.log("Session changed!");const r=t.session.newValue;if(!r)return;localStorage.setItem("session",JSON.stringify(r)),Object.keys(r).forEach(n=>{ve[n]=r[n]}),re.defaults.headers.Authorization=ve.token,Zs.defaults.headers.Authorization=ve.token}});const po={};re.interceptors.request.use(t=>{var i;((i=t.method)==null?void 0:i.toUpperCase())=="GET"&&(t.params={...t.params,"ngsw-bypass":!0});const e=new URL(t.baseURL+t.url).pathname,r="Qindoj-mitci1-fevtev_"+e+"_"+ve.deviceId,n=po[e]||Jh(r).toString(16);return po[e]=n,t.headers=new Tu({...t.headers,"fansly-client-id":ve.deviceId,"fansly-client-ts":Date.now().toString(),"fansly-session-id":ve.id,"fansly-client-check":n}),t});re.interceptors.response.use(t=>{if(t.status===200)return t.data});nr(re);nr(Zs);async function sm(){const e=(await re.get("/subscriptions")).response.subscriptions,r=e.map(a=>a.accountId);if(r.length===0)return[];const n=await Qh(r);e.map(a=>{a.accountId,a.subscriptionTierName});const i=[];for(const a of e){const o=n.response.find(u=>u.id==a.accountId);if(!o)continue;const s={with:o.avatar.width,height:o.avatar.height,url:""};for(const u of o.avatar.variants)if(u.type==1&&u.width*u.height<s.with*s.height){if(!u.locations||u.locations.length==0)continue;s.with=u.width,s.height=u.height,s.url=u.locations[0].location}i.push({id:o.id,username:o.username,displayName:o.displayName,avatarUrl:s.url,renewDate:a.renewDate,subscriptionTierName:a.subscriptionTierName})}return i}function Qh(t){return re.get("/account",{params:{ids:t.join(",")}})}const Ji=t=>{switch(t.split("/")[0]){case"image":return"Photo";case"video":return"Video";case"application":return"HLS";case"audio":return"Audio";default:return"Unknown"}},Qi=(t,e=3)=>{const r=t.variants;let n=null,i=0,a=0;t.locations&&t.locations.length>0&&(n=t,i=t.width,a=t.height);for(const o of r)o.type!=e&&(!o.locations||o.locations.length==0||o.width*o.height>i*a&&(n=o));return n};async function Zn(t,e){var u,c;const{mediaType:r,dateTimeRange:n}=e,i=Cu().value;let a;(!i||!i.isPro)&&(r==1&&(a=10),r==2&&(a=2));let o=!0;const s={locationId:t,locationType:1001,accountId:t,mediaType:r||"",before:"",after:"0",limit:100,offset:0};for(;o;){o=!1;const d=await re.get("/mediaoffers/location",{params:s});if(d.response.data.length==0)return;const h=new Set,f=d.response.aggregationData.accountMedia,p=d.response.data,m=p.map(S=>S.mediaId),l=d.response.aggregationData.posts,y=f.filter(S=>m.includes(S.mediaId)),g=new Map;p.forEach(S=>g.set(S.mediaId,S.correlationId));const{username:v}=d.response.aggregationData.accounts[0];for(const S of y){if(n?n[0]<S.createdAt&&S.createdAt<n[1]:!0){const{media:_,preview:R,access:C,mediaId:I}=S;if(!C&&!R)continue;const D=Qi(C?_:R);if(!D)continue;const N=Ji(D.mimetype),E=S.createdAt;if(D.locations&&D.locations.length>0){let{width:B,height:F}=D,{location:L,metadata:K}=D.locations[0];const G=K?`${L}?${Ki.stringify(K)}`:L,Q=g.get(I),M=l.find(k=>k.id==Q);h.add({url:G,postInfo:{id:Q||"",username:v,content:(M==null?void 0:M.content)||"",createdAt:(M==null?void 0:M.createdAt)||0,likeCount:(M==null?void 0:M.likeCount)||0,mediaLikeCount:(M==null?void 0:M.mediaLikeCount)||0},username:v,type:N,createdAt:E,width:B,height:F})}else console.log(D)}if(a&&h.size==a){zt(`Scraped ${h.size} accessible files.`),await bn([...h],e),e.isZipPackage&&await Dr.download();return}}const b=(u=y.at(-1))==null?void 0:u.createdAt,A=(c=p.at(-1))==null?void 0:c.id;A&&b&&(s.before=A,o=n?n[0]<b:!0,h.size==0?(zt(`Timeline nodes positioned to ${new Date(b.toString().length==10?b*1e3:b).toLocaleString()}`),await Ks(1e3)):zt(`Scraped ${h.size} accessible files.`)),await bn([...h],e)}}async function ho(t,e){var u,c;const r=e.dateTimeRange,n={sortOrder:1,flags:0,subscriptionTierId:"",search:"",limit:25,offset:"0"};let i=!0,a="",o="";for(;i;){i=!1;const d=await re.get("/messaging/groups",{params:n}),h=d.response.data.find(f=>f.partnerAccountId==t);if(h)a=h.groupId,o=h.partnerUsername;else{const f=d.response.data;if(f.length==0)return zt("No Message Group."),[];n.offset=f.at(-1).groupId,i=!0}}i=!0;const s={groupId:a,limit:25,before:""};for(;i;){i=!1;const d=new Set,h=await re.get("/message",{params:s});if(h.response.messages.length>0){const p=h.response.messages,m=h.response.accountMedia,l=h.response.accountMediaBundles,y=p.filter(A=>r?r[0]<A.createdAt&&A.createdAt<r[1]:!0),g=p.map(A=>A.attachments.map(S=>S.contentId)).flat();l.forEach(A=>{g.includes(A.id)&&(A.accountMediaIds.forEach(S=>g.push(S)),g.splice(g.indexOf(A.id),1))});for(const A of g){const S=m.find(K=>K.id==A);if(!S)continue;const{media:T,preview:_,access:R}=S;if(!R&&!_)continue;let C;C=R?T:_;const I=Qi(C);if(!I)continue;const z=Ji(I.mimetype),D=S.createdAt;let{width:N,height:E}=I,{location:B,metadata:F}=I.locations[0];const L=F?`${B}?${Ki.stringify(F)}`:B;d.add({url:L,username:o,type:z,createdAt:D,width:N,height:E})}const v=(u=y.at(-1))==null?void 0:u.createdAt,b=(c=p.at(-1))==null?void 0:c.id;b&&v&&(s.before=b,i=r?r[0]<v:!0,d.size==0?(zt(`Timeline nodes positioned to ${new Date(v.toString().length==10?v*1e3:v).toLocaleString()}`),await Ks(1e3)):zt(`Scraped ${d.size} accessible files.`))}await bn([...d],e)}}var tm=(t=>(t[t.Photos=1]="Photos",t[t.Videos=2]="Videos",t[t.Messages=-1]="Messages",t[t.All=0]="All",t))(tm||{});async function um(t,e){switch(e.mediaType){case 1:zt("Scraping Photos..."),await Zn(t,e);break;case 2:zt("Scraping Videos..."),await Zn(t,e);break;case-1:zt("Scraping Messages..."),await ho(t,e);break;case 0:zt("Scraping Media..."),await Zn(t,e),zt("Scraping Messages..."),await ho(t,e);break}e.isZipPackage&&await Dr.download(),zt("Download Completed...")}function em(t){return re.get("/post",{params:{ids:t.join(",")}})}async function lm(t){const e=await em([t]),r=[],n=e.response.posts,i=e.response.accounts,a=e.response.accountMedia,o=e.response.accountMediaBundles;for(const u of n){const c=u.attachments;for(const d of c){let h=o.filter(f=>f.id==d.contentId).map(f=>f.accountMediaIds).flat();h=h.concat(a.filter(f=>f.id==d.contentId).map(f=>f.id));for(const f of h){const p=a.find(z=>z.id==f);if(!p)continue;const{media:m,preview:l,access:y}=p;if(!y&&!l)continue;let g;g=y?m:l;const v=i.find(z=>z.id==p.accountId),b=Qi(g);if(!b)continue;const A=Ji(b.mimetype),S=p.createdAt;let{width:T,height:_}=b,{location:R,metadata:C}=b.locations[0];const I=C?`${R}?${Ki.stringify(C)}`:R;r.push({url:I,username:(v==null?void 0:v.username)||"fansly",type:A,createdAt:S,width:T,height:_})}}}const s=[...new Set(r)];await bn(s,{mediaType:0,isZipPackage:!1,isCollectPostInfo:!1})}function Ks(t){return new Promise(e=>setTimeout(e,t))}export{yi as E,tm as M,Ti as T,om as a,$o as b,lm as c,um as d,sm as g,qo as u};
