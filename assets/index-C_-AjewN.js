var tu=Object.defineProperty;var ru=(e,t,r)=>t in e?tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Le=(e,t,r)=>ru(e,typeof t!="symbol"?t+"":t,r);import{aM as po,e as ye,d as vr,a2 as ho,aN as ea,aO as nu,aP as iu,aQ as au,b as lt,g as Zn,_ as Ct,u as Fr,aR as mo,H as fn,aS as go,f as yo,aT as ou,aU as ta,aV as su,w as vo,G as ra,v as uu,T as lu,A as cu,V as fu,a8 as fi}from"./index-X_YfJgbe.js";import{a2 as de,i as Jr,_ as Oe,Z as Sn,Y as du,K as J,a6 as pu,F as _e,a3 as Lr,an as hu,a7 as Tr,C as Re,a8 as _t,a4 as Ot,H as Ke,I as dn,L as bo,ah as mu,a1 as Kn,ak as wo,aJ as gu,m as yu,M as vu,ai as bu,aK as wu,T as Cr,af as Ht,U as mt,a9 as di,ae as Or,b as Eu,aa as gr,aL as Au,X as Su,aM as Du,Q as _u,at as Ce,au as pi,aN as It,aO as nr,aP as Tu,aQ as Cu,y as Ou}from"./common-C5Ua-Zla.js";const it=(e,t,{checkForDefaultPrevented:r=!0}={})=>a=>{const i=e==null?void 0:e(a);if(r===!1||!i)return t==null?void 0:t(a)};function Iu(e){return e===void 0}const xu=po({type:ye(Boolean),default:null}),Ru=po({type:ye(Function)}),Eo=e=>{const t=`update:${e}`,r=`onUpdate:${e}`,n=[t],a={[e]:xu,[r]:Ru};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:u,shouldProceed:l,onShow:p,onHide:m})=>{const f=du(),{emit:h}=f,c=f.props,d=de(()=>Jr(c[r])),y=de(()=>c[e]===null),g=_=>{o.value!==!0&&(o.value=!0,s&&(s.value=_),Jr(p)&&p(_))},v=_=>{o.value!==!1&&(o.value=!1,s&&(s.value=_),Jr(m)&&m(_))},E=_=>{if(c.disabled===!0||Jr(l)&&!l())return;const P=d.value&&vr;P&&h(t,!0),(y.value||!P)&&g(_)},A=_=>{if(c.disabled===!0||!vr)return;const P=d.value&&vr;P&&h(t,!1),(y.value||!P)&&v(_)},D=_=>{ho(_)&&(c.disabled&&_?d.value&&h(t,!1):o.value!==_&&(_?g():v()))},T=()=>{o.value?A():E()};return Oe(()=>c[e],D),u&&f.appContext.config.globalProperties.$route!==void 0&&Oe(()=>({...f.proxy.$route}),()=>{u.value&&o.value&&A()}),Sn(()=>{D(c[e])}),{hide:A,show:E,toggle:T,hasUpdateHandler:d}},useModelToggleProps:a,useModelToggleEmits:n}};Eo("modelValue");var Ne="top",qe="bottom",Ge="right",Be="left",hi="auto",Ur=[Ne,qe,Ge,Be],jt="start",Ir="end",Pu="clippingParents",Ao="viewport",lr="popper",Nu="reference",na=Ur.reduce(function(e,t){return e.concat([t+"-"+jt,t+"-"+Ir])},[]),mi=[].concat(Ur,[hi]).reduce(function(e,t){return e.concat([t,t+"-"+jt,t+"-"+Ir])},[]),Bu="beforeRead",ku="read",Fu="afterRead",Lu="beforeMain",Uu="main",Mu="afterMain",zu="beforeWrite",$u="write",qu="afterWrite",Gu=[Bu,ku,Fu,Lu,Uu,Mu,zu,$u,qu];function tt(e){return e?(e.nodeName||"").toLowerCase():null}function Ve(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vt(e){var t=Ve(e).Element;return e instanceof t||e instanceof Element}function $e(e){var t=Ve(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gi(e){if(typeof ShadowRoot>"u")return!1;var t=Ve(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Hu(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},i=t.elements[r];!$e(i)||!tt(i)||(Object.assign(i.style,n),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function ju(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],i=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=o.reduce(function(u,l){return u[l]="",u},{});!$e(a)||!tt(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(u){a.removeAttribute(u)}))})}}var So={name:"applyStyles",enabled:!0,phase:"write",fn:Hu,effect:ju,requires:["computeStyles"]};function Je(e){return e.split("-")[0]}var At=Math.max,pn=Math.min,Wt=Math.round;function Xt(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,a=1;if($e(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(n=Wt(r.width)/o||1),i>0&&(a=Wt(r.height)/i||1)}return{width:r.width/n,height:r.height/a,top:r.top/a,right:r.right/n,bottom:r.bottom/a,left:r.left/n,x:r.left/n,y:r.top/a}}function yi(e){var t=Xt(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Do(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&gi(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ot(e){return Ve(e).getComputedStyle(e)}function Vu(e){return["table","td","th"].indexOf(tt(e))>=0}function vt(e){return((Vt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Dn(e){return tt(e)==="html"?e:e.assignedSlot||e.parentNode||(gi(e)?e.host:null)||vt(e)}function ia(e){return!$e(e)||ot(e).position==="fixed"?null:e.offsetParent}function Wu(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&$e(e)){var n=ot(e);if(n.position==="fixed")return null}var a=Dn(e);for(gi(a)&&(a=a.host);$e(a)&&["html","body"].indexOf(tt(a))<0;){var i=ot(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Mr(e){for(var t=Ve(e),r=ia(e);r&&Vu(r)&&ot(r).position==="static";)r=ia(r);return r&&(tt(r)==="html"||tt(r)==="body"&&ot(r).position==="static")?t:r||Wu(e)||t}function vi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function br(e,t,r){return At(e,pn(t,r))}function Xu(e,t,r){var n=br(e,t,r);return n>r?r:n}function _o(){return{top:0,right:0,bottom:0,left:0}}function To(e){return Object.assign({},_o(),e)}function Co(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Yu=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,To(typeof e!="number"?e:Co(e,Ur))};function Zu(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Je(r.placement),u=vi(s),l=[Be,Ge].indexOf(s)>=0,p=l?"height":"width";if(!(!i||!o)){var m=Yu(a.padding,r),f=yi(i),h=u==="y"?Ne:Be,c=u==="y"?qe:Ge,d=r.rects.reference[p]+r.rects.reference[u]-o[u]-r.rects.popper[p],y=o[u]-r.rects.reference[u],g=Mr(i),v=g?u==="y"?g.clientHeight||0:g.clientWidth||0:0,E=d/2-y/2,A=m[h],D=v-f[p]-m[c],T=v/2-f[p]/2+E,_=br(A,T,D),P=u;r.modifiersData[n]=(t={},t[P]=_,t.centerOffset=_-T,t)}}function Ku(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!Do(t.elements.popper,a)||(t.elements.arrow=a))}var Ju={name:"arrow",enabled:!0,phase:"main",fn:Zu,effect:Ku,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yt(e){return e.split("-")[1]}var Qu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function el(e){var t=e.x,r=e.y,n=window,a=n.devicePixelRatio||1;return{x:Wt(t*a)/a||0,y:Wt(r*a)/a||0}}function aa(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,p=e.roundOffsets,m=e.isFixed,f=o.x,h=f===void 0?0:f,c=o.y,d=c===void 0?0:c,y=typeof p=="function"?p({x:h,y:d}):{x:h,y:d};h=y.x,d=y.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),E=Be,A=Ne,D=window;if(l){var T=Mr(r),_="clientHeight",P="clientWidth";if(T===Ve(r)&&(T=vt(r),ot(T).position!=="static"&&s==="absolute"&&(_="scrollHeight",P="scrollWidth")),T=T,a===Ne||(a===Be||a===Ge)&&i===Ir){A=qe;var C=m&&T===D&&D.visualViewport?D.visualViewport.height:T[_];d-=C-n.height,d*=u?1:-1}if(a===Be||(a===Ne||a===qe)&&i===Ir){E=Ge;var I=m&&T===D&&D.visualViewport?D.visualViewport.width:T[P];h-=I-n.width,h*=u?1:-1}}var M=Object.assign({position:s},l&&Qu),S=p===!0?el({x:h,y:d}):{x:h,y:d};if(h=S.x,d=S.y,u){var R;return Object.assign({},M,(R={},R[A]=v?"0":"",R[E]=g?"0":"",R.transform=(D.devicePixelRatio||1)<=1?"translate("+h+"px, "+d+"px)":"translate3d("+h+"px, "+d+"px, 0)",R))}return Object.assign({},M,(t={},t[A]=v?d+"px":"",t[E]=g?h+"px":"",t.transform="",t))}function tl(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,u=s===void 0?!0:s,l={placement:Je(t.placement),variation:Yt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,aa(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,aa(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Oo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tl,data:{}},Qr={passive:!0};function rl(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,u=Ve(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach(function(p){p.addEventListener("scroll",r.update,Qr)}),s&&u.addEventListener("resize",r.update,Qr),function(){i&&l.forEach(function(p){p.removeEventListener("scroll",r.update,Qr)}),s&&u.removeEventListener("resize",r.update,Qr)}}var Io={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rl,data:{}},nl={left:"right",right:"left",bottom:"top",top:"bottom"};function un(e){return e.replace(/left|right|bottom|top/g,function(t){return nl[t]})}var il={start:"end",end:"start"};function oa(e){return e.replace(/start|end/g,function(t){return il[t]})}function bi(e){var t=Ve(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function wi(e){return Xt(vt(e)).left+bi(e).scrollLeft}function al(e){var t=Ve(e),r=vt(e),n=t.visualViewport,a=r.clientWidth,i=r.clientHeight,o=0,s=0;return n&&(a=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:a,height:i,x:o+wi(e),y:s}}function ol(e){var t,r=vt(e),n=bi(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=At(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=At(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+wi(e),u=-n.scrollTop;return ot(a||r).direction==="rtl"&&(s+=At(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:u}}function Ei(e){var t=ot(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function xo(e){return["html","body","#document"].indexOf(tt(e))>=0?e.ownerDocument.body:$e(e)&&Ei(e)?e:xo(Dn(e))}function wr(e,t){var r;t===void 0&&(t=[]);var n=xo(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Ve(n),o=a?[i].concat(i.visualViewport||[],Ei(n)?n:[]):n,s=t.concat(o);return a?s:s.concat(wr(Dn(o)))}function Jn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sl(e){var t=Xt(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function sa(e,t){return t===Ao?Jn(al(e)):Vt(t)?sl(t):Jn(ol(vt(e)))}function ul(e){var t=wr(Dn(e)),r=["absolute","fixed"].indexOf(ot(e).position)>=0,n=r&&$e(e)?Mr(e):e;return Vt(n)?t.filter(function(a){return Vt(a)&&Do(a,n)&&tt(a)!=="body"}):[]}function ll(e,t,r){var n=t==="clippingParents"?ul(e):[].concat(t),a=[].concat(n,[r]),i=a[0],o=a.reduce(function(s,u){var l=sa(e,u);return s.top=At(l.top,s.top),s.right=pn(l.right,s.right),s.bottom=pn(l.bottom,s.bottom),s.left=At(l.left,s.left),s},sa(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Ro(e){var t=e.reference,r=e.element,n=e.placement,a=n?Je(n):null,i=n?Yt(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,u;switch(a){case Ne:u={x:o,y:t.y-r.height};break;case qe:u={x:o,y:t.y+t.height};break;case Ge:u={x:t.x+t.width,y:s};break;case Be:u={x:t.x-r.width,y:s};break;default:u={x:t.x,y:t.y}}var l=a?vi(a):null;if(l!=null){var p=l==="y"?"height":"width";switch(i){case jt:u[l]=u[l]-(t[p]/2-r[p]/2);break;case Ir:u[l]=u[l]+(t[p]/2-r[p]/2);break}}return u}function xr(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.boundary,o=i===void 0?Pu:i,s=r.rootBoundary,u=s===void 0?Ao:s,l=r.elementContext,p=l===void 0?lr:l,m=r.altBoundary,f=m===void 0?!1:m,h=r.padding,c=h===void 0?0:h,d=To(typeof c!="number"?c:Co(c,Ur)),y=p===lr?Nu:lr,g=e.rects.popper,v=e.elements[f?y:p],E=ll(Vt(v)?v:v.contextElement||vt(e.elements.popper),o,u),A=Xt(e.elements.reference),D=Ro({reference:A,element:g,strategy:"absolute",placement:a}),T=Jn(Object.assign({},g,D)),_=p===lr?T:A,P={top:E.top-_.top+d.top,bottom:_.bottom-E.bottom+d.bottom,left:E.left-_.left+d.left,right:_.right-E.right+d.right},C=e.modifiersData.offset;if(p===lr&&C){var I=C[a];Object.keys(P).forEach(function(M){var S=[Ge,qe].indexOf(M)>=0?1:-1,R=[Ne,qe].indexOf(M)>=0?"y":"x";P[M]+=I[R]*S})}return P}function cl(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?mi:u,p=Yt(n),m=p?s?na:na.filter(function(c){return Yt(c)===p}):Ur,f=m.filter(function(c){return l.indexOf(c)>=0});f.length===0&&(f=m);var h=f.reduce(function(c,d){return c[d]=xr(e,{placement:d,boundary:a,rootBoundary:i,padding:o})[Je(d)],c},{});return Object.keys(h).sort(function(c,d){return h[c]-h[d]})}function fl(e){if(Je(e)===hi)return[];var t=un(e);return[oa(e),t,oa(t)]}function dl(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,p=r.boundary,m=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,c=h===void 0?!0:h,d=r.allowedAutoPlacements,y=t.options.placement,g=Je(y),v=g===y,E=u||(v||!c?[un(y)]:fl(y)),A=[y].concat(E).reduce(function(Z,B){return Z.concat(Je(B)===hi?cl(t,{placement:B,boundary:p,rootBoundary:m,padding:l,flipVariations:c,allowedAutoPlacements:d}):B)},[]),D=t.rects.reference,T=t.rects.popper,_=new Map,P=!0,C=A[0],I=0;I<A.length;I++){var M=A[I],S=Je(M),R=Yt(M)===jt,b=[Ne,qe].indexOf(S)>=0,k=b?"width":"height",$=xr(t,{placement:M,boundary:p,rootBoundary:m,altBoundary:f,padding:l}),N=b?R?Ge:Be:R?qe:Ne;D[k]>T[k]&&(N=un(N));var X=un(N),G=[];if(i&&G.push($[S]<=0),s&&G.push($[N]<=0,$[X]<=0),G.every(function(Z){return Z})){C=M,P=!1;break}_.set(M,G)}if(P)for(var Q=c?3:1,U=function(Z){var B=A.find(function(ee){var te=_.get(ee);if(te)return te.slice(0,Z).every(function(W){return W})});if(B)return C=B,"break"},F=Q;F>0;F--){var ae=U(F);if(ae==="break")break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}}var pl={name:"flip",enabled:!0,phase:"main",fn:dl,requiresIfExists:["offset"],data:{_skip:!1}};function ua(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function la(e){return[Ne,Ge,qe,Be].some(function(t){return e[t]>=0})}function hl(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=xr(t,{elementContext:"reference"}),s=xr(t,{altBoundary:!0}),u=ua(o,n),l=ua(s,a,i),p=la(u),m=la(l);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var ml={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hl};function gl(e,t,r){var n=Je(e),a=[Be,Ne].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Be,Ge].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function yl(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=mi.reduce(function(p,m){return p[m]=gl(m,t.rects,i),p},{}),s=o[t.placement],u=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}var vl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yl};function bl(e){var t=e.state,r=e.name;t.modifiersData[r]=Ro({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Po={name:"popperOffsets",enabled:!0,phase:"read",fn:bl,data:{}};function wl(e){return e==="x"?"y":"x"}function El(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,p=r.altBoundary,m=r.padding,f=r.tether,h=f===void 0?!0:f,c=r.tetherOffset,d=c===void 0?0:c,y=xr(t,{boundary:u,rootBoundary:l,padding:m,altBoundary:p}),g=Je(t.placement),v=Yt(t.placement),E=!v,A=vi(g),D=wl(A),T=t.modifiersData.popperOffsets,_=t.rects.reference,P=t.rects.popper,C=typeof d=="function"?d(Object.assign({},t.rects,{placement:t.placement})):d,I=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(T){if(i){var R,b=A==="y"?Ne:Be,k=A==="y"?qe:Ge,$=A==="y"?"height":"width",N=T[A],X=N+y[b],G=N-y[k],Q=h?-P[$]/2:0,U=v===jt?_[$]:P[$],F=v===jt?-P[$]:-_[$],ae=t.elements.arrow,Z=h&&ae?yi(ae):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_o(),ee=B[b],te=B[k],W=br(0,_[$],Z[$]),re=E?_[$]/2-Q-W-ee-I.mainAxis:U-W-ee-I.mainAxis,oe=E?-_[$]/2+Q+W+te+I.mainAxis:F+W+te+I.mainAxis,ne=t.elements.arrow&&Mr(t.elements.arrow),ue=ne?A==="y"?ne.clientTop||0:ne.clientLeft||0:0,fe=(R=M==null?void 0:M[A])!=null?R:0,w=N+re-fe-ue,H=N+oe-fe,q=br(h?pn(X,w):X,N,h?At(G,H):G);T[A]=q,S[A]=q-N}if(s){var x,O=A==="x"?Ne:Be,L=A==="x"?qe:Ge,j=T[D],V=D==="y"?"height":"width",z=j+y[O],Y=j-y[L],ie=[Ne,Be].indexOf(g)!==-1,K=(x=M==null?void 0:M[D])!=null?x:0,se=ie?z:j-_[V]-P[V]-K+I.altAxis,pe=ie?j+_[V]+P[V]-K-I.altAxis:Y,le=h&&ie?Xu(se,j,pe):br(h?se:z,j,h?pe:Y);T[D]=le,S[D]=le-j}t.modifiersData[n]=S}}var Al={name:"preventOverflow",enabled:!0,phase:"main",fn:El,requiresIfExists:["offset"]};function Sl(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Dl(e){return e===Ve(e)||!$e(e)?bi(e):Sl(e)}function _l(e){var t=e.getBoundingClientRect(),r=Wt(t.width)/e.offsetWidth||1,n=Wt(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Tl(e,t,r){r===void 0&&(r=!1);var n=$e(t),a=$e(t)&&_l(t),i=vt(t),o=Xt(e,a),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((tt(t)!=="body"||Ei(i))&&(s=Dl(t)),$e(t)?(u=Xt(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=wi(i))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Cl(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=t.get(s);u&&a(u)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function Ol(e){var t=Cl(e);return Gu.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Il(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function xl(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var ca={placement:"bottom",modifiers:[],strategy:"absolute"};function fa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ai(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?ca:a;return function(o,s,u){u===void 0&&(u=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ca,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},p=[],m=!1,f={state:l,setOptions:function(d){var y=typeof d=="function"?d(l.options):d;c(),l.options=Object.assign({},i,l.options,y),l.scrollParents={reference:Vt(o)?wr(o):o.contextElement?wr(o.contextElement):[],popper:wr(s)};var g=Ol(xl([].concat(n,l.options.modifiers)));return l.orderedModifiers=g.filter(function(v){return v.enabled}),h(),f.update()},forceUpdate:function(){if(!m){var d=l.elements,y=d.reference,g=d.popper;if(fa(y,g)){l.rects={reference:Tl(y,Mr(g),l.options.strategy==="fixed"),popper:yi(g)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(P){return l.modifiersData[P.name]=Object.assign({},P.data)});for(var v=0;v<l.orderedModifiers.length;v++){if(l.reset===!0){l.reset=!1,v=-1;continue}var E=l.orderedModifiers[v],A=E.fn,D=E.options,T=D===void 0?{}:D,_=E.name;typeof A=="function"&&(l=A({state:l,options:T,name:_,instance:f})||l)}}}},update:Il(function(){return new Promise(function(d){f.forceUpdate(),d(l)})}),destroy:function(){c(),m=!0}};if(!fa(o,s))return f;f.setOptions(u).then(function(d){!m&&u.onFirstUpdate&&u.onFirstUpdate(d)});function h(){l.orderedModifiers.forEach(function(d){var y=d.name,g=d.options,v=g===void 0?{}:g,E=d.effect;if(typeof E=="function"){var A=E({state:l,name:y,instance:f,options:v}),D=function(){};p.push(A||D)}})}function c(){p.forEach(function(d){return d()}),p=[]}return f}}Ai();var Rl=[Io,Po,Oo,So];Ai({defaultModifiers:Rl});var Pl=[Io,Po,Oo,So,vl,pl,Al,Ju,ml],Nl=Ai({defaultModifiers:Pl});const Bl=(e,t,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const l=kl(u);Object.assign(o.value,l)},requires:["computeStyles"]},a=de(()=>{const{onFirstUpdate:u,placement:l,strategy:p,modifiers:m}=J(r);return{onFirstUpdate:u,placement:l||"bottom",strategy:p||"absolute",modifiers:[...m||[],n,{name:"applyStyles",enabled:!1}]}}),i=pu(),o=_e({styles:{popper:{position:J(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return Oe(a,u=>{const l=J(i);l&&l.setOptions(u)},{deep:!0}),Oe([e,t],([u,l])=>{s(),!(!u||!l)&&(i.value=Nl(u,l,J(a)))}),Lr(()=>{s()}),{state:de(()=>{var u;return{...((u=J(i))==null?void 0:u.state)||{}}}),styles:de(()=>J(o).styles),attributes:de(()=>J(o).attributes),update:()=>{var u;return(u=J(i))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=J(i))==null?void 0:u.forceUpdate()},instanceRef:de(()=>J(i))}};function kl(e){const t=Object.keys(e.elements),r=ea(t.map(a=>[a,e.styles[a]||{}])),n=ea(t.map(a=>[a,e.attributes[a]]));return{styles:r,attributes:n}}function da(){let e;const t=(n,a)=>{r(),e=window.setTimeout(n,a)},r=()=>window.clearTimeout(e);return nu(()=>r()),{registerTimeout:t,cancelTimeout:r}}let pa;const No=()=>{const e=iu(),t=au(),r=de(()=>`${e.value}-popper-container-${t.prefix}`),n=de(()=>`#${r.value}`);return{id:r,selector:n}},Fl=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Ll=()=>{const{id:e,selector:t}=No();return hu(()=>{vr&&!pa&&!document.body.querySelector(t.value)&&(pa=Fl(e.value))}),{id:e,selector:t}},Ul=lt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Ml=({showAfter:e,hideAfter:t,autoClose:r,open:n,close:a})=>{const{registerTimeout:i}=da(),{registerTimeout:o,cancelTimeout:s}=da();return{onOpen:p=>{i(()=>{n(p);const m=J(r);Zn(m)&&m>0&&o(()=>{a(p)},m)},J(e))},onClose:p=>{s(),i(()=>{a(p)},J(t))}}},Bo=Symbol("elForwardRef"),zl=e=>{Tr(Bo,{setForwardRef:r=>{e.value=r}})},$l=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),Si=Symbol("popper"),ko=Symbol("popperContent"),ql=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Fo=lt({role:{type:String,values:ql,default:"tooltip"}}),Gl=Re({name:"ElPopper",inheritAttrs:!1}),Hl=Re({...Gl,props:Fo,setup(e,{expose:t}){const r=e,n=_e(),a=_e(),i=_e(),o=_e(),s=de(()=>r.role),u={triggerRef:n,popperInstanceRef:a,contentRef:i,referenceRef:o,role:s};return t(u),Tr(Si,u),(l,p)=>_t(l.$slots,"default")}});var jl=Ct(Hl,[["__file","popper.vue"]]);const Lo=lt({arrowOffset:{type:Number,default:5}}),Vl=Re({name:"ElPopperArrow",inheritAttrs:!1}),Wl=Re({...Vl,props:Lo,setup(e,{expose:t}){const r=e,n=Fr("popper"),{arrowOffset:a,arrowRef:i,arrowStyle:o}=Ot(ko,void 0);return Oe(()=>r.arrowOffset,s=>{a.value=s}),Lr(()=>{i.value=void 0}),t({arrowRef:i}),(s,u)=>(Ke(),dn("span",{ref_key:"arrowRef",ref:i,class:bo(J(n).e("arrow")),style:mu(J(o)),"data-popper-arrow":""},null,6))}});var Xl=Ct(Wl,[["__file","arrow.vue"]]);const Yl="ElOnlyChild",Zl=Re({name:Yl,setup(e,{slots:t,attrs:r}){var n;const a=Ot(Bo),i=$l((n=a==null?void 0:a.setForwardRef)!=null?n:Kn);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,r);if(!s||s.length>1)return null;const u=Uo(s);return u?wo(gu(u,r),[[i]]):null}}});function Uo(e){if(!e)return null;const t=e;for(const r of t){if(yu(r))switch(r.type){case wu:continue;case bu:case"svg":return ha(r);case vu:return Uo(r.children);default:return r}return ha(r)}return null}function ha(e){const t=Fr("only-child");return Cr("span",{class:t.e("content")},[e])}const Mo=lt({virtualRef:{type:ye(Object)},virtualTriggering:Boolean,onMouseenter:{type:ye(Function)},onMouseleave:{type:ye(Function)},onClick:{type:ye(Function)},onKeydown:{type:ye(Function)},onFocus:{type:ye(Function)},onBlur:{type:ye(Function)},onContextmenu:{type:ye(Function)},id:String,open:Boolean}),Kl=Re({name:"ElPopperTrigger",inheritAttrs:!1}),Jl=Re({...Kl,props:Mo,setup(e,{expose:t}){const r=e,{role:n,triggerRef:a}=Ot(Si,void 0);zl(a);const i=de(()=>s.value?r.id:void 0),o=de(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=de(()=>{if(n&&n.value!=="tooltip")return n.value}),u=de(()=>s.value?`${r.open}`:void 0);let l;return Sn(()=>{Oe(()=>r.virtualRef,p=>{p&&(a.value=mo(p))},{immediate:!0}),Oe(a,(p,m)=>{l==null||l(),l=void 0,fn(p)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const c=r[f];c&&(p.addEventListener(f.slice(2).toLowerCase(),c),(h=m==null?void 0:m.removeEventListener)==null||h.call(m,f.slice(2).toLowerCase(),c))}),l=Oe([i,o,s,u],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,c)=>{go(f[c])?p.removeAttribute(h):p.setAttribute(h,f[c])})},{immediate:!0})),fn(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>m.removeAttribute(f))},{immediate:!0})}),Lr(()=>{l==null||l(),l=void 0}),t({triggerRef:a}),(p,m)=>p.virtualTriggering?Or("v-if",!0):(Ke(),Ht(J(Zl),di({key:0},p.$attrs,{"aria-controls":J(i),"aria-describedby":J(o),"aria-expanded":J(u),"aria-haspopup":J(s)}),{default:mt(()=>[_t(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Ql=Ct(Jl,[["__file","trigger.vue"]]);const ec=["fixed","absolute"],tc=lt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ye(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:mi,default:"bottom"},popperOptions:{type:ye(Object),default:()=>({})},strategy:{type:String,values:ec,default:"absolute"}}),zo=lt({...tc,id:String,style:{type:ye([String,Array,Object])},className:{type:ye([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ye([String,Array,Object])},popperStyle:{type:ye([String,Array,Object])},referenceEl:{type:ye(Object)},triggerTargetEl:{type:ye(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...yo(["ariaLabel"])}),rc={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},nc=(e,t=[])=>{const{placement:r,strategy:n,popperOptions:a}=e,i={placement:r,strategy:n,...a,modifiers:[...ac(e),...t]};return oc(i,a==null?void 0:a.modifiers),i},ic=e=>{if(vr)return mo(e)};function ac(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function oc(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const sc=0,uc=e=>{const{popperInstanceRef:t,contentRef:r,triggerRef:n,role:a}=Ot(Si,void 0),i=_e(),o=_e(),s=de(()=>({name:"eventListeners",enabled:!!e.visible})),u=de(()=>{var g;const v=J(i),E=(g=J(o))!=null?g:sc;return{name:"arrow",enabled:!Iu(v),options:{element:v,padding:E}}}),l=de(()=>({onFirstUpdate:()=>{c()},...nc(e,[J(u),J(s)])})),p=de(()=>ic(e.referenceEl)||J(n)),{attributes:m,state:f,styles:h,update:c,forceUpdate:d,instanceRef:y}=Bl(p,r,l);return Oe(y,g=>t.value=g),Sn(()=>{Oe(()=>{var g;return(g=J(p))==null?void 0:g.getBoundingClientRect()},()=>{c()})}),{attributes:m,arrowRef:i,contentRef:r,instanceRef:y,state:f,styles:h,role:a,forceUpdate:d,update:c}},lc=(e,{attributes:t,styles:r,role:n})=>{const{nextZIndex:a}=ou(),i=Fr("popper"),o=de(()=>J(t).popper),s=_e(Zn(e.zIndex)?e.zIndex:a()),u=de(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),l=de(()=>[{zIndex:J(s)},J(r).popper,e.popperStyle||{}]),p=de(()=>n.value==="dialog"?"false":void 0),m=de(()=>J(r).arrow||{});return{ariaModal:p,arrowStyle:m,contentAttrs:o,contentClass:u,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=Zn(e.zIndex)?e.zIndex:a()}}},cc=(e,t)=>{const r=_e(!1),n=_e();return{focusStartRef:n,trapped:r,onFocusAfterReleased:l=>{var p;((p=l.detail)==null?void 0:p.focusReason)!=="pointer"&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:l=>{e.visible&&!r.value&&(l.target&&(n.value=l.target),r.value=!0)},onFocusoutPrevented:l=>{e.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,t("close")}}},fc=Re({name:"ElPopperContent"}),dc=Re({...fc,props:zo,emits:rc,setup(e,{expose:t,emit:r}){const n=e,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:u,onFocusoutPrevented:l,onReleaseRequested:p}=cc(n,r),{attributes:m,arrowRef:f,contentRef:h,styles:c,instanceRef:d,role:y,update:g}=uc(n),{ariaModal:v,arrowStyle:E,contentAttrs:A,contentClass:D,contentStyle:T,updateZIndex:_}=lc(n,{styles:c,attributes:m,role:y}),P=Ot(ta,void 0),C=_e();Tr(ko,{arrowStyle:E,arrowRef:f,arrowOffset:C}),P&&Tr(ta,{...P,addInputId:Kn,removeInputId:Kn});let I;const M=(R=!0)=>{g(),R&&_()},S=()=>{M(!1),n.visible&&n.focusOnShow?i.value=!0:n.visible===!1&&(i.value=!1)};return Sn(()=>{Oe(()=>n.triggerTargetEl,(R,b)=>{I==null||I(),I=void 0;const k=J(R||h.value),$=J(b||h.value);fn(k)&&(I=Oe([y,()=>n.ariaLabel,v,()=>n.id],N=>{["role","aria-label","aria-modal","id"].forEach((X,G)=>{go(N[G])?k.removeAttribute(X):k.setAttribute(X,N[G])})},{immediate:!0})),$!==k&&fn($)&&["role","aria-label","aria-modal","id"].forEach(N=>{$.removeAttribute(N)})},{immediate:!0}),Oe(()=>n.visible,S,{immediate:!0})}),Lr(()=>{I==null||I(),I=void 0}),t({popperContentRef:h,popperInstanceRef:d,updatePopper:M,contentStyle:T}),(R,b)=>(Ke(),dn("div",di({ref_key:"contentRef",ref:h},J(A),{style:J(T),class:J(D),tabindex:"-1",onMouseenter:b[0]||(b[0]=k=>R.$emit("mouseenter",k)),onMouseleave:b[1]||(b[1]=k=>R.$emit("mouseleave",k))}),[Cr(J(su),{trapped:J(i),"trap-on-focus-in":!0,"focus-trap-el":J(h),"focus-start-el":J(a),onFocusAfterTrapped:J(s),onFocusAfterReleased:J(o),onFocusin:J(u),onFocusoutPrevented:J(l),onReleaseRequested:J(p)},{default:mt(()=>[_t(R.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var pc=Ct(dc,[["__file","content.vue"]]);const hc=vo(jl),Di=Symbol("elTooltip"),$o=lt({...Ul,...zo,appendTo:{type:ye([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:ye(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...yo(["ariaLabel"])}),qo=lt({...Mo,disabled:Boolean,trigger:{type:ye([String,Array]),default:"hover"},triggerKeys:{type:ye(Array),default:()=>[ra.enter,ra.space]}}),{useModelToggleProps:mc,useModelToggleEmits:gc,useModelToggle:yc}=Eo("visible"),vc=lt({...Fo,...mc,...$o,...qo,...Lo,showArrow:{type:Boolean,default:!0}}),bc=[...gc,"before-show","before-hide","show","hide","open","close"],wc=(e,t)=>Eu(e)?e.includes(t):e===t,xt=(e,t,r)=>n=>{wc(J(e),t)&&r(n)},Ec=Re({name:"ElTooltipTrigger"}),Ac=Re({...Ec,props:qo,setup(e,{expose:t}){const r=e,n=Fr("tooltip"),{controlled:a,id:i,open:o,onOpen:s,onClose:u,onToggle:l}=Ot(Di,void 0),p=_e(null),m=()=>{if(J(a)||r.disabled)return!0},f=gr(r,"trigger"),h=it(m,xt(f,"hover",s)),c=it(m,xt(f,"hover",u)),d=it(m,xt(f,"click",A=>{A.button===0&&l(A)})),y=it(m,xt(f,"focus",s)),g=it(m,xt(f,"focus",u)),v=it(m,xt(f,"contextmenu",A=>{A.preventDefault(),l(A)})),E=it(m,A=>{const{code:D}=A;r.triggerKeys.includes(D)&&(A.preventDefault(),l(A))});return t({triggerRef:p}),(A,D)=>(Ke(),Ht(J(Ql),{id:J(i),"virtual-ref":A.virtualRef,open:J(o),"virtual-triggering":A.virtualTriggering,class:bo(J(n).e("trigger")),onBlur:J(g),onClick:J(d),onContextmenu:J(v),onFocus:J(y),onMouseenter:J(h),onMouseleave:J(c),onKeydown:J(E)},{default:mt(()=>[_t(A.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Sc=Ct(Ac,[["__file","trigger.vue"]]);const Dc=Re({name:"ElTooltipContent",inheritAttrs:!1}),_c=Re({...Dc,props:$o,setup(e,{expose:t}){const r=e,{selector:n}=No(),a=Fr("tooltip"),i=_e(null),o=_e(!1),{controlled:s,id:u,open:l,trigger:p,onClose:m,onOpen:f,onShow:h,onHide:c,onBeforeShow:d,onBeforeHide:y}=Ot(Di,void 0),g=de(()=>r.transition||`${a.namespace.value}-fade-in-linear`),v=de(()=>r.persistent);Lr(()=>{o.value=!0});const E=de(()=>J(v)?!0:J(l)),A=de(()=>r.disabled?!1:J(l)),D=de(()=>r.appendTo||n.value),T=de(()=>{var N;return(N=r.style)!=null?N:{}}),_=de(()=>!J(l)),P=()=>{c()},C=()=>{if(J(s))return!0},I=it(C,()=>{r.enterable&&J(p)==="hover"&&f()}),M=it(C,()=>{J(p)==="hover"&&m()}),S=()=>{var N,X;(X=(N=i.value)==null?void 0:N.updatePopper)==null||X.call(N),d==null||d()},R=()=>{y==null||y()},b=()=>{h(),$=cu(de(()=>{var N;return(N=i.value)==null?void 0:N.popperContentRef}),()=>{if(J(s))return;J(p)!=="hover"&&m()})},k=()=>{r.virtualTriggering||m()};let $;return Oe(()=>J(l),N=>{N||$==null||$()},{flush:"post"}),Oe(()=>r.content,()=>{var N,X;(X=(N=i.value)==null?void 0:N.updatePopper)==null||X.call(N)}),t({contentRef:i}),(N,X)=>(Ke(),Ht(Au,{disabled:!N.teleported,to:J(D)},[Cr(lu,{name:J(g),onAfterLeave:P,onBeforeEnter:S,onAfterEnter:b,onBeforeLeave:R},{default:mt(()=>[J(E)?wo((Ke(),Ht(J(pc),di({key:0,id:J(u),ref_key:"contentRef",ref:i},N.$attrs,{"aria-label":N.ariaLabel,"aria-hidden":J(_),"boundaries-padding":N.boundariesPadding,"fallback-placements":N.fallbackPlacements,"gpu-acceleration":N.gpuAcceleration,offset:N.offset,placement:N.placement,"popper-options":N.popperOptions,strategy:N.strategy,effect:N.effect,enterable:N.enterable,pure:N.pure,"popper-class":N.popperClass,"popper-style":[N.popperStyle,J(T)],"reference-el":N.referenceEl,"trigger-target-el":N.triggerTargetEl,visible:J(A),"z-index":N.zIndex,onMouseenter:J(I),onMouseleave:J(M),onBlur:k,onClose:J(m)}),{default:mt(()=>[o.value?Or("v-if",!0):_t(N.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[uu,J(A)]]):Or("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Tc=Ct(_c,[["__file","content.vue"]]);const Cc=["innerHTML"],Oc={key:1},Ic=Re({name:"ElTooltip"}),xc=Re({...Ic,props:vc,emits:bc,setup(e,{expose:t,emit:r}){const n=e;Ll();const a=fu(),i=_e(),o=_e(),s=()=>{var g;const v=J(i);v&&((g=v.popperInstanceRef)==null||g.update())},u=_e(!1),l=_e(),{show:p,hide:m,hasUpdateHandler:f}=yc({indicator:u,toggleReason:l}),{onOpen:h,onClose:c}=Ml({showAfter:gr(n,"showAfter"),hideAfter:gr(n,"hideAfter"),autoClose:gr(n,"autoClose"),open:p,close:m}),d=de(()=>ho(n.visible)&&!f.value);Tr(Di,{controlled:d,id:a,open:Su(u),trigger:gr(n,"trigger"),onOpen:g=>{h(g)},onClose:g=>{c(g)},onToggle:g=>{J(u)?c(g):h(g)},onShow:()=>{r("show",l.value)},onHide:()=>{r("hide",l.value)},onBeforeShow:()=>{r("before-show",l.value)},onBeforeHide:()=>{r("before-hide",l.value)},updatePopper:s}),Oe(()=>n.disabled,g=>{g&&u.value&&(u.value=!1)});const y=g=>{var v,E;const A=(E=(v=o.value)==null?void 0:v.contentRef)==null?void 0:E.popperContentRef,D=(g==null?void 0:g.relatedTarget)||document.activeElement;return A&&A.contains(D)};return Du(()=>u.value&&m()),t({popperRef:i,contentRef:o,isFocusInsideContent:y,updatePopper:s,onOpen:h,onClose:c,hide:m}),(g,v)=>(Ke(),Ht(J(hc),{ref_key:"popperRef",ref:i,role:g.role},{default:mt(()=>[Cr(Sc,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:mt(()=>[g.$slots.default?_t(g.$slots,"default",{key:0}):Or("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Cr(Tc,{ref_key:"contentRef",ref:o,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:mt(()=>[_t(g.$slots,"content",{},()=>[g.rawContent?(Ke(),dn("span",{key:0,innerHTML:g.content},null,8,Cc)):(Ke(),dn("span",Oc,_u(g.content),1))]),g.showArrow?(Ke(),Ht(J(Xl),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):Or("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Rc=Ct(xc,[["__file","tooltip.vue"]]);const nm=vo(Rc);function en(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Go={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,i){function o(l,p){if(!a[l]){if(!n[l]){var m=typeof en=="function"&&en;if(!p&&m)return m(l,!0);if(s)return s(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var h=a[l]={exports:{}};n[l][0].call(h.exports,function(c){var d=n[l][1][c];return o(d||c)},h,h.exports,r,n,a,i)}return a[l].exports}for(var s=typeof en=="function"&&en,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var l,p,m,f,h,c,d,y=[],g=0,v=u.length,E=v,A=i.getTypeOf(u)!=="string";g<u.length;)E=v-g,m=A?(l=u[g++],p=g<v?u[g++]:0,g<v?u[g++]:0):(l=u.charCodeAt(g++),p=g<v?u.charCodeAt(g++):0,g<v?u.charCodeAt(g++):0),f=l>>2,h=(3&l)<<4|p>>4,c=1<E?(15&p)<<2|m>>6:64,d=2<E?63&m:64,y.push(s.charAt(f)+s.charAt(h)+s.charAt(c)+s.charAt(d));return y.join("")},a.decode=function(u){var l,p,m,f,h,c,d=0,y=0,g="data:";if(u.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,E=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&E--,u.charAt(u.length-2)===s.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|E):new Array(0|E);d<u.length;)l=s.indexOf(u.charAt(d++))<<2|(f=s.indexOf(u.charAt(d++)))>>4,p=(15&f)<<4|(h=s.indexOf(u.charAt(d++)))>>2,m=(3&h)<<6|(c=s.indexOf(u.charAt(d++))),v[y++]=l,h!==64&&(v[y++]=p),c!==64&&(v[y++]=m);return v}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function l(p,m,f,h,c){this.compressedSize=p,this.uncompressedSize=m,this.crc32=f,this.compression=h,this.compressedContent=c}l.prototype={getContentWorker:function(){var p=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return p.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(p,m,f){return p.pipe(new s).pipe(new u("uncompressedSize")).pipe(m.compressWorker(f)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=function(){for(var s,u=[],l=0;l<256;l++){s=l;for(var p=0;p<8;p++)s=1&s?3988292384^s>>>1:s>>>1;u[l]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?i.getTypeOf(s)!=="string"?function(l,p,m,f){var h=o,c=f+m;l^=-1;for(var d=f;d<c;d++)l=l>>>8^h[255&(l^p[d])];return-1^l}(0|u,s,s.length,0):function(l,p,m,f){var h=o,c=f+m;l^=-1;for(var d=f;d<c;d++)l=l>>>8^h[255&(l^p.charCodeAt(d))];return-1^l}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),u=r("./stream/GenericWorker"),l=i?"uint8array":"array";function p(m,f){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=f,this.meta={}}a.magic="\b\0",s.inherits(p,u),p.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,m.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(f){m.push({data:f,meta:m.meta})}},a.compressWorker=function(m){return new p("Deflate",m)},a.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(h,c){var d,y="";for(d=0;d<c;d++)y+=String.fromCharCode(255&h),h>>>=8;return y}function o(h,c,d,y,g,v){var E,A,D=h.file,T=h.compression,_=v!==l.utf8encode,P=s.transformTo("string",v(D.name)),C=s.transformTo("string",l.utf8encode(D.name)),I=D.comment,M=s.transformTo("string",v(I)),S=s.transformTo("string",l.utf8encode(I)),R=C.length!==D.name.length,b=S.length!==I.length,k="",$="",N="",X=D.dir,G=D.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};c&&!d||(Q.crc32=h.crc32,Q.compressedSize=h.compressedSize,Q.uncompressedSize=h.uncompressedSize);var U=0;c&&(U|=8),_||!R&&!b||(U|=2048);var F=0,ae=0;X&&(F|=16),g==="UNIX"?(ae=798,F|=function(B,ee){var te=B;return B||(te=ee?16893:33204),(65535&te)<<16}(D.unixPermissions,X)):(ae=20,F|=function(B){return 63&(B||0)}(D.dosPermissions)),E=G.getUTCHours(),E<<=6,E|=G.getUTCMinutes(),E<<=5,E|=G.getUTCSeconds()/2,A=G.getUTCFullYear()-1980,A<<=4,A|=G.getUTCMonth()+1,A<<=5,A|=G.getUTCDate(),R&&($=i(1,1)+i(p(P),4)+C,k+="up"+i($.length,2)+$),b&&(N=i(1,1)+i(p(M),4)+S,k+="uc"+i(N.length,2)+N);var Z="";return Z+=`
\0`,Z+=i(U,2),Z+=T.magic,Z+=i(E,2),Z+=i(A,2),Z+=i(Q.crc32,4),Z+=i(Q.compressedSize,4),Z+=i(Q.uncompressedSize,4),Z+=i(P.length,2),Z+=i(k.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Z+P+k,dirRecord:m.CENTRAL_FILE_HEADER+i(ae,2)+Z+i(M.length,2)+"\0\0\0\0"+i(F,4)+i(y,4)+P+k+M}}var s=r("../utils"),u=r("../stream/GenericWorker"),l=r("../utf8"),p=r("../crc32"),m=r("../signature");function f(h,c,d,y){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=d,this.encodeFileName=y,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(f,u),f.prototype.push=function(h){var c=h.meta.percent||0,d=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,u.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:d?(c+100*(d-y-1))/d:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var c=this.streamFiles&&!h.file.dir;if(c){var d=o(h,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var c=this.streamFiles&&!h.file.dir,d=o(h,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),c)this.push({data:function(y){return m.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var d=this.bytesWritten-h,y=function(g,v,E,A,D){var T=s.transformTo("string",D(A));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(v,4)+i(E,4)+i(T.length,2)+T}(this.dirRecords.length,d,h,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var c=this;return h.on("data",function(d){c.processChunk(d)}),h.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),h.on("error",function(d){c.error(d)}),this},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var c=this._sources;if(!u.prototype.error.call(this,h))return!1;for(var d=0;d<c.length;d++)try{c[d].error(h)}catch{}return!0},f.prototype.lock=function(){u.prototype.lock.call(this);for(var h=this._sources,c=0;c<h.length;c++)h[c].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(s,u,l){var p=new o(u.streamFiles,l,u.platform,u.encodeFileName),m=0;try{s.forEach(function(f,h){m++;var c=function(v,E){var A=v||E,D=i[A];if(!D)throw new Error(A+" is not a valid compression method !");return D}(h.options.compression,u.compression),d=h.options.compressionOptions||u.compressionOptions||{},y=h.dir,g=h.date;h._compressWorker(c,d).withStreamInfo("file",{name:f,dir:y,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(p)}),p.entriesCount=m}catch(f){p.error(f)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,s){return new i().loadAsync(o,s)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),s=r("./utf8"),u=r("./zipEntries"),l=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function m(f){return new o.Promise(function(h,c){var d=f.decompressed.getContentWorker().pipe(new l);d.on("error",function(y){c(y)}).on("end",function(){d.streamInfo.crc32!==f.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(f,h){var c=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),p.isNode&&p.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(d){var y=new u(h);return y.load(d),y}).then(function(d){var y=[o.Promise.resolve(d)],g=d.files;if(h.checkCRC32)for(var v=0;v<g.length;v++)y.push(m(g[v]));return o.Promise.all(y)}).then(function(d){for(var y=d.shift(),g=y.files,v=0;v<g.length;v++){var E=g[v],A=E.fileNameStr,D=i.resolve(E.fileNameStr);c.file(D,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:h.createFolders}),E.dir||(c.file(D).unsafeOriginalName=A)}return y.zipComment.length&&(c.comment=y.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function s(u,l){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}i.inherits(s,o),s.prototype._bindStream=function(u){var l=this;(this._stream=u).pause(),u.on("data",function(p){l.push({data:p,meta:{percent:0}})}).on("error",function(p){l.isPaused?this.generatedError=p:l.error(p)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(s,u,l){i.call(this,u),this._helper=s;var p=this;s.on("data",function(m,f){p.push(m)||p._helper.pause(),l&&l(f)}).on("error",function(m){p.emit("error",m)}).on("end",function(){p.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(D,T,_){var P,C=s.getTypeOf(T),I=s.extend(_||{},p);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(D=g(D)),I.createFolders&&(P=y(D))&&v.call(this,P,!0);var M=C==="string"&&I.binary===!1&&I.base64===!1;_&&_.binary!==void 0||(I.binary=!M),(T instanceof m&&T.uncompressedSize===0||I.dir||!T||T.length===0)&&(I.base64=!1,I.binary=!0,T="",I.compression="STORE",C="string");var S=null;S=T instanceof m||T instanceof u?T:c.isNode&&c.isStream(T)?new d(D,T):s.prepareContent(D,T,I.binary,I.optimizedBinaryString,I.base64);var R=new f(D,S,I);this.files[D]=R}var o=r("./utf8"),s=r("./utils"),u=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),p=r("./defaults"),m=r("./compressedObject"),f=r("./zipObject"),h=r("./generate"),c=r("./nodejsUtils"),d=r("./nodejs/NodejsStreamInputAdapter"),y=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var T=D.lastIndexOf("/");return 0<T?D.substring(0,T):""},g=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},v=function(D,T){return T=T!==void 0?T:p.createFolders,D=g(D),this.files[D]||i.call(this,D,null,{dir:!0,createFolders:T}),this.files[D]};function E(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var T,_,P;for(T in this.files)P=this.files[T],(_=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&D(_,P)},filter:function(D){var T=[];return this.forEach(function(_,P){D(_,P)&&T.push(P)}),T},file:function(D,T,_){if(arguments.length!==1)return D=this.root+D,i.call(this,D,T,_),this;if(E(D)){var P=D;return this.filter(function(I,M){return!M.dir&&P.test(I)})}var C=this.files[this.root+D];return C&&!C.dir?C:null},folder:function(D){if(!D)return this;if(E(D))return this.filter(function(C,I){return I.dir&&D.test(C)});var T=this.root+D,_=v.call(this,T),P=this.clone();return P.root=_.name,P},remove:function(D){D=this.root+D;var T=this.files[D];if(T||(D.slice(-1)!=="/"&&(D+="/"),T=this.files[D]),T&&!T.dir)delete this.files[D];else for(var _=this.filter(function(C,I){return I.name.slice(0,D.length)===D}),P=0;P<_.length;P++)delete this.files[_[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var T,_={};try{if((_=s.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");s.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var P=_.comment||this.comment||"";T=h.generateWorker(this,_,P)}catch(C){(T=new u("error")).error(C)}return new l(T,_.type||"string",_.mimeType)},generateAsync:function(D,T){return this.generateInternalStream(D).accumulate(T)},generateNodeStream:function(D,T){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(T)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(s){i.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}r("../utils").inherits(o,i),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),l=s.charCodeAt(1),p=s.charCodeAt(2),m=s.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===u&&this.data[f+1]===l&&this.data[f+2]===p&&this.data[f+3]===m)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),l=s.charCodeAt(1),p=s.charCodeAt(2),m=s.charCodeAt(3),f=this.readData(4);return u===f[0]&&l===f[1]&&p===f[2]&&m===f[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var u,l=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=s,l},readString:function(s){return i.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(s){i.call(this,s)}r("../utils").inherits(o,i),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),s=r("./ArrayReader"),u=r("./StringReader"),l=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");n.exports=function(m){var f=i.getTypeOf(m);return i.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new l(m):o.uint8array?new p(i.transformTo("uint8array",m)):new s(i.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function s(u){i.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(s,i),s.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,i),s.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(s,o),s.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function s(u){o.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){l.dataIsReady=!0,l.data=p,l.max=p&&p.length||0,l.type=i.getTypeOf(p),l.isPaused||l._tickAndRepeat()},function(p){l.error(p)})}i.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,l);break;case"uint8array":u=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":u=this.data.slice(this.index,l)}return this.index=l,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(u){s.processChunk(u)}),o.on("end",function(){s.end()}),o.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),u=r("../base64"),l=r("../support"),p=r("../external"),m=null;if(l.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(c,d){return new p.Promise(function(y,g){var v=[],E=c._internalType,A=c._outputType,D=c._mimeType;c.on("data",function(T,_){v.push(T),d&&d(_)}).on("error",function(T){v=[],g(T)}).on("end",function(){try{var T=function(_,P,C){switch(_){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),C);case"base64":return u.encode(P);default:return i.transformTo(_,P)}}(A,function(_,P){var C,I=0,M=null,S=0;for(C=0;C<P.length;C++)S+=P[C].length;switch(_){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(M=new Uint8Array(S),C=0;C<P.length;C++)M.set(P[C],I),I+=P[C].length;return M;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+_+"'")}}(E,v),D);y(T)}catch(_){g(_)}v=[]}).resume()})}function h(c,d,y){var g=d;switch(d){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=d,this._mimeType=y,i.checkSupport(g),this._worker=c.pipe(new o(g)),c.lock()}catch(v){this._worker=new s("error"),this._worker.error(v)}}h.prototype={accumulate:function(c){return f(this,c)},on:function(c,d){var y=this;return c==="data"?this._worker.on(c,function(g){d.call(y,g.data,g.meta)}):this._worker.on(c,function(){i.delay(d,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},c)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),u=r("./stream/GenericWorker"),l=new Array(256),p=0;p<256;p++)l[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;l[254]=l[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function f(){u.call(this,"utf-8 encode")}a.utf8encode=function(h){return o.nodebuffer?s.newBufferFrom(h,"utf-8"):function(c){var d,y,g,v,E,A=c.length,D=0;for(v=0;v<A;v++)(64512&(y=c.charCodeAt(v)))==55296&&v+1<A&&(64512&(g=c.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),v++),D+=y<128?1:y<2048?2:y<65536?3:4;for(d=o.uint8array?new Uint8Array(D):new Array(D),v=E=0;E<D;v++)(64512&(y=c.charCodeAt(v)))==55296&&v+1<A&&(64512&(g=c.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),v++),y<128?d[E++]=y:(y<2048?d[E++]=192|y>>>6:(y<65536?d[E++]=224|y>>>12:(d[E++]=240|y>>>18,d[E++]=128|y>>>12&63),d[E++]=128|y>>>6&63),d[E++]=128|63&y);return d}(h)},a.utf8decode=function(h){return o.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):function(c){var d,y,g,v,E=c.length,A=new Array(2*E);for(d=y=0;d<E;)if((g=c[d++])<128)A[y++]=g;else if(4<(v=l[g]))A[y++]=65533,d+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&d<E;)g=g<<6|63&c[d++],v--;1<v?A[y++]=65533:g<65536?A[y++]=g:(g-=65536,A[y++]=55296|g>>10&1023,A[y++]=56320|1023&g)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),i.applyFromCharCode(A)}(h=i.transformTo(o.uint8array?"uint8array":"array",h))},i.inherits(m,u),m.prototype.processChunk=function(h){var c=i.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var d=c;(c=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),c.set(d,this.leftOver.length)}else c=this.leftOver.concat(c);this.leftOver=null}var y=function(v,E){var A;for((E=E||v.length)>v.length&&(E=v.length),A=E-1;0<=A&&(192&v[A])==128;)A--;return A<0||A===0?E:A+l[v[A]]>E?A:E}(c),g=c;y!==c.length&&(o.uint8array?(g=c.subarray(0,y),this.leftOver=c.subarray(y,c.length)):(g=c.slice(0,y),this.leftOver=c.slice(y,c.length))),this.push({data:a.utf8decode(g),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m,i.inherits(f,u),f.prototype.processChunk=function(h){this.push({data:a.utf8encode(h.data),meta:h.meta})},a.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),u=r("./external");function l(d){return d}function p(d,y){for(var g=0;g<d.length;++g)y[g]=255&d.charCodeAt(g);return y}r("setimmediate"),a.newBlob=function(d,y){a.checkSupport("blob");try{return new Blob([d],{type:y})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(d),g.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(d,y,g){var v=[],E=0,A=d.length;if(A<=g)return String.fromCharCode.apply(null,d);for(;E<A;)y==="array"||y==="nodebuffer"?v.push(String.fromCharCode.apply(null,d.slice(E,Math.min(E+g,A)))):v.push(String.fromCharCode.apply(null,d.subarray(E,Math.min(E+g,A)))),E+=g;return v.join("")},stringifyByChar:function(d){for(var y="",g=0;g<d.length;g++)y+=String.fromCharCode(d[g]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function f(d){var y=65536,g=a.getTypeOf(d),v=!0;if(g==="uint8array"?v=m.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=m.applyCanBeUsed.nodebuffer),v)for(;1<y;)try{return m.stringifyByChunk(d,g,y)}catch{y=Math.floor(y/2)}return m.stringifyByChar(d)}function h(d,y){for(var g=0;g<d.length;g++)y[g]=d[g];return y}a.applyFromCharCode=f;var c={};c.string={string:l,array:function(d){return p(d,new Array(d.length))},arraybuffer:function(d){return c.string.uint8array(d).buffer},uint8array:function(d){return p(d,new Uint8Array(d.length))},nodebuffer:function(d){return p(d,s.allocBuffer(d.length))}},c.array={string:f,array:l,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(d)}},c.arraybuffer={string:function(d){return f(new Uint8Array(d))},array:function(d){return h(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:l,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return s.newBufferFrom(new Uint8Array(d))}},c.uint8array={string:f,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:l,nodebuffer:function(d){return s.newBufferFrom(d)}},c.nodebuffer={string:f,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return c.nodebuffer.uint8array(d).buffer},uint8array:function(d){return h(d,new Uint8Array(d.length))},nodebuffer:l},a.transformTo=function(d,y){if(y=y||"",!d)return y;a.checkSupport(d);var g=a.getTypeOf(y);return c[g][d](y)},a.resolve=function(d){for(var y=d.split("/"),g=[],v=0;v<y.length;v++){var E=y[v];E==="."||E===""&&v!==0&&v!==y.length-1||(E===".."?g.pop():g.push(E))}return g.join("/")},a.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":i.nodebuffer&&s.isBuffer(d)?"nodebuffer":i.uint8array&&d instanceof Uint8Array?"uint8array":i.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(d){if(!i[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(d){var y,g,v="";for(g=0;g<(d||"").length;g++)v+="\\x"+((y=d.charCodeAt(g))<16?"0":"")+y.toString(16).toUpperCase();return v},a.delay=function(d,y,g){setImmediate(function(){d.apply(g||null,y||[])})},a.inherits=function(d,y){function g(){}g.prototype=y.prototype,d.prototype=new g},a.extend=function(){var d,y,g={};for(d=0;d<arguments.length;d++)for(y in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],y)&&g[y]===void 0&&(g[y]=arguments[d][y]);return g},a.prepareContent=function(d,y,g,v,E){return u.Promise.resolve(y).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(D,T){var _=new FileReader;_.onload=function(P){D(P.target.result)},_.onerror=function(P){T(P.target.error)},_.readAsArrayBuffer(A)}):A}).then(function(A){var D=a.getTypeOf(A);return D?(D==="arraybuffer"?A=a.transformTo("uint8array",A):D==="string"&&(E?A=o.decode(A):g&&v!==!0&&(A=function(T){return p(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))}(A))),A):u.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),u=r("./zipEntry"),l=r("./support");function p(m){this.files=[],this.loadOptions=m}p.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(m)+")")}},isSignature:function(m,f){var h=this.reader.index;this.reader.setIndex(m);var c=this.reader.readString(4)===f;return this.reader.setIndex(h),c},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),f=l.uint8array?"uint8array":"array",h=o.transformTo(f,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,f,h,c=this.zip64EndOfCentralSize-44;0<c;)m=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[m]={id:m,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,f;for(m=0;m<this.files.length;m++)f=this.files[m],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var f=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var c=f-h;if(0<c)this.isSignature(f,s.CENTRAL_FILE_HEADER)||(this.reader.zero=c);else if(c<0)throw new Error("Corrupted zip: missing "+Math.abs(c)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),u=r("./crc32"),l=r("./utf8"),p=r("./compressions"),m=r("./support");function f(h,c){this.options=h,this.loadOptions=c}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var c,d;if(h.skip(22),this.fileNameLength=h.readInt(2),d=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((c=function(y){for(var g in p)if(Object.prototype.hasOwnProperty.call(p,g)&&p[g].magic===y)return p[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,c,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var c=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(c),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var c,d,y,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)c=h.readInt(2),d=h.readInt(2),y=h.readData(d),this.extraFields[c]={id:c,length:d,value:y};h.setIndex(g)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{var d=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var g=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var c=i(h.value);return c.readInt(1)!==1||u(this.fileName)!==c.readInt(4)?null:l.utf8decode(c.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var c=i(h.value);return c.readInt(1)!==1||u(this.fileComment)!==c.readInt(4)?null:l.utf8decode(c.readData(h.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(c,d,y){this.name=c,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=d,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),u=r("./utf8"),l=r("./compressedObject"),p=r("./stream/GenericWorker");i.prototype={internalStream:function(c){var d=null,y="string";try{if(!c)throw new Error("No output type specified.");var g=(y=c.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),d=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(d=d.pipe(new u.Utf8EncodeWorker)),!v&&g&&(d=d.pipe(new u.Utf8DecodeWorker))}catch(E){(d=new p("error")).error(E)}return new o(d,y,"")},async:function(c,d){return this.internalStream(c).accumulate(d)},nodeStream:function(c,d){return this.internalStream(c||"nodebuffer").toNodejsStream(d)},_compressWorker:function(c,d){if(this._data instanceof l&&this._data.compression.magic===c.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(y,c,d)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof p?this._data:new s(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)i.prototype[m[h]]=f;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,s,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var l=0,p=new u(c),m=i.document.createTextNode("");p.observe(m,{characterData:!0}),o=function(){m.data=l=++l%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var d=i.document.createElement("script");d.onreadystatechange=function(){c(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},i.document.documentElement.appendChild(d)}:function(){setTimeout(c,0)};else{var f=new i.MessageChannel;f.port1.onmessage=c,o=function(){f.port2.postMessage(0)}}var h=[];function c(){var d,y;s=!0;for(var g=h.length;g;){for(y=h,h=[],d=-1;++d<g;)y[d]();g=h.length}s=!1}n.exports=function(d){h.push(d)!==1||s||o()}}).call(this,typeof Ce<"u"?Ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var s={},u=["REJECTED"],l=["FULFILLED"],p=["PENDING"];function m(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,g!==o&&d(this,g)}function f(g,v,E){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function h(g,v,E){i(function(){var A;try{A=v(E)}catch(D){return s.reject(g,D)}A===g?s.reject(g,new TypeError("Cannot resolve promise with itself")):s.resolve(g,A)})}function c(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function d(g,v){var E=!1;function A(_){E||(E=!0,s.reject(g,_))}function D(_){E||(E=!0,s.resolve(g,_))}var T=y(function(){v(D,A)});T.status==="error"&&A(T.value)}function y(g,v){var E={};try{E.value=g(v),E.status="success"}catch(A){E.status="error",E.value=A}return E}(n.exports=m).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(E){return v.resolve(g()).then(function(){return E})},function(E){return v.resolve(g()).then(function(){throw E})})},m.prototype.catch=function(g){return this.then(null,g)},m.prototype.then=function(g,v){if(typeof g!="function"&&this.state===l||typeof v!="function"&&this.state===u)return this;var E=new this.constructor(o);return this.state!==p?h(E,this.state===l?g:v,this.outcome):this.queue.push(new f(E,g,v)),E},f.prototype.callFulfilled=function(g){s.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){s.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},s.resolve=function(g,v){var E=y(c,v);if(E.status==="error")return s.reject(g,E.value);var A=E.value;if(A)d(g,A);else{g.state=l,g.outcome=v;for(var D=-1,T=g.queue.length;++D<T;)g.queue[D].callFulfilled(v)}return g},s.reject=function(g,v){g.state=u,g.outcome=v;for(var E=-1,A=g.queue.length;++E<A;)g.queue[E].callRejected(v);return g},m.resolve=function(g){return g instanceof this?g:s.resolve(new this(o),g)},m.reject=function(g){var v=new this(o);return s.reject(v,g)},m.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,A=!1;if(!E)return this.resolve([]);for(var D=new Array(E),T=0,_=-1,P=new this(o);++_<E;)C(g[_],_);return P;function C(I,M){v.resolve(I).then(function(S){D[M]=S,++T!==E||A||(A=!0,s.resolve(P,D))},function(S){A||(A=!0,s.reject(P,S))})}},m.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,A=!1;if(!E)return this.resolve([]);for(var D=-1,T=new this(o);++D<E;)_=g[D],v.resolve(_).then(function(P){A||(A=!0,s.resolve(T,P))},function(P){A||(A=!0,s.reject(T,P))});var _;return T}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/messages"),l=r("./zlib/zstream"),p=Object.prototype.toString,m=0,f=-1,h=0,c=8;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var E=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(E!==m)throw new Error(u[E]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var A;if(A=typeof v.dictionary=="string"?s.string2buf(v.dictionary):p.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(E=i.deflateSetDictionary(this.strm,A))!==m)throw new Error(u[E]);this._dict_set=!0}}function y(g,v){var E=new d(v);if(E.push(g,!0),E.err)throw E.msg||u[E.err];return E.result}d.prototype.push=function(g,v){var E,A,D=this.strm,T=this.options.chunkSize;if(this.ended)return!1;A=v===~~v?v:v===!0?4:0,typeof g=="string"?D.input=s.string2buf(g):p.call(g)==="[object ArrayBuffer]"?D.input=new Uint8Array(g):D.input=g,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(T),D.next_out=0,D.avail_out=T),(E=i.deflate(D,A))!==1&&E!==m)return this.onEnd(E),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&E!==1);return A===4?(E=i.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===m):A!==2||(this.onEnd(m),!(D.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Deflate=d,a.deflate=y,a.deflateRaw=function(g,v){return(v=v||{}).raw=!0,y(g,v)},a.gzip=function(g,v){return(v=v||{}).gzip=!0,y(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/constants"),l=r("./zlib/messages"),p=r("./zlib/zstream"),m=r("./zlib/gzheader"),f=Object.prototype.toString;function h(d){if(!(this instanceof h))return new h(d);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},d||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||d&&d.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,y.windowBits);if(g!==u.Z_OK)throw new Error(l[g]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function c(d,y){var g=new h(y);if(g.push(d,!0),g.err)throw g.msg||l[g.err];return g.result}h.prototype.push=function(d,y){var g,v,E,A,D,T,_=this.strm,P=this.options.chunkSize,C=this.options.dictionary,I=!1;if(this.ended)return!1;v=y===~~y?y:y===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof d=="string"?_.input=s.binstring2buf(d):f.call(d)==="[object ArrayBuffer]"?_.input=new Uint8Array(d):_.input=d,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(P),_.next_out=0,_.avail_out=P),(g=i.inflate(_,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&C&&(T=typeof C=="string"?s.string2buf(C):f.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,g=i.inflateSetDictionary(this.strm,T)),g===u.Z_BUF_ERROR&&I===!0&&(g=u.Z_OK,I=!1),g!==u.Z_STREAM_END&&g!==u.Z_OK)return this.onEnd(g),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&g!==u.Z_STREAM_END&&(_.avail_in!==0||v!==u.Z_FINISH&&v!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=s.utf8border(_.output,_.next_out),A=_.next_out-E,D=s.buf2string(_.output,E),_.next_out=A,_.avail_out=P-A,A&&o.arraySet(_.output,_.output,E,A,0),this.onData(D)):this.onData(o.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(I=!0)}while((0<_.avail_in||_.avail_out===0)&&g!==u.Z_STREAM_END);return g===u.Z_STREAM_END&&(v=u.Z_FINISH),v===u.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u.Z_OK):v!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(_.avail_out=0))},h.prototype.onData=function(d){this.chunks.push(d)},h.prototype.onEnd=function(d){d===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},a.Inflate=h,a.inflate=c,a.inflateRaw=function(d,y){return(y=y||{}).raw=!0,c(d,y)},a.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var p=l.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var m in p)p.hasOwnProperty(m)&&(u[m]=p[m])}}return u},a.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var o={arraySet:function(u,l,p,m,f){if(l.subarray&&u.subarray)u.set(l.subarray(p,p+m),f);else for(var h=0;h<m;h++)u[f+h]=l[p+h]},flattenChunks:function(u){var l,p,m,f,h,c;for(l=m=0,p=u.length;l<p;l++)m+=u[l].length;for(c=new Uint8Array(m),l=f=0,p=u.length;l<p;l++)h=u[l],c.set(h,f),f+=h.length;return c}},s={arraySet:function(u,l,p,m,f){for(var h=0;h<m;h++)u[f+h]=l[p+h]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,s))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new i.Buf8(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function p(m,f){if(f<65537&&(m.subarray&&s||!m.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(m,f));for(var h="",c=0;c<f;c++)h+=String.fromCharCode(m[c]);return h}u[254]=u[254]=1,a.string2buf=function(m){var f,h,c,d,y,g=m.length,v=0;for(d=0;d<g;d++)(64512&(h=m.charCodeAt(d)))==55296&&d+1<g&&(64512&(c=m.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(c-56320),d++),v+=h<128?1:h<2048?2:h<65536?3:4;for(f=new i.Buf8(v),d=y=0;y<v;d++)(64512&(h=m.charCodeAt(d)))==55296&&d+1<g&&(64512&(c=m.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(c-56320),d++),h<128?f[y++]=h:(h<2048?f[y++]=192|h>>>6:(h<65536?f[y++]=224|h>>>12:(f[y++]=240|h>>>18,f[y++]=128|h>>>12&63),f[y++]=128|h>>>6&63),f[y++]=128|63&h);return f},a.buf2binstring=function(m){return p(m,m.length)},a.binstring2buf=function(m){for(var f=new i.Buf8(m.length),h=0,c=f.length;h<c;h++)f[h]=m.charCodeAt(h);return f},a.buf2string=function(m,f){var h,c,d,y,g=f||m.length,v=new Array(2*g);for(h=c=0;h<g;)if((d=m[h++])<128)v[c++]=d;else if(4<(y=u[d]))v[c++]=65533,h+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&h<g;)d=d<<6|63&m[h++],y--;1<y?v[c++]=65533:d<65536?v[c++]=d:(d-=65536,v[c++]=55296|d>>10&1023,v[c++]=56320|1023&d)}return p(v,c)},a.utf8border=function(m,f){var h;for((f=f||m.length)>m.length&&(f=m.length),h=f-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?f:h+u[m[h]]>f?h:f}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,s,u){for(var l=65535&i|0,p=i>>>16&65535|0,m=0;s!==0;){for(s-=m=2e3<s?2e3:s;p=p+(l=l+o[u++]|0)|0,--m;);l%=65521,p%=65521}return l|p<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=function(){for(var o,s=[],u=0;u<256;u++){o=u;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[u]=o}return s}();n.exports=function(o,s,u,l){var p=i,m=l+u;o^=-1;for(var f=l;f<m;f++)o=o>>>8^p[255&(o^s[f])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),s=r("./trees"),u=r("./adler32"),l=r("./crc32"),p=r("./messages"),m=0,f=4,h=0,c=-2,d=-1,y=4,g=2,v=8,E=9,A=286,D=30,T=19,_=2*A+1,P=15,C=3,I=258,M=I+C+1,S=42,R=113,b=1,k=2,$=3,N=4;function X(w,H){return w.msg=p[H],H}function G(w){return(w<<1)-(4<w?9:0)}function Q(w){for(var H=w.length;0<=--H;)w[H]=0}function U(w){var H=w.state,q=H.pending;q>w.avail_out&&(q=w.avail_out),q!==0&&(o.arraySet(w.output,H.pending_buf,H.pending_out,q,w.next_out),w.next_out+=q,H.pending_out+=q,w.total_out+=q,w.avail_out-=q,H.pending-=q,H.pending===0&&(H.pending_out=0))}function F(w,H){s._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,H),w.block_start=w.strstart,U(w.strm)}function ae(w,H){w.pending_buf[w.pending++]=H}function Z(w,H){w.pending_buf[w.pending++]=H>>>8&255,w.pending_buf[w.pending++]=255&H}function B(w,H){var q,x,O=w.max_chain_length,L=w.strstart,j=w.prev_length,V=w.nice_match,z=w.strstart>w.w_size-M?w.strstart-(w.w_size-M):0,Y=w.window,ie=w.w_mask,K=w.prev,se=w.strstart+I,pe=Y[L+j-1],le=Y[L+j];w.prev_length>=w.good_match&&(O>>=2),V>w.lookahead&&(V=w.lookahead);do if(Y[(q=H)+j]===le&&Y[q+j-1]===pe&&Y[q]===Y[L]&&Y[++q]===Y[L+1]){L+=2,q++;do;while(Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&Y[++L]===Y[++q]&&L<se);if(x=I-(se-L),L=se-I,j<x){if(w.match_start=H,V<=(j=x))break;pe=Y[L+j-1],le=Y[L+j]}}while((H=K[H&ie])>z&&--O!=0);return j<=w.lookahead?j:w.lookahead}function ee(w){var H,q,x,O,L,j,V,z,Y,ie,K=w.w_size;do{if(O=w.window_size-w.lookahead-w.strstart,w.strstart>=K+(K-M)){for(o.arraySet(w.window,w.window,K,K,0),w.match_start-=K,w.strstart-=K,w.block_start-=K,H=q=w.hash_size;x=w.head[--H],w.head[H]=K<=x?x-K:0,--q;);for(H=q=K;x=w.prev[--H],w.prev[H]=K<=x?x-K:0,--q;);O+=K}if(w.strm.avail_in===0)break;if(j=w.strm,V=w.window,z=w.strstart+w.lookahead,Y=O,ie=void 0,ie=j.avail_in,Y<ie&&(ie=Y),q=ie===0?0:(j.avail_in-=ie,o.arraySet(V,j.input,j.next_in,ie,z),j.state.wrap===1?j.adler=u(j.adler,V,ie,z):j.state.wrap===2&&(j.adler=l(j.adler,V,ie,z)),j.next_in+=ie,j.total_in+=ie,ie),w.lookahead+=q,w.lookahead+w.insert>=C)for(L=w.strstart-w.insert,w.ins_h=w.window[L],w.ins_h=(w.ins_h<<w.hash_shift^w.window[L+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[L+C-1])&w.hash_mask,w.prev[L&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=L,L++,w.insert--,!(w.lookahead+w.insert<C)););}while(w.lookahead<M&&w.strm.avail_in!==0)}function te(w,H){for(var q,x;;){if(w.lookahead<M){if(ee(w),w.lookahead<M&&H===m)return b;if(w.lookahead===0)break}if(q=0,w.lookahead>=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),q!==0&&w.strstart-q<=w.w_size-M&&(w.match_length=B(w,q)),w.match_length>=C)if(x=s._tr_tally(w,w.strstart-w.match_start,w.match_length-C),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=C){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else x=s._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(x&&(F(w,!1),w.strm.avail_out===0))return b}return w.insert=w.strstart<C-1?w.strstart:C-1,H===f?(F(w,!0),w.strm.avail_out===0?$:N):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?b:k}function W(w,H){for(var q,x,O;;){if(w.lookahead<M){if(ee(w),w.lookahead<M&&H===m)return b;if(w.lookahead===0)break}if(q=0,w.lookahead>=C&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=C-1,q!==0&&w.prev_length<w.max_lazy_match&&w.strstart-q<=w.w_size-M&&(w.match_length=B(w,q),w.match_length<=5&&(w.strategy===1||w.match_length===C&&4096<w.strstart-w.match_start)&&(w.match_length=C-1)),w.prev_length>=C&&w.match_length<=w.prev_length){for(O=w.strstart+w.lookahead-C,x=s._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-C),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+C-1])&w.hash_mask,q=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=C-1,w.strstart++,x&&(F(w,!1),w.strm.avail_out===0))return b}else if(w.match_available){if((x=s._tr_tally(w,0,w.window[w.strstart-1]))&&F(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return b}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(x=s._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<C-1?w.strstart:C-1,H===f?(F(w,!0),w.strm.avail_out===0?$:N):w.last_lit&&(F(w,!1),w.strm.avail_out===0)?b:k}function re(w,H,q,x,O){this.good_length=w,this.max_lazy=H,this.nice_length=q,this.max_chain=x,this.func=O}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(w){var H;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=g,(H=w.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?S:R,w.adler=H.wrap===2?0:1,H.last_flush=m,s._tr_init(H),h):X(w,c)}function ue(w){var H=ne(w);return H===h&&function(q){q.window_size=2*q.w_size,Q(q.head),q.max_lazy_match=i[q.level].max_lazy,q.good_match=i[q.level].good_length,q.nice_match=i[q.level].nice_length,q.max_chain_length=i[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=C-1,q.match_available=0,q.ins_h=0}(w.state),H}function fe(w,H,q,x,O,L){if(!w)return c;var j=1;if(H===d&&(H=6),x<0?(j=0,x=-x):15<x&&(j=2,x-=16),O<1||E<O||q!==v||x<8||15<x||H<0||9<H||L<0||y<L)return X(w,c);x===8&&(x=9);var V=new oe;return(w.state=V).strm=w,V.wrap=j,V.gzhead=null,V.w_bits=x,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=O+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+C-1)/C),V.window=new o.Buf8(2*V.w_size),V.head=new o.Buf16(V.hash_size),V.prev=new o.Buf16(V.w_size),V.lit_bufsize=1<<O+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new o.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=H,V.strategy=L,V.method=q,ue(w)}i=[new re(0,0,0,0,function(w,H){var q=65535;for(q>w.pending_buf_size-5&&(q=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ee(w),w.lookahead===0&&H===m)return b;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var x=w.block_start+q;if((w.strstart===0||w.strstart>=x)&&(w.lookahead=w.strstart-x,w.strstart=x,F(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-M&&(F(w,!1),w.strm.avail_out===0))return b}return w.insert=0,H===f?(F(w,!0),w.strm.avail_out===0?$:N):(w.strstart>w.block_start&&(F(w,!1),w.strm.avail_out),b)}),new re(4,4,8,4,te),new re(4,5,16,8,te),new re(4,6,32,32,te),new re(4,4,16,16,W),new re(8,16,32,32,W),new re(8,16,128,128,W),new re(8,32,128,256,W),new re(32,128,258,1024,W),new re(32,258,258,4096,W)],a.deflateInit=function(w,H){return fe(w,H,v,15,8,0)},a.deflateInit2=fe,a.deflateReset=ue,a.deflateResetKeep=ne,a.deflateSetHeader=function(w,H){return w&&w.state?w.state.wrap!==2?c:(w.state.gzhead=H,h):c},a.deflate=function(w,H){var q,x,O,L;if(!w||!w.state||5<H||H<0)return w?X(w,c):c;if(x=w.state,!w.output||!w.input&&w.avail_in!==0||x.status===666&&H!==f)return X(w,w.avail_out===0?-5:c);if(x.strm=w,q=x.last_flush,x.last_flush=H,x.status===S)if(x.wrap===2)w.adler=0,ae(x,31),ae(x,139),ae(x,8),x.gzhead?(ae(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),ae(x,255&x.gzhead.time),ae(x,x.gzhead.time>>8&255),ae(x,x.gzhead.time>>16&255),ae(x,x.gzhead.time>>24&255),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(ae(x,255&x.gzhead.extra.length),ae(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(w.adler=l(w.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,0),ae(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),ae(x,3),x.status=R);else{var j=v+(x.w_bits-8<<4)<<8;j|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(j|=32),j+=31-j%31,x.status=R,Z(x,j),x.strstart!==0&&(Z(x,w.adler>>>16),Z(x,65535&w.adler)),w.adler=1}if(x.status===69)if(x.gzhead.extra){for(O=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),U(w),O=x.pending,x.pending!==x.pending_buf_size));)ae(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){O=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),U(w),O=x.pending,x.pending===x.pending_buf_size)){L=1;break}L=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,ae(x,L)}while(L!==0);x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),L===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){O=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),U(w),O=x.pending,x.pending===x.pending_buf_size)){L=1;break}L=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,ae(x,L)}while(L!==0);x.gzhead.hcrc&&x.pending>O&&(w.adler=l(w.adler,x.pending_buf,x.pending-O,O)),L===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&U(w),x.pending+2<=x.pending_buf_size&&(ae(x,255&w.adler),ae(x,w.adler>>8&255),w.adler=0,x.status=R)):x.status=R),x.pending!==0){if(U(w),w.avail_out===0)return x.last_flush=-1,h}else if(w.avail_in===0&&G(H)<=G(q)&&H!==f)return X(w,-5);if(x.status===666&&w.avail_in!==0)return X(w,-5);if(w.avail_in!==0||x.lookahead!==0||H!==m&&x.status!==666){var V=x.strategy===2?function(z,Y){for(var ie;;){if(z.lookahead===0&&(ee(z),z.lookahead===0)){if(Y===m)return b;break}if(z.match_length=0,ie=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,ie&&(F(z,!1),z.strm.avail_out===0))return b}return z.insert=0,Y===f?(F(z,!0),z.strm.avail_out===0?$:N):z.last_lit&&(F(z,!1),z.strm.avail_out===0)?b:k}(x,H):x.strategy===3?function(z,Y){for(var ie,K,se,pe,le=z.window;;){if(z.lookahead<=I){if(ee(z),z.lookahead<=I&&Y===m)return b;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=C&&0<z.strstart&&(K=le[se=z.strstart-1])===le[++se]&&K===le[++se]&&K===le[++se]){pe=z.strstart+I;do;while(K===le[++se]&&K===le[++se]&&K===le[++se]&&K===le[++se]&&K===le[++se]&&K===le[++se]&&K===le[++se]&&K===le[++se]&&se<pe);z.match_length=I-(pe-se),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=C?(ie=s._tr_tally(z,1,z.match_length-C),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(ie=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),ie&&(F(z,!1),z.strm.avail_out===0))return b}return z.insert=0,Y===f?(F(z,!0),z.strm.avail_out===0?$:N):z.last_lit&&(F(z,!1),z.strm.avail_out===0)?b:k}(x,H):i[x.level].func(x,H);if(V!==$&&V!==N||(x.status=666),V===b||V===$)return w.avail_out===0&&(x.last_flush=-1),h;if(V===k&&(H===1?s._tr_align(x):H!==5&&(s._tr_stored_block(x,0,0,!1),H===3&&(Q(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),U(w),w.avail_out===0))return x.last_flush=-1,h}return H!==f?h:x.wrap<=0?1:(x.wrap===2?(ae(x,255&w.adler),ae(x,w.adler>>8&255),ae(x,w.adler>>16&255),ae(x,w.adler>>24&255),ae(x,255&w.total_in),ae(x,w.total_in>>8&255),ae(x,w.total_in>>16&255),ae(x,w.total_in>>24&255)):(Z(x,w.adler>>>16),Z(x,65535&w.adler)),U(w),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?h:1)},a.deflateEnd=function(w){var H;return w&&w.state?(H=w.state.status)!==S&&H!==69&&H!==73&&H!==91&&H!==103&&H!==R&&H!==666?X(w,c):(w.state=null,H===R?X(w,-3):h):c},a.deflateSetDictionary=function(w,H){var q,x,O,L,j,V,z,Y,ie=H.length;if(!w||!w.state||(L=(q=w.state).wrap)===2||L===1&&q.status!==S||q.lookahead)return c;for(L===1&&(w.adler=u(w.adler,H,ie,0)),q.wrap=0,ie>=q.w_size&&(L===0&&(Q(q.head),q.strstart=0,q.block_start=0,q.insert=0),Y=new o.Buf8(q.w_size),o.arraySet(Y,H,ie-q.w_size,q.w_size,0),H=Y,ie=q.w_size),j=w.avail_in,V=w.next_in,z=w.input,w.avail_in=ie,w.next_in=0,w.input=H,ee(q);q.lookahead>=C;){for(x=q.strstart,O=q.lookahead-(C-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[x+C-1])&q.hash_mask,q.prev[x&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=x,x++,--O;);q.strstart=x,q.lookahead=C-1,ee(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=C-1,q.match_available=0,w.next_in=V,w.input=z,w.avail_in=j,q.wrap=L,h},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var s,u,l,p,m,f,h,c,d,y,g,v,E,A,D,T,_,P,C,I,M,S,R,b,k;s=i.state,u=i.next_in,b=i.input,l=u+(i.avail_in-5),p=i.next_out,k=i.output,m=p-(o-i.avail_out),f=p+(i.avail_out-257),h=s.dmax,c=s.wsize,d=s.whave,y=s.wnext,g=s.window,v=s.hold,E=s.bits,A=s.lencode,D=s.distcode,T=(1<<s.lenbits)-1,_=(1<<s.distbits)-1;e:do{E<15&&(v+=b[u++]<<E,E+=8,v+=b[u++]<<E,E+=8),P=A[v&T];t:for(;;){if(v>>>=C=P>>>24,E-=C,(C=P>>>16&255)===0)k[p++]=65535&P;else{if(!(16&C)){if(!(64&C)){P=A[(65535&P)+(v&(1<<C)-1)];continue t}if(32&C){s.mode=12;break e}i.msg="invalid literal/length code",s.mode=30;break e}I=65535&P,(C&=15)&&(E<C&&(v+=b[u++]<<E,E+=8),I+=v&(1<<C)-1,v>>>=C,E-=C),E<15&&(v+=b[u++]<<E,E+=8,v+=b[u++]<<E,E+=8),P=D[v&_];r:for(;;){if(v>>>=C=P>>>24,E-=C,!(16&(C=P>>>16&255))){if(!(64&C)){P=D[(65535&P)+(v&(1<<C)-1)];continue r}i.msg="invalid distance code",s.mode=30;break e}if(M=65535&P,E<(C&=15)&&(v+=b[u++]<<E,(E+=8)<C&&(v+=b[u++]<<E,E+=8)),h<(M+=v&(1<<C)-1)){i.msg="invalid distance too far back",s.mode=30;break e}if(v>>>=C,E-=C,(C=p-m)<M){if(d<(C=M-C)&&s.sane){i.msg="invalid distance too far back",s.mode=30;break e}if(R=g,(S=0)===y){if(S+=c-C,C<I){for(I-=C;k[p++]=g[S++],--C;);S=p-M,R=k}}else if(y<C){if(S+=c+y-C,(C-=y)<I){for(I-=C;k[p++]=g[S++],--C;);if(S=0,y<I){for(I-=C=y;k[p++]=g[S++],--C;);S=p-M,R=k}}}else if(S+=y-C,C<I){for(I-=C;k[p++]=g[S++],--C;);S=p-M,R=k}for(;2<I;)k[p++]=R[S++],k[p++]=R[S++],k[p++]=R[S++],I-=3;I&&(k[p++]=R[S++],1<I&&(k[p++]=R[S++]))}else{for(S=p-M;k[p++]=k[S++],k[p++]=k[S++],k[p++]=k[S++],2<(I-=3););I&&(k[p++]=k[S++],1<I&&(k[p++]=k[S++]))}break}}break}}while(u<l&&p<f);u-=I=E>>3,v&=(1<<(E-=I<<3))-1,i.next_in=u,i.next_out=p,i.avail_in=u<l?l-u+5:5-(u-l),i.avail_out=p<f?f-p+257:257-(p-f),s.hold=v,s.bits=E}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),u=r("./inffast"),l=r("./inftrees"),p=1,m=2,f=0,h=-2,c=1,d=852,y=592;function g(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(S){var R;return S&&S.state?(R=S.state,S.total_in=S.total_out=R.total=0,S.msg="",R.wrap&&(S.adler=1&R.wrap),R.mode=c,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new i.Buf32(d),R.distcode=R.distdyn=new i.Buf32(y),R.sane=1,R.back=-1,f):h}function A(S){var R;return S&&S.state?((R=S.state).wsize=0,R.whave=0,R.wnext=0,E(S)):h}function D(S,R){var b,k;return S&&S.state?(k=S.state,R<0?(b=0,R=-R):(b=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?h:(k.window!==null&&k.wbits!==R&&(k.window=null),k.wrap=b,k.wbits=R,A(S))):h}function T(S,R){var b,k;return S?(k=new v,(S.state=k).window=null,(b=D(S,R))!==f&&(S.state=null),b):h}var _,P,C=!0;function I(S){if(C){var R;for(_=new i.Buf32(512),P=new i.Buf32(32),R=0;R<144;)S.lens[R++]=8;for(;R<256;)S.lens[R++]=9;for(;R<280;)S.lens[R++]=7;for(;R<288;)S.lens[R++]=8;for(l(p,S.lens,0,288,_,0,S.work,{bits:9}),R=0;R<32;)S.lens[R++]=5;l(m,S.lens,0,32,P,0,S.work,{bits:5}),C=!1}S.lencode=_,S.lenbits=9,S.distcode=P,S.distbits=5}function M(S,R,b,k){var $,N=S.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new i.Buf8(N.wsize)),k>=N.wsize?(i.arraySet(N.window,R,b-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(k<($=N.wsize-N.wnext)&&($=k),i.arraySet(N.window,R,b-k,$,N.wnext),(k-=$)?(i.arraySet(N.window,R,b-k,k,0),N.wnext=k,N.whave=N.wsize):(N.wnext+=$,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=$))),0}a.inflateReset=A,a.inflateReset2=D,a.inflateResetKeep=E,a.inflateInit=function(S){return T(S,15)},a.inflateInit2=T,a.inflate=function(S,R){var b,k,$,N,X,G,Q,U,F,ae,Z,B,ee,te,W,re,oe,ne,ue,fe,w,H,q,x,O=0,L=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return h;(b=S.state).mode===12&&(b.mode=13),X=S.next_out,$=S.output,Q=S.avail_out,N=S.next_in,k=S.input,G=S.avail_in,U=b.hold,F=b.bits,ae=G,Z=Q,H=f;e:for(;;)switch(b.mode){case c:if(b.wrap===0){b.mode=13;break}for(;F<16;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(2&b.wrap&&U===35615){L[b.check=0]=255&U,L[1]=U>>>8&255,b.check=s(b.check,L,2,0),F=U=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&U)<<8)+(U>>8))%31){S.msg="incorrect header check",b.mode=30;break}if((15&U)!=8){S.msg="unknown compression method",b.mode=30;break}if(F-=4,w=8+(15&(U>>>=4)),b.wbits===0)b.wbits=w;else if(w>b.wbits){S.msg="invalid window size",b.mode=30;break}b.dmax=1<<w,S.adler=b.check=1,b.mode=512&U?10:12,F=U=0;break;case 2:for(;F<16;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(b.flags=U,(255&b.flags)!=8){S.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){S.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=U>>8&1),512&b.flags&&(L[0]=255&U,L[1]=U>>>8&255,b.check=s(b.check,L,2,0)),F=U=0,b.mode=3;case 3:for(;F<32;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.head&&(b.head.time=U),512&b.flags&&(L[0]=255&U,L[1]=U>>>8&255,L[2]=U>>>16&255,L[3]=U>>>24&255,b.check=s(b.check,L,4,0)),F=U=0,b.mode=4;case 4:for(;F<16;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.head&&(b.head.xflags=255&U,b.head.os=U>>8),512&b.flags&&(L[0]=255&U,L[1]=U>>>8&255,b.check=s(b.check,L,2,0)),F=U=0,b.mode=5;case 5:if(1024&b.flags){for(;F<16;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.length=U,b.head&&(b.head.extra_len=U),512&b.flags&&(L[0]=255&U,L[1]=U>>>8&255,b.check=s(b.check,L,2,0)),F=U=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(G<(B=b.length)&&(B=G),B&&(b.head&&(w=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,k,N,B,w)),512&b.flags&&(b.check=s(b.check,k,B,N)),G-=B,N+=B,b.length-=B),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(G===0)break e;for(B=0;w=k[N+B++],b.head&&w&&b.length<65536&&(b.head.name+=String.fromCharCode(w)),w&&B<G;);if(512&b.flags&&(b.check=s(b.check,k,B,N)),G-=B,N+=B,w)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(G===0)break e;for(B=0;w=k[N+B++],b.head&&w&&b.length<65536&&(b.head.comment+=String.fromCharCode(w)),w&&B<G;);if(512&b.flags&&(b.check=s(b.check,k,B,N)),G-=B,N+=B,w)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;F<16;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(U!==(65535&b.check)){S.msg="header crc mismatch",b.mode=30;break}F=U=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),S.adler=b.check=0,b.mode=12;break;case 10:for(;F<32;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}S.adler=b.check=g(U),F=U=0,b.mode=11;case 11:if(b.havedict===0)return S.next_out=X,S.avail_out=Q,S.next_in=N,S.avail_in=G,b.hold=U,b.bits=F,2;S.adler=b.check=1,b.mode=12;case 12:if(R===5||R===6)break e;case 13:if(b.last){U>>>=7&F,F-=7&F,b.mode=27;break}for(;F<3;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}switch(b.last=1&U,F-=1,3&(U>>>=1)){case 0:b.mode=14;break;case 1:if(I(b),b.mode=20,R!==6)break;U>>>=2,F-=2;break e;case 2:b.mode=17;break;case 3:S.msg="invalid block type",b.mode=30}U>>>=2,F-=2;break;case 14:for(U>>>=7&F,F-=7&F;F<32;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if((65535&U)!=(U>>>16^65535)){S.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&U,F=U=0,b.mode=15,R===6)break e;case 15:b.mode=16;case 16:if(B=b.length){if(G<B&&(B=G),Q<B&&(B=Q),B===0)break e;i.arraySet($,k,N,B,X),G-=B,N+=B,Q-=B,X+=B,b.length-=B;break}b.mode=12;break;case 17:for(;F<14;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(b.nlen=257+(31&U),U>>>=5,F-=5,b.ndist=1+(31&U),U>>>=5,F-=5,b.ncode=4+(15&U),U>>>=4,F-=4,286<b.nlen||30<b.ndist){S.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;F<3;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.lens[j[b.have++]]=7&U,U>>>=3,F-=3}for(;b.have<19;)b.lens[j[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,q={bits:b.lenbits},H=l(0,b.lens,0,19,b.lencode,0,b.work,q),b.lenbits=q.bits,H){S.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;re=(O=b.lencode[U&(1<<b.lenbits)-1])>>>16&255,oe=65535&O,!((W=O>>>24)<=F);){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(oe<16)U>>>=W,F-=W,b.lens[b.have++]=oe;else{if(oe===16){for(x=W+2;F<x;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(U>>>=W,F-=W,b.have===0){S.msg="invalid bit length repeat",b.mode=30;break}w=b.lens[b.have-1],B=3+(3&U),U>>>=2,F-=2}else if(oe===17){for(x=W+3;F<x;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}F-=W,w=0,B=3+(7&(U>>>=W)),U>>>=3,F-=3}else{for(x=W+7;F<x;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}F-=W,w=0,B=11+(127&(U>>>=W)),U>>>=7,F-=7}if(b.have+B>b.nlen+b.ndist){S.msg="invalid bit length repeat",b.mode=30;break}for(;B--;)b.lens[b.have++]=w}}if(b.mode===30)break;if(b.lens[256]===0){S.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,q={bits:b.lenbits},H=l(p,b.lens,0,b.nlen,b.lencode,0,b.work,q),b.lenbits=q.bits,H){S.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,q={bits:b.distbits},H=l(m,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,q),b.distbits=q.bits,H){S.msg="invalid distances set",b.mode=30;break}if(b.mode=20,R===6)break e;case 20:b.mode=21;case 21:if(6<=G&&258<=Q){S.next_out=X,S.avail_out=Q,S.next_in=N,S.avail_in=G,b.hold=U,b.bits=F,u(S,Z),X=S.next_out,$=S.output,Q=S.avail_out,N=S.next_in,k=S.input,G=S.avail_in,U=b.hold,F=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;re=(O=b.lencode[U&(1<<b.lenbits)-1])>>>16&255,oe=65535&O,!((W=O>>>24)<=F);){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(re&&!(240&re)){for(ne=W,ue=re,fe=oe;re=(O=b.lencode[fe+((U&(1<<ne+ue)-1)>>ne)])>>>16&255,oe=65535&O,!(ne+(W=O>>>24)<=F);){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}U>>>=ne,F-=ne,b.back+=ne}if(U>>>=W,F-=W,b.back+=W,b.length=oe,re===0){b.mode=26;break}if(32&re){b.back=-1,b.mode=12;break}if(64&re){S.msg="invalid literal/length code",b.mode=30;break}b.extra=15&re,b.mode=22;case 22:if(b.extra){for(x=b.extra;F<x;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.length+=U&(1<<b.extra)-1,U>>>=b.extra,F-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;re=(O=b.distcode[U&(1<<b.distbits)-1])>>>16&255,oe=65535&O,!((W=O>>>24)<=F);){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(!(240&re)){for(ne=W,ue=re,fe=oe;re=(O=b.distcode[fe+((U&(1<<ne+ue)-1)>>ne)])>>>16&255,oe=65535&O,!(ne+(W=O>>>24)<=F);){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}U>>>=ne,F-=ne,b.back+=ne}if(U>>>=W,F-=W,b.back+=W,64&re){S.msg="invalid distance code",b.mode=30;break}b.offset=oe,b.extra=15&re,b.mode=24;case 24:if(b.extra){for(x=b.extra;F<x;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}b.offset+=U&(1<<b.extra)-1,U>>>=b.extra,F-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){S.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Q===0)break e;if(B=Z-Q,b.offset>B){if((B=b.offset-B)>b.whave&&b.sane){S.msg="invalid distance too far back",b.mode=30;break}ee=B>b.wnext?(B-=b.wnext,b.wsize-B):b.wnext-B,B>b.length&&(B=b.length),te=b.window}else te=$,ee=X-b.offset,B=b.length;for(Q<B&&(B=Q),Q-=B,b.length-=B;$[X++]=te[ee++],--B;);b.length===0&&(b.mode=21);break;case 26:if(Q===0)break e;$[X++]=b.length,Q--,b.mode=21;break;case 27:if(b.wrap){for(;F<32;){if(G===0)break e;G--,U|=k[N++]<<F,F+=8}if(Z-=Q,S.total_out+=Z,b.total+=Z,Z&&(S.adler=b.check=b.flags?s(b.check,$,Z,X-Z):o(b.check,$,Z,X-Z)),Z=Q,(b.flags?U:g(U))!==b.check){S.msg="incorrect data check",b.mode=30;break}F=U=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;F<32;){if(G===0)break e;G--,U+=k[N++]<<F,F+=8}if(U!==(4294967295&b.total)){S.msg="incorrect length check",b.mode=30;break}F=U=0}b.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return h}return S.next_out=X,S.avail_out=Q,S.next_in=N,S.avail_in=G,b.hold=U,b.bits=F,(b.wsize||Z!==S.avail_out&&b.mode<30&&(b.mode<27||R!==4))&&M(S,S.output,S.next_out,Z-S.avail_out)?(b.mode=31,-4):(ae-=S.avail_in,Z-=S.avail_out,S.total_in+=ae,S.total_out+=Z,b.total+=Z,b.wrap&&Z&&(S.adler=b.check=b.flags?s(b.check,$,Z,S.next_out-Z):o(b.check,$,Z,S.next_out-Z)),S.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(ae==0&&Z===0||R===4)&&H===f&&(H=-5),H)},a.inflateEnd=function(S){if(!S||!S.state)return h;var R=S.state;return R.window&&(R.window=null),S.state=null,f},a.inflateGetHeader=function(S,R){var b;return S&&S.state&&2&(b=S.state).wrap?((b.head=R).done=!1,f):h},a.inflateSetDictionary=function(S,R){var b,k=R.length;return S&&S.state?(b=S.state).wrap!==0&&b.mode!==11?h:b.mode===11&&o(1,R,k,0)!==b.check?-3:M(S,R,k,k)?(b.mode=31,-4):(b.havedict=1,f):h},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(p,m,f,h,c,d,y,g){var v,E,A,D,T,_,P,C,I,M=g.bits,S=0,R=0,b=0,k=0,$=0,N=0,X=0,G=0,Q=0,U=0,F=null,ae=0,Z=new i.Buf16(16),B=new i.Buf16(16),ee=null,te=0;for(S=0;S<=15;S++)Z[S]=0;for(R=0;R<h;R++)Z[m[f+R]]++;for($=M,k=15;1<=k&&Z[k]===0;k--);if(k<$&&($=k),k===0)return c[d++]=20971520,c[d++]=20971520,g.bits=1,0;for(b=1;b<k&&Z[b]===0;b++);for($<b&&($=b),S=G=1;S<=15;S++)if(G<<=1,(G-=Z[S])<0)return-1;if(0<G&&(p===0||k!==1))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+Z[S];for(R=0;R<h;R++)m[f+R]!==0&&(y[B[m[f+R]]++]=R);if(_=p===0?(F=ee=y,19):p===1?(F=o,ae-=257,ee=s,te-=257,256):(F=u,ee=l,-1),S=b,T=d,X=R=U=0,A=-1,D=(Q=1<<(N=$))-1,p===1&&852<Q||p===2&&592<Q)return 1;for(;;){for(P=S-X,I=y[R]<_?(C=0,y[R]):y[R]>_?(C=ee[te+y[R]],F[ae+y[R]]):(C=96,0),v=1<<S-X,b=E=1<<N;c[T+(U>>X)+(E-=v)]=P<<24|C<<16|I|0,E!==0;);for(v=1<<S-1;U&v;)v>>=1;if(v!==0?(U&=v-1,U+=v):U=0,R++,--Z[S]==0){if(S===k)break;S=m[f+y[R]]}if($<S&&(U&D)!==A){for(X===0&&(X=$),T+=b,G=1<<(N=S-X);N+X<k&&!((G-=Z[N+X])<=0);)N++,G<<=1;if(Q+=1<<N,p===1&&852<Q||p===2&&592<Q)return 1;c[A=U&D]=$<<24|N<<16|T-d|0}}return U!==0&&(c[T+U]=S-X<<24|64<<16|0),g.bits=$,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,s=1;function u(O){for(var L=O.length;0<=--L;)O[L]=0}var l=0,p=29,m=256,f=m+1+p,h=30,c=19,d=2*f+1,y=15,g=16,v=7,E=256,A=16,D=17,T=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(f+2));u(M);var S=new Array(2*h);u(S);var R=new Array(512);u(R);var b=new Array(256);u(b);var k=new Array(p);u(k);var $,N,X,G=new Array(h);function Q(O,L,j,V,z){this.static_tree=O,this.extra_bits=L,this.extra_base=j,this.elems=V,this.max_length=z,this.has_stree=O&&O.length}function U(O,L){this.dyn_tree=O,this.max_code=0,this.stat_desc=L}function F(O){return O<256?R[O]:R[256+(O>>>7)]}function ae(O,L){O.pending_buf[O.pending++]=255&L,O.pending_buf[O.pending++]=L>>>8&255}function Z(O,L,j){O.bi_valid>g-j?(O.bi_buf|=L<<O.bi_valid&65535,ae(O,O.bi_buf),O.bi_buf=L>>g-O.bi_valid,O.bi_valid+=j-g):(O.bi_buf|=L<<O.bi_valid&65535,O.bi_valid+=j)}function B(O,L,j){Z(O,j[2*L],j[2*L+1])}function ee(O,L){for(var j=0;j|=1&O,O>>>=1,j<<=1,0<--L;);return j>>>1}function te(O,L,j){var V,z,Y=new Array(y+1),ie=0;for(V=1;V<=y;V++)Y[V]=ie=ie+j[V-1]<<1;for(z=0;z<=L;z++){var K=O[2*z+1];K!==0&&(O[2*z]=ee(Y[K]++,K))}}function W(O){var L;for(L=0;L<f;L++)O.dyn_ltree[2*L]=0;for(L=0;L<h;L++)O.dyn_dtree[2*L]=0;for(L=0;L<c;L++)O.bl_tree[2*L]=0;O.dyn_ltree[2*E]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function re(O){8<O.bi_valid?ae(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function oe(O,L,j,V){var z=2*L,Y=2*j;return O[z]<O[Y]||O[z]===O[Y]&&V[L]<=V[j]}function ne(O,L,j){for(var V=O.heap[j],z=j<<1;z<=O.heap_len&&(z<O.heap_len&&oe(L,O.heap[z+1],O.heap[z],O.depth)&&z++,!oe(L,V,O.heap[z],O.depth));)O.heap[j]=O.heap[z],j=z,z<<=1;O.heap[j]=V}function ue(O,L,j){var V,z,Y,ie,K=0;if(O.last_lit!==0)for(;V=O.pending_buf[O.d_buf+2*K]<<8|O.pending_buf[O.d_buf+2*K+1],z=O.pending_buf[O.l_buf+K],K++,V===0?B(O,z,L):(B(O,(Y=b[z])+m+1,L),(ie=_[Y])!==0&&Z(O,z-=k[Y],ie),B(O,Y=F(--V),j),(ie=P[Y])!==0&&Z(O,V-=G[Y],ie)),K<O.last_lit;);B(O,E,L)}function fe(O,L){var j,V,z,Y=L.dyn_tree,ie=L.stat_desc.static_tree,K=L.stat_desc.has_stree,se=L.stat_desc.elems,pe=-1;for(O.heap_len=0,O.heap_max=d,j=0;j<se;j++)Y[2*j]!==0?(O.heap[++O.heap_len]=pe=j,O.depth[j]=0):Y[2*j+1]=0;for(;O.heap_len<2;)Y[2*(z=O.heap[++O.heap_len]=pe<2?++pe:0)]=1,O.depth[z]=0,O.opt_len--,K&&(O.static_len-=ie[2*z+1]);for(L.max_code=pe,j=O.heap_len>>1;1<=j;j--)ne(O,Y,j);for(z=se;j=O.heap[1],O.heap[1]=O.heap[O.heap_len--],ne(O,Y,1),V=O.heap[1],O.heap[--O.heap_max]=j,O.heap[--O.heap_max]=V,Y[2*z]=Y[2*j]+Y[2*V],O.depth[z]=(O.depth[j]>=O.depth[V]?O.depth[j]:O.depth[V])+1,Y[2*j+1]=Y[2*V+1]=z,O.heap[1]=z++,ne(O,Y,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(le,Me){var or,We,sr,ve,Zr,xn,nt=Me.dyn_tree,Ji=Me.max_code,Js=Me.stat_desc.static_tree,Qs=Me.stat_desc.has_stree,eu=Me.stat_desc.extra_bits,Qi=Me.stat_desc.extra_base,ur=Me.stat_desc.max_length,Kr=0;for(ve=0;ve<=y;ve++)le.bl_count[ve]=0;for(nt[2*le.heap[le.heap_max]+1]=0,or=le.heap_max+1;or<d;or++)ur<(ve=nt[2*nt[2*(We=le.heap[or])+1]+1]+1)&&(ve=ur,Kr++),nt[2*We+1]=ve,Ji<We||(le.bl_count[ve]++,Zr=0,Qi<=We&&(Zr=eu[We-Qi]),xn=nt[2*We],le.opt_len+=xn*(ve+Zr),Qs&&(le.static_len+=xn*(Js[2*We+1]+Zr)));if(Kr!==0){do{for(ve=ur-1;le.bl_count[ve]===0;)ve--;le.bl_count[ve]--,le.bl_count[ve+1]+=2,le.bl_count[ur]--,Kr-=2}while(0<Kr);for(ve=ur;ve!==0;ve--)for(We=le.bl_count[ve];We!==0;)Ji<(sr=le.heap[--or])||(nt[2*sr+1]!==ve&&(le.opt_len+=(ve-nt[2*sr+1])*nt[2*sr],nt[2*sr+1]=ve),We--)}}(O,L),te(Y,pe,O.bl_count)}function w(O,L,j){var V,z,Y=-1,ie=L[1],K=0,se=7,pe=4;for(ie===0&&(se=138,pe=3),L[2*(j+1)+1]=65535,V=0;V<=j;V++)z=ie,ie=L[2*(V+1)+1],++K<se&&z===ie||(K<pe?O.bl_tree[2*z]+=K:z!==0?(z!==Y&&O.bl_tree[2*z]++,O.bl_tree[2*A]++):K<=10?O.bl_tree[2*D]++:O.bl_tree[2*T]++,Y=z,pe=(K=0)===ie?(se=138,3):z===ie?(se=6,3):(se=7,4))}function H(O,L,j){var V,z,Y=-1,ie=L[1],K=0,se=7,pe=4;for(ie===0&&(se=138,pe=3),V=0;V<=j;V++)if(z=ie,ie=L[2*(V+1)+1],!(++K<se&&z===ie)){if(K<pe)for(;B(O,z,O.bl_tree),--K!=0;);else z!==0?(z!==Y&&(B(O,z,O.bl_tree),K--),B(O,A,O.bl_tree),Z(O,K-3,2)):K<=10?(B(O,D,O.bl_tree),Z(O,K-3,3)):(B(O,T,O.bl_tree),Z(O,K-11,7));Y=z,pe=(K=0)===ie?(se=138,3):z===ie?(se=6,3):(se=7,4)}}u(G);var q=!1;function x(O,L,j,V){Z(O,(l<<1)+(V?1:0),3),function(z,Y,ie,K){re(z),ae(z,ie),ae(z,~ie),i.arraySet(z.pending_buf,z.window,Y,ie,z.pending),z.pending+=ie}(O,L,j)}a._tr_init=function(O){q||(function(){var L,j,V,z,Y,ie=new Array(y+1);for(z=V=0;z<p-1;z++)for(k[z]=V,L=0;L<1<<_[z];L++)b[V++]=z;for(b[V-1]=z,z=Y=0;z<16;z++)for(G[z]=Y,L=0;L<1<<P[z];L++)R[Y++]=z;for(Y>>=7;z<h;z++)for(G[z]=Y<<7,L=0;L<1<<P[z]-7;L++)R[256+Y++]=z;for(j=0;j<=y;j++)ie[j]=0;for(L=0;L<=143;)M[2*L+1]=8,L++,ie[8]++;for(;L<=255;)M[2*L+1]=9,L++,ie[9]++;for(;L<=279;)M[2*L+1]=7,L++,ie[7]++;for(;L<=287;)M[2*L+1]=8,L++,ie[8]++;for(te(M,f+1,ie),L=0;L<h;L++)S[2*L+1]=5,S[2*L]=ee(L,5);$=new Q(M,_,m+1,f,y),N=new Q(S,P,0,h,y),X=new Q(new Array(0),C,0,c,v)}(),q=!0),O.l_desc=new U(O.dyn_ltree,$),O.d_desc=new U(O.dyn_dtree,N),O.bl_desc=new U(O.bl_tree,X),O.bi_buf=0,O.bi_valid=0,W(O)},a._tr_stored_block=x,a._tr_flush_block=function(O,L,j,V){var z,Y,ie=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(K){var se,pe=4093624447;for(se=0;se<=31;se++,pe>>>=1)if(1&pe&&K.dyn_ltree[2*se]!==0)return o;if(K.dyn_ltree[18]!==0||K.dyn_ltree[20]!==0||K.dyn_ltree[26]!==0)return s;for(se=32;se<m;se++)if(K.dyn_ltree[2*se]!==0)return s;return o}(O)),fe(O,O.l_desc),fe(O,O.d_desc),ie=function(K){var se;for(w(K,K.dyn_ltree,K.l_desc.max_code),w(K,K.dyn_dtree,K.d_desc.max_code),fe(K,K.bl_desc),se=c-1;3<=se&&K.bl_tree[2*I[se]+1]===0;se--);return K.opt_len+=3*(se+1)+5+5+4,se}(O),z=O.opt_len+3+7>>>3,(Y=O.static_len+3+7>>>3)<=z&&(z=Y)):z=Y=j+5,j+4<=z&&L!==-1?x(O,L,j,V):O.strategy===4||Y===z?(Z(O,2+(V?1:0),3),ue(O,M,S)):(Z(O,4+(V?1:0),3),function(K,se,pe,le){var Me;for(Z(K,se-257,5),Z(K,pe-1,5),Z(K,le-4,4),Me=0;Me<le;Me++)Z(K,K.bl_tree[2*I[Me]+1],3);H(K,K.dyn_ltree,se-1),H(K,K.dyn_dtree,pe-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,ie+1),ue(O,O.dyn_ltree,O.dyn_dtree)),W(O),V&&re(O)},a._tr_tally=function(O,L,j){return O.pending_buf[O.d_buf+2*O.last_lit]=L>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&L,O.pending_buf[O.l_buf+O.last_lit]=255&j,O.last_lit++,L===0?O.dyn_ltree[2*j]++:(O.matches++,L--,O.dyn_ltree[2*(b[j]+m+1)]++,O.dyn_dtree[2*F(L)]++),O.last_lit===O.lit_bufsize-1},a._tr_align=function(O){Z(O,2,3),B(O,E,M),function(L){L.bi_valid===16?(ae(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(o,s){if(!o.setImmediate){var u,l,p,m,f=1,h={},c=!1,d=o.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(o);y=y&&y.setTimeout?y:o,u={}.toString.call(o.process)==="[object process]"?function(A){process.nextTick(function(){v(A)})}:function(){if(o.postMessage&&!o.importScripts){var A=!0,D=o.onmessage;return o.onmessage=function(){A=!1},o.postMessage("","*"),o.onmessage=D,A}}()?(m="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",E,!1):o.attachEvent("onmessage",E),function(A){o.postMessage(m+A,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(A){v(A.data)},function(A){p.port2.postMessage(A)}):d&&"onreadystatechange"in d.createElement("script")?(l=d.documentElement,function(A){var D=d.createElement("script");D.onreadystatechange=function(){v(A),D.onreadystatechange=null,l.removeChild(D),D=null},l.appendChild(D)}):function(A){setTimeout(v,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var D=new Array(arguments.length-1),T=0;T<D.length;T++)D[T]=arguments[T+1];var _={callback:A,args:D};return h[f]=_,u(f),f++},y.clearImmediate=g}function g(A){delete h[A]}function v(A){if(c)setTimeout(v,0,A);else{var D=h[A];if(D){c=!0;try{(function(T){var _=T.callback,P=T.args;switch(P.length){case 0:_();break;case 1:_(P[0]);break;case 2:_(P[0],P[1]);break;case 3:_(P[0],P[1],P[2]);break;default:_.apply(s,P)}})(D)}finally{g(A),c=!1}}}}function E(A){A.source===o&&typeof A.data=="string"&&A.data.indexOf(m)===0&&v(+A.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ce<"u"?Ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Go);var Pc=Go.exports;const Rn=pi(Pc);var Ho={exports:{}};(function(e,t){(function(r,n){n()})(Ce,function(){function r(l,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function n(l,p,m){var f=new XMLHttpRequest;f.open("GET",l),f.responseType="blob",f.onload=function(){u(f.response,p,m)},f.onerror=function(){console.error("could not download file")},f.send()}function a(l){var p=new XMLHttpRequest;p.open("HEAD",l,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ce=="object"&&Ce.global===Ce?Ce:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,p,m){var f=o.URL||o.webkitURL,h=document.createElement("a");p=p||l.name||"download",h.download=p,h.rel="noopener",typeof l=="string"?(h.href=l,h.origin===location.origin?i(h):a(h.href)?n(l,p,m):i(h,h.target="_blank")):(h.href=f.createObjectURL(l),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(l,p,m){if(p=p||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(r(l,m),p);else if(a(l))n(l,p,m);else{var f=document.createElement("a");f.href=l,f.target="_blank",setTimeout(function(){i(f)})}}:function(l,p,m,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof l=="string")return n(l,p,m);var h=l.type==="application/octet-stream",c=/constructor/i.test(o.HTMLElement)||o.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||h&&c||s)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=d?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=E:location=E,f=null},y.readAsDataURL(l)}else{var g=o.URL||o.webkitURL,v=g.createObjectURL(l);f?f.location=v:location.href=v,f=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})})(Ho);var Pn=Ho.exports,_i={},cr={},fr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.ValidationError=void 0;class Nc extends Error{constructor(t){super(t),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(t){return new this(t)}}zr.ValidationError=Nc;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.PromisePoolError=void 0;class Bc extends Error{constructor(t,r){super(),this.raw=t,this.item=r,this.name=this.constructor.name,this.message=this.messageFrom(t),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(t,r){return new this(t,r)}messageFrom(t){return t instanceof Error||typeof t=="object"?t.message:typeof t=="string"||typeof t=="number"?t.toString():""}}$r.PromisePoolError=Bc;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.StopThePromisePoolError=void 0;class kc extends Error{}qr.StopThePromisePoolError=kc;var ma;function Fc(){if(ma)return fr;ma=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.PromisePoolExecutor=void 0;const e=Qn(),t=zr,r=$r,n=qr;class a{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=o=>o,this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(o){if(!this.isValidConcurrency(o))throw t.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${o}" (${typeof o})`);return this.meta.concurrency=o,this}isValidConcurrency(o){return typeof o=="number"&&o>=1}withTaskTimeout(o){return this.meta.taskTimeout=o,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(o){return this.meta.shouldResultsCorrespond=o,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(o){return this.meta.items=o,this}items(){return this.meta.items}itemsCount(){const o=this.items();return Array.isArray(o)?o.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(o){return this.handler=o,this}hasErrorHandler(){return!!this.errorHandler}handleError(o){return this.errorHandler=o,this}onTaskStarted(o){return this.onTaskStartedHandlers=o,this}onTaskFinished(o){return this.onTaskFinishedHandlers=o,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new n.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw t.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const o=this.taskTimeout();if(!(o==null||typeof o=="number"&&o>=0))throw t.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(o)}" (${typeof o})`);if(!this.areItemsValid())throw t.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw t.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(s=>{if(s&&typeof s!="function")throw t.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof s}"`)}),this.onTaskFinishedHandlers.forEach(s=>{if(s&&typeof s!="function")throw t.ValidationError.createFrom(`The error handler must be a function. Received "${typeof s}"`)}),this}areItemsValid(){const o=this.items();return!!(Array.isArray(o)||typeof o[Symbol.iterator]=="function"||typeof o[Symbol.asyncIterator]=="function")}prepareResultsArray(){const o=this.items();return Array.isArray(o)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(o.length).fill(e.PromisePool.notRun),this):this:this}async process(){let o=0;for await(const s of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[o]=e.PromisePool.notRun),this.startProcessing(s,o),o+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(o,s){const u=this.createTaskFor(o,s).then(l=>{this.save(l,s).removeActive(u)}).catch(async l=>{await this.handleErrorFor(l,o,s),this.removeActive(u)}).finally(()=>{this.processedItems().push(o),this.runOnTaskFinishedHandlers(o)});this.tasks().push(u),this.runOnTaskStartedHandlers(o)}async createTaskFor(o,s){if(this.taskTimeout()===void 0)return this.handler(o,s,this);const[u,l]=this.createTaskTimeout(o);return Promise.race([this.handler(o,s,this),u()]).finally(l)}createTaskTimeout(o){let s;return[async()=>new Promise((p,m)=>{s=setTimeout(()=>{m(new r.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,o))},this.taskTimeout())}),()=>clearTimeout(s)]}save(o,s){return this.shouldUseCorrespondingResults()?this.results()[s]=o:this.results().push(o),this}removeActive(o){return this.tasks().splice(this.tasks().indexOf(o),1),this}async handleErrorFor(o,s,u){if(this.shouldUseCorrespondingResults()&&(this.results()[u]=e.PromisePool.failed),!this.isStoppingThePoolError(o)){if(this.isValidationError(o))throw this.markAsStopped(),o;this.hasErrorHandler()?await this.runErrorHandlerFor(o,s):this.saveErrorFor(o,s)}}isStoppingThePoolError(o){return o instanceof n.StopThePromisePoolError}isValidationError(o){return o instanceof t.ValidationError}async runErrorHandlerFor(o,s){var u;try{await((u=this.errorHandler)==null?void 0:u.call(this,o,s,this))}catch(l){this.rethrowIfNotStoppingThePool(l)}}runOnTaskStartedHandlers(o){this.onTaskStartedHandlers.forEach(s=>{s(o,this)})}runOnTaskFinishedHandlers(o){this.onTaskFinishedHandlers.forEach(s=>{s(o,this)})}rethrowIfNotStoppingThePool(o){if(!this.isStoppingThePoolError(o))throw o}saveErrorFor(o,s){this.errors().push(r.PromisePoolError.createFrom(o,s))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}return fr.PromisePoolExecutor=a,fr}var ga;function Qn(){if(ga)return cr;ga=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.PromisePool=void 0;const e=Fc();class t{constructor(n){this.timeout=void 0,this.concurrency=10,this.items=n??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(n){return this.concurrency=n,this}static withConcurrency(n){return new this().withConcurrency(n)}withTaskTimeout(n){return this.timeout=n,this}static withTaskTimeout(n){return new this().withTaskTimeout(n)}for(n){const a=new t(n).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&a.handleError(this.errorHandler),typeof this.timeout=="number"?a.withTaskTimeout(this.timeout):a}static for(n){return new this().for(n)}handleError(n){return this.errorHandler=n,this}onTaskStarted(n){return this.onTaskStartedHandlers.push(n),this}onTaskFinished(n){return this.onTaskFinishedHandlers.push(n),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(n){return new e.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(n).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}return cr.PromisePool=t,t.notRun=Symbol("notRun"),t.failed=Symbol("failed"),cr}var jo={};Object.defineProperty(jo,"__esModule",{value:!0});var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});(function(e){var t=Ce&&Ce.__createBinding||(Object.create?function(a,i,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(i,o);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(a,s,u)}:function(a,i,o,s){s===void 0&&(s=o),a[s]=i[o]}),r=Ce&&Ce.__exportStar||function(a,i){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,a,o)};Object.defineProperty(e,"__esModule",{value:!0});const n=Qn();e.default=n.PromisePool,r(jo,e),r(Qn(),e),r($r,e),r(Vo,e),r(qr,e),r(zr,e)})(_i);var Ti=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(n,a){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(a)},t.off=function(n,a){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(a);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(i,1),i>-1},t.trigger=function(n){var a=this.listeners[n];if(a)if(arguments.length===2)for(var i=a.length,o=0;o<i;++o)a[o].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),u=a.length,l=0;l<u;++l)a[l].apply(this,s)},t.dispose=function(){this.listeners={}},t.pipe=function(n){this.on("data",function(a){n.push(a)})},e}();function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(null,arguments)}var yr;typeof window<"u"?yr=window:typeof Ce<"u"?yr=Ce:typeof self<"u"?yr=self:yr={};var Lc=yr;const me=pi(Lc);var Uc=function(t){return me.atob?me.atob(t):Buffer.from(t,"base64").toString("binary")};function Mc(e){for(var t=Uc(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class zc extends Ti{constructor(){super(),this.buffer=""}push(t){let r;for(this.buffer+=t,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const $c="	",Nn=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),r={};return t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),r},qc=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Ue=function(e){const t={};if(!e)return t;const r=e.split(qc());let n=r.length,a;for(;n--;)r[n]!==""&&(a=/([^=]*)=(.*)/.exec(r[n]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),t[a[0]]=a[1]);return t};class Gc extends Ti{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(t){let r,n;if(t=t.trim(),t.length===0)return;if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}this.tagMappers.reduce((i,o)=>{const s=o(t);return s===t?i:i.concat([s])},[t]).forEach(i=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,i))return;if(i.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:i.slice(1)});return}if(i=i.replace("\r",""),r=/^#EXTM3U/.exec(i),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(i),r){n={type:"tag",tagType:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),this.trigger("data",n);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(i),r){n={type:"tag",tagType:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(i),r){n={type:"tag",tagType:"version"},r[1]&&(n.version=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(i),r){n={type:"tag",tagType:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(i),r){n={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),this.trigger("data",n);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(i),r){n={type:"tag",tagType:"playlist-type"},r[1]&&(n.playlistType=r[1]),this.trigger("data",n);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(i),r){n=$t(Nn(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(i),r){n={type:"tag",tagType:"allow-cache"},r[1]&&(n.allowed=!/NO/.test(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(i),r){if(n={type:"tag",tagType:"map"},r[1]){const o=Ue(r[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=Nn(o.BYTERANGE))}this.trigger("data",n);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(i),r){if(n={type:"tag",tagType:"stream-inf"},r[1]){if(n.attributes=Ue(r[1]),n.attributes.RESOLUTION){const o=n.attributes.RESOLUTION.split("x"),s={};o[0]&&(s.width=parseInt(o[0],10)),o[1]&&(s.height=parseInt(o[1],10)),n.attributes.RESOLUTION=s}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(i),r){n={type:"tag",tagType:"media"},r[1]&&(n.attributes=Ue(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-ENDLIST/.exec(i),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(i),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(i),r){n={type:"tag",tagType:"program-date-time"},r[1]&&(n.dateTimeString=r[1],n.dateTimeObject=new Date(r[1])),this.trigger("data",n);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(i),r){n={type:"tag",tagType:"key"},r[1]&&(n.attributes=Ue(r[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(r=/^#EXT-X-START:(.*)$/.exec(i),r){n={type:"tag",tagType:"start"},r[1]&&(n.attributes=Ue(r[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(i),r){n={type:"tag",tagType:"cue-out-cont"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(i),r){n={type:"tag",tagType:"cue-out"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-CUE-IN:(.*)?$/.exec(i),r){n={type:"tag",tagType:"cue-in"},r[1]?n.data=r[1]:n.data="",this.trigger("data",n);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"skip"},n.attributes=Ue(r[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split($c)),this.trigger("data",n);return}if(r=/^#EXT-X-PART:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"part"},n.attributes=Ue(r[1]),["DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=Nn(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"server-control"},n.attributes=Ue(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/.test(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Ue(r[1]),["PART-TARGET"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),this.trigger("data",n);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Ue(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(n.attributes.hasOwnProperty(o)){n.attributes[o]=parseInt(n.attributes[o],10);const s=o==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[s]=n.attributes[o],delete n.attributes[o]}}),this.trigger("data",n);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Ue(r[1]),["LAST-MSN","LAST-PART"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseInt(n.attributes[o],10))}),this.trigger("data",n);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(i),r&&r[1]){n={type:"tag",tagType:"daterange"},n.attributes=Ue(r[1]),["ID","CLASS"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=String(n.attributes[s]))}),["START-DATE","END-DATE"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=new Date(n.attributes[s]))}),["DURATION","PLANNED-DURATION"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=parseFloat(n.attributes[s]))}),["END-ON-NEXT"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=/YES/i.test(n.attributes[s]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(s){n.attributes.hasOwnProperty(s)&&(n.attributes[s]=n.attributes[s].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const s in n.attributes){if(!o.test(s))continue;const u=/[0-9A-Fa-f]{6}/g.test(n.attributes[s]),l=/^\d+(\.\d+)?$/.test(n.attributes[s]);n.attributes[s]=u?n.attributes[s].toString(16):l?parseFloat(n.attributes[s]):String(n.attributes[s])}this.trigger("data",n);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(i),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(i),r){n={type:"tag",tagType:"content-steering"},n.attributes=Ue(r[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:i.slice(4)})})}addParser({expression:t,customType:r,dataParser:n,segment:a}){typeof n!="function"&&(n=i=>i),this.customParsers.push(i=>{if(t.exec(i))return this.trigger("data",{type:"custom",data:n(i),customType:r,segment:a}),!0})}addTagMapper({expression:t,map:r}){const n=a=>t.test(a)?r(a):a;this.tagMappers.push(n)}}const Hc=e=>e.toLowerCase().replace(/-(\w)/g,t=>t[1].toUpperCase()),ft=function(e){const t={};return Object.keys(e).forEach(function(r){t[Hc(r)]=e[r]}),t},Bn=function(e){const{serverControl:t,targetDuration:r,partTargetDuration:n}=e;if(!t)return;const a="#EXT-X-SERVER-CONTROL",i="holdBack",o="partHoldBack",s=r&&r*3,u=n&&n*2;r&&!t.hasOwnProperty(i)&&(t[i]=s,this.trigger("info",{message:`${a} defaulting HOLD-BACK to targetDuration * 3 (${s}).`})),s&&t[i]<s&&(this.trigger("warn",{message:`${a} clamping HOLD-BACK (${t[i]}) to targetDuration * 3 (${s})`}),t[i]=s),n&&!t.hasOwnProperty(o)&&(t[o]=n*3,this.trigger("info",{message:`${a} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[o]}).`})),n&&t[o]<u&&(this.trigger("warn",{message:`${a} clamping PART-HOLD-BACK (${t[o]}) to partTargetDuration * 2 (${u}).`}),t[o]=u)};class jc extends Ti{constructor(){super(),this.lineStream=new zc,this.parseStream=new Gc,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const t=this,r=[];let n={},a,i,o=!1;const s=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let p=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let m=0,f=0;const h={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&a&&(n.map=a),!n.key&&i&&(n.key=i),!n.timeline&&typeof p=="number"&&(n.timeline=p),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(c){let d,y;({tag(){({version(){c.version&&(this.manifest.version=c.version)},"allow-cache"(){this.manifest.allowCache=c.allowed,"allowed"in c||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const g={};"length"in c&&(n.byterange=g,g.length=c.length,"offset"in c||(c.offset=m)),"offset"in c&&(n.byterange=g,g.offset=c.offset),m=g.offset+g.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),c.title&&(n.title=c.title),c.duration>0&&(n.duration=c.duration),c.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!c.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(c.attributes.METHOD==="NONE"){i=null;return}if(!c.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(c.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:c.attributes};return}if(c.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:c.attributes.URI};return}if(c.attributes.KEYFORMAT===l){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(c.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(c.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),c.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(c.attributes.KEYID&&c.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:c.attributes.KEYFORMAT,keyId:c.attributes.KEYID.substring(2)},pssh:Mc(c.attributes.URI.split(",")[1])};return}c.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:c.attributes.METHOD||"AES-128",uri:c.attributes.URI},typeof c.attributes.IV<"u"&&(i.iv=c.attributes.IV)},"media-sequence"(){if(!isFinite(c.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+c.number});return}this.manifest.mediaSequence=c.number},"discontinuity-sequence"(){if(!isFinite(c.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+c.number});return}this.manifest.discontinuitySequence=c.number,p=c.number},"playlist-type"(){if(!/VOD|EVENT/.test(c.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+c.playlist});return}this.manifest.playlistType=c.playlistType},map(){a={},c.uri&&(a.uri=c.uri),c.byterange&&(a.byterange=c.byterange),i&&(a.key=i)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!c.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),$t(n.attributes,c.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(c.attributes&&c.attributes.TYPE&&c.attributes["GROUP-ID"]&&c.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const g=this.manifest.mediaGroups[c.attributes.TYPE];g[c.attributes["GROUP-ID"]]=g[c.attributes["GROUP-ID"]]||{},d=g[c.attributes["GROUP-ID"]],y={default:/yes/i.test(c.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(c.attributes.AUTOSELECT),c.attributes.LANGUAGE&&(y.language=c.attributes.LANGUAGE),c.attributes.URI&&(y.uri=c.attributes.URI),c.attributes["INSTREAM-ID"]&&(y.instreamId=c.attributes["INSTREAM-ID"]),c.attributes.CHARACTERISTICS&&(y.characteristics=c.attributes.CHARACTERISTICS),c.attributes.FORCED&&(y.forced=/yes/i.test(c.attributes.FORCED)),d[c.attributes.NAME]=y},discontinuity(){p+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=c.dateTimeString,this.manifest.dateTimeObject=c.dateTimeObject),n.dateTimeString=c.dateTimeString,n.dateTimeObject=c.dateTimeObject;const{lastProgramDateTime:g}=this;this.lastProgramDateTime=new Date(c.dateTimeString).getTime(),g===null&&this.manifest.segments.reduceRight((v,E)=>(E.programDateTime=v-E.duration*1e3,E.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(c.duration)||c.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+c.duration});return}this.manifest.targetDuration=c.duration,Bn.call(this,this.manifest)},start(){if(!c.attributes||isNaN(c.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:c.attributes["TIME-OFFSET"],precise:c.attributes.PRECISE}},"cue-out"(){n.cueOut=c.data},"cue-out-cont"(){n.cueOutCont=c.data},"cue-in"(){n.cueIn=c.data},skip(){this.manifest.skip=ft(c.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",c.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const g=this.manifest.segments.length,v=ft(c.attributes);n.parts=n.parts||[],n.parts.push(v),v.byterange&&(v.byterange.hasOwnProperty("offset")||(v.byterange.offset=f),f=v.byterange.offset+v.byterange.length);const E=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${E} for segment #${g}`,c.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((A,D)=>{A.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${D} lacks required attribute(s): LAST-PART`})})},"server-control"(){const g=this.manifest.serverControl=ft(c.attributes);g.hasOwnProperty("canBlockReload")||(g.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Bn.call(this,this.manifest),g.canSkipDateranges&&!g.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const g=this.manifest.segments.length,v=ft(c.attributes),E=v.type&&v.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(v),v.byterange&&(v.byterange.hasOwnProperty("offset")||(v.byterange.offset=E?f:0,E&&(f=v.byterange.offset+v.byterange.length)));const A=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${A} for segment #${g}`,c.attributes,["TYPE","URI"]),!!v.type)for(let D=0;D<n.preloadHints.length-1;D++){const T=n.preloadHints[D];T.type&&T.type===v.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${A} for segment #${g} has the same TYPE ${v.type} as preload hint #${D}`})}},"rendition-report"(){const g=ft(c.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(g);const v=this.manifest.renditionReports.length-1,E=["LAST-MSN","URI"];o&&E.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${v}`,c.attributes,E)},"part-inf"(){this.manifest.partInf=ft(c.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",c.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Bn.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(ft(c.attributes));const g=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${g}`,c.attributes,["ID","START-DATE"]);const v=this.manifest.dateRanges[g];v.endDate&&v.startDate&&new Date(v.endDate)<new Date(v.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),v.duration&&v.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),v.plannedDuration&&v.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const E=!!v.endOnNext;if(E&&!v.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),E&&(v.duration||v.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),v.duration&&v.endDate){const D=v.startDate.getTime()+v.duration*1e3;this.manifest.dateRanges[g].endDate=new Date(D)}if(!h[v.id])h[v.id]=v;else{for(const D in h[v.id])if(v[D]&&JSON.stringify(h[v.id][D])!==JSON.stringify(v[D])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const A=this.manifest.dateRanges.findIndex(D=>D.id===v.id);this.manifest.dateRanges[A]=$t(this.manifest.dateRanges[A],v),h[v.id]=$t(h[v.id],v),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=ft(c.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",c.attributes,["SERVER-URI"])}}[c.tagType]||s).call(t)},uri(){n.uri=c.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),i&&(n.key=i),n.timeline=p,a&&(n.map=a),f=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){c.segment?(n.custom=n.custom||{},n.custom[c.customType]=c.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[c.customType]=c.data)}})[c.type].call(t)})}warnOnMissingAttributes_(t,r,n){const a=[];n.forEach(function(i){r.hasOwnProperty(i)||a.push(i)}),a.length&&this.trigger("warn",{message:`${t} lacks required attribute(s): ${a.join(", ")}`})}push(t){this.lineStream.push(t)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(t){this.parseStream.addParser(t)}addTagMapper(t){this.parseStream.addTagMapper(t)}}var Wo={exports:{}};(function(e,t){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(u,l,p){if(p=p||{},u=u.trim(),l=l.trim(),!l){if(!p.alwaysNormalize)return u;var m=s.parseURL(u);if(!m)throw new Error("Error trying to parse base URL.");return m.path=s.normalizePath(m.path),s.buildURLFromParts(m)}var f=s.parseURL(l);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return p.alwaysNormalize?(f.path=s.normalizePath(f.path),s.buildURLFromParts(f)):l;var h=s.parseURL(u);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var c=a.exec(h.path);h.netLoc=c[1],h.path=c[2]}h.netLoc&&!h.path&&(h.path="/");var d={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(d.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)d.path=h.path,f.params||(d.params=h.params,f.query||(d.query=h.query));else{var y=h.path,g=y.substring(0,y.lastIndexOf("/")+1)+f.path;d.path=s.normalizePath(g)}return d.path===null&&(d.path=p.alwaysNormalize?s.normalizePath(f.path):f.path),s.buildURLFromParts(d)},parseURL:function(u){var l=n.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(i,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};e.exports=s})()})(Wo);var Vc=Wo.exports;const ya=pi(Vc);var va="http://example.com",Ci=function(t,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(t)&&(t=me.location&&me.location.href||"");var n=typeof me.URL=="function",a=/^\/\//.test(t),i=!me.location&&!/\/\//i.test(t);if(n?t=new me.URL(t,me.location||va):/\/\//i.test(t)||(t=ya.buildAbsoluteURL(me.location&&me.location.href||"",t)),n){var o=new URL(r,t);return i?o.href.slice(va.length):a?o.href.slice(o.protocol.length):o.href}return ya.buildAbsoluteURL(t,r)},Wc=function(t,r,n){r.forEach(function(a){for(var i in t.mediaGroups[a])for(var o in t.mediaGroups[a][i]){var s=t.mediaGroups[a][i][o];n(s,a,i,o)}})},Xc=function(t){return me.atob?me.atob(t):Buffer.from(t,"base64").toString("binary")};function Yc(e){for(var t=Xc(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}var bt={},ct={};function Zc(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];if(t.call(void 0,a,n,e))return a}}function Oi(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function Kc(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var Xo=Oi({HTML:"text/html",isHTML:function(e){return e===Xo.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Yo=Oi({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===Yo.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ct.assign=Kc;ct.find=Zc;ct.freeze=Oi;ct.MIME_TYPE=Xo;ct.NAMESPACE=Yo;var Zo=ct,Qe=Zo.find,Rr=Zo.NAMESPACE;function Jc(e){return e!==""}function Qc(e){return e?e.split(/[\t\n\f\r ]+/).filter(Jc):[]}function ef(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function ba(e){if(!e)return[];var t=Qc(e);return Object.keys(t.reduce(ef,{}))}function tf(e){return function(t){return e&&e.indexOf(t)!==-1}}function Gr(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function ke(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};n.prototype=t.prototype,n=new n,Gr(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var Fe={},je=Fe.ELEMENT_NODE=1,Zt=Fe.ATTRIBUTE_NODE=2,hn=Fe.TEXT_NODE=3,Ko=Fe.CDATA_SECTION_NODE=4,Jo=Fe.ENTITY_REFERENCE_NODE=5,rf=Fe.ENTITY_NODE=6,Qo=Fe.PROCESSING_INSTRUCTION_NODE=7,es=Fe.COMMENT_NODE=8,ts=Fe.DOCUMENT_NODE=9,rs=Fe.DOCUMENT_TYPE_NODE=10,st=Fe.DOCUMENT_FRAGMENT_NODE=11,nf=Fe.NOTATION_NODE=12,xe={},Te={};xe.INDEX_SIZE_ERR=(Te[1]="Index size error",1);xe.DOMSTRING_SIZE_ERR=(Te[2]="DOMString size error",2);var Pe=xe.HIERARCHY_REQUEST_ERR=(Te[3]="Hierarchy request error",3);xe.WRONG_DOCUMENT_ERR=(Te[4]="Wrong document",4);xe.INVALID_CHARACTER_ERR=(Te[5]="Invalid character",5);xe.NO_DATA_ALLOWED_ERR=(Te[6]="No data allowed",6);xe.NO_MODIFICATION_ALLOWED_ERR=(Te[7]="No modification allowed",7);var ns=xe.NOT_FOUND_ERR=(Te[8]="Not found",8);xe.NOT_SUPPORTED_ERR=(Te[9]="Not supported",9);var wa=xe.INUSE_ATTRIBUTE_ERR=(Te[10]="Attribute in use",10);xe.INVALID_STATE_ERR=(Te[11]="Invalid state",11);xe.SYNTAX_ERR=(Te[12]="Syntax error",12);xe.INVALID_MODIFICATION_ERR=(Te[13]="Invalid modification",13);xe.NAMESPACE_ERR=(Te[14]="Invalid namespace",14);xe.INVALID_ACCESS_ERR=(Te[15]="Invalid access",15);function we(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,Te[e]),this.message=Te[e],Error.captureStackTrace&&Error.captureStackTrace(this,we);return r.code=e,t&&(this.message=this.message+": "+t),r}we.prototype=Error.prototype;Gr(xe,we);function at(){}at.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)zt(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function Kt(e,t){this._node=e,this._refresh=t,Ii(this)}function Ii(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(ms(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];Gr(r,e),e._inc=t}}Kt.prototype.item=function(e){return Ii(this),this[e]||null};ke(Kt,at);function mn(){}function is(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function Ea(e,t,r,n){if(n?t[is(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var a=e.ownerDocument;a&&(n&&ss(a,e,n),af(a,e,r))}}function Aa(e,t,r){var n=is(t,r);if(n>=0){for(var a=t.length-1;n<a;)t[n]=t[++n];if(t.length=a,e){var i=e.ownerDocument;i&&(ss(i,e,r),r.ownerElement=null)}}else throw new we(ns,new Error(e.tagName+"@"+r))}mn.prototype={length:0,item:at.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new we(wa);var r=this.getNamedItem(e.nodeName);return Ea(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new we(wa);return r=this.getNamedItemNS(e.namespaceURI,e.localName),Ea(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return Aa(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return Aa(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function as(){}as.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new Hr;if(n.implementation=this,n.childNodes=new at,n.doctype=r||null,r&&n.appendChild(r),t){var a=n.createElementNS(e,t);n.appendChild(a)}return n},createDocumentType:function(e,t,r){var n=new _n;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}};function he(){}he.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return gn(this,e,t)},replaceChild:function(e,t){gn(this,e,t,ls),t&&this.removeChild(t)},removeChild:function(e){return us(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return ei(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==hn&&e.nodeType==hn?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==Zt?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==Zt?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function os(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Gr(Fe,he);Gr(Fe,he.prototype);function Pr(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Pr(e,t))return!0;while(e=e.nextSibling)}function Hr(){this.ownerDocument=this}function af(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===Rr.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function ss(e,t,r,n){e&&e._inc++;var a=r.namespaceURI;a===Rr.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function xi(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var a=t.firstChild,i=0;a;)n[i++]=a,a=a.nextSibling;n.length=i,delete n[n.length]}}}function us(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,xi(e.ownerDocument,e),t}function of(e){return e&&(e.nodeType===he.DOCUMENT_NODE||e.nodeType===he.DOCUMENT_FRAGMENT_NODE||e.nodeType===he.ELEMENT_NODE)}function sf(e){return e&&(et(e)||Ri(e)||ut(e)||e.nodeType===he.DOCUMENT_FRAGMENT_NODE||e.nodeType===he.COMMENT_NODE||e.nodeType===he.PROCESSING_INSTRUCTION_NODE)}function ut(e){return e&&e.nodeType===he.DOCUMENT_TYPE_NODE}function et(e){return e&&e.nodeType===he.ELEMENT_NODE}function Ri(e){return e&&e.nodeType===he.TEXT_NODE}function Sa(e,t){var r=e.childNodes||[];if(Qe(r,et)||ut(t))return!1;var n=Qe(r,ut);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function Da(e,t){var r=e.childNodes||[];function n(i){return et(i)&&i!==t}if(Qe(r,n))return!1;var a=Qe(r,ut);return!(t&&a&&r.indexOf(a)>r.indexOf(t))}function uf(e,t,r){if(!of(e))throw new we(Pe,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new we(ns,"child not in parent");if(!sf(t)||ut(t)&&e.nodeType!==he.DOCUMENT_NODE)throw new we(Pe,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function lf(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===he.DOCUMENT_FRAGMENT_NODE){var i=a.filter(et);if(i.length>1||Qe(a,Ri))throw new we(Pe,"More than one element or text in fragment");if(i.length===1&&!Sa(e,r))throw new we(Pe,"Element in fragment can not be inserted before doctype")}if(et(t)&&!Sa(e,r))throw new we(Pe,"Only one element can be added and only after doctype");if(ut(t)){if(Qe(n,ut))throw new we(Pe,"Only one doctype is allowed");var o=Qe(n,et);if(r&&n.indexOf(o)<n.indexOf(r))throw new we(Pe,"Doctype can only be inserted before an element");if(!r&&o)throw new we(Pe,"Doctype can not be appended since element is present")}}function ls(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===he.DOCUMENT_FRAGMENT_NODE){var i=a.filter(et);if(i.length>1||Qe(a,Ri))throw new we(Pe,"More than one element or text in fragment");if(i.length===1&&!Da(e,r))throw new we(Pe,"Element in fragment can not be inserted before doctype")}if(et(t)&&!Da(e,r))throw new we(Pe,"Only one element can be added and only after doctype");if(ut(t)){if(Qe(n,function(u){return ut(u)&&u!==r}))throw new we(Pe,"Only one doctype is allowed");var o=Qe(n,et);if(r&&n.indexOf(o)<n.indexOf(r))throw new we(Pe,"Doctype can only be inserted before an element")}}function gn(e,t,r,n){uf(e,t,r),e.nodeType===he.DOCUMENT_NODE&&(n||lf)(e,t,r);var a=t.parentNode;if(a&&a.removeChild(t),t.nodeType===st){var i=t.firstChild;if(i==null)return t;var o=t.lastChild}else i=o=t;var s=r?r.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=r,s?s.nextSibling=i:e.firstChild=i,r==null?e.lastChild=o:r.previousSibling=o;do i.parentNode=e;while(i!==o&&(i=i.nextSibling));return xi(e.ownerDocument||e,e),t.nodeType==st&&(t.firstChild=t.lastChild=null),t}function cf(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,xi(e.ownerDocument,e,t),t}Hr.prototype={nodeName:"#document",nodeType:ts,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==st){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return gn(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===je&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),us(this,e)},replaceChild:function(e,t){gn(this,e,t,ls),e.ownerDocument=this,t&&this.removeChild(t),et(e)&&(this.documentElement=e)},importNode:function(e,t){return hs(this,e,t)},getElementById:function(e){var t=null;return Pr(this.documentElement,function(r){if(r.nodeType==je&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=ba(e);return new Kt(this,function(r){var n=[];return t.length>0&&Pr(r.documentElement,function(a){if(a!==r&&a.nodeType===je){var i=a.getAttribute("class");if(i){var o=e===i;if(!o){var s=ba(i);o=t.every(tf(s))}o&&n.push(a)}}}),n})},createElement:function(e){var t=new Tt;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new at;var r=t.attributes=new mn;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Tn;return e.ownerDocument=this,e.childNodes=new at,e},createTextNode:function(e){var t=new Pi;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Ni;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Bi;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Fi;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new yn;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ki;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new Tt,n=t.split(":"),a=r.attributes=new mn;return r.childNodes=new at,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,a._ownerElement=r,r},createAttributeNS:function(e,t){var r=new yn,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};ke(Hr,he);function Tt(){this._nsMap={}}Tt.prototype={nodeType:je,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===st?this.insertBefore(e,null):cf(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Kt(this,function(t){var r=[];return Pr(t,function(n){n!==t&&n.nodeType==je&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new Kt(this,function(r){var n=[];return Pr(r,function(a){a!==r&&a.nodeType===je&&(e==="*"||a.namespaceURI===e)&&(t==="*"||a.localName==t)&&n.push(a)}),n})}};Hr.prototype.getElementsByTagName=Tt.prototype.getElementsByTagName;Hr.prototype.getElementsByTagNameNS=Tt.prototype.getElementsByTagNameNS;ke(Tt,he);function yn(){}yn.prototype.nodeType=Zt;ke(yn,he);function jr(){}jr.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Te[Pe])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),a=this.data.substring(e+t);r=n+r+a,this.nodeValue=this.data=r,this.length=r.length}};ke(jr,he);function Pi(){}Pi.prototype={nodeName:"#text",nodeType:hn,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};ke(Pi,jr);function Ni(){}Ni.prototype={nodeName:"#comment",nodeType:es};ke(Ni,jr);function Bi(){}Bi.prototype={nodeName:"#cdata-section",nodeType:Ko};ke(Bi,jr);function _n(){}_n.prototype.nodeType=rs;ke(_n,he);function cs(){}cs.prototype.nodeType=nf;ke(cs,he);function fs(){}fs.prototype.nodeType=rf;ke(fs,he);function ki(){}ki.prototype.nodeType=Jo;ke(ki,he);function Tn(){}Tn.prototype.nodeName="#document-fragment";Tn.prototype.nodeType=st;ke(Tn,he);function Fi(){}Fi.prototype.nodeType=Qo;ke(Fi,he);function ds(){}ds.prototype.serializeToString=function(e,t,r){return ps.call(e,t,r)};he.prototype.toString=ps;function ps(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,a=n.prefix,i=n.namespaceURI;if(i&&a==null){var a=n.lookupPrefix(i);if(a==null)var o=[{namespace:i,prefix:null}]}return zt(this,r,e,t,o),r.join("")}function _a(e,t,r){var n=e.prefix||"",a=e.namespaceURI;if(!a||n==="xml"&&a===Rr.XML||a===Rr.XMLNS)return!1;for(var i=r.length;i--;){var o=r[i];if(o.prefix===n)return o.namespace!==a}return!0}function kn(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,os),'"')}function zt(e,t,r,n,a){if(a||(a=[]),n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case je:var i=e.attributes,o=i.length,g=e.firstChild,s=e.tagName;r=Rr.isHTML(e.namespaceURI)||r;var u=s;if(!r&&!e.prefix&&e.namespaceURI){for(var l,p=0;p<i.length;p++)if(i.item(p).name==="xmlns"){l=i.item(p).value;break}if(!l)for(var m=a.length-1;m>=0;m--){var f=a[m];if(f.prefix===""&&f.namespace===e.namespaceURI){l=f.namespace;break}}if(l!==e.namespaceURI)for(var m=a.length-1;m>=0;m--){var f=a[m];if(f.namespace===e.namespaceURI){f.prefix&&(u=f.prefix+":"+s);break}}}t.push("<",u);for(var h=0;h<o;h++){var c=i.item(h);c.prefix=="xmlns"?a.push({prefix:c.localName,namespace:c.value}):c.nodeName=="xmlns"&&a.push({prefix:"",namespace:c.value})}for(var h=0;h<o;h++){var c=i.item(h);if(_a(c,r,a)){var d=c.prefix||"",y=c.namespaceURI;kn(t,d?"xmlns:"+d:"xmlns",y),a.push({prefix:d,namespace:y})}zt(c,t,r,n,a)}if(s===u&&_a(e,r,a)){var d=e.prefix||"",y=e.namespaceURI;kn(t,d?"xmlns:"+d:"xmlns",y),a.push({prefix:d,namespace:y})}if(g||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(t.push(">"),r&&/^script$/i.test(s))for(;g;)g.data?t.push(g.data):zt(g,t,r,n,a.slice()),g=g.nextSibling;else for(;g;)zt(g,t,r,n,a.slice()),g=g.nextSibling;t.push("</",u,">")}else t.push("/>");return;case ts:case st:for(var g=e.firstChild;g;)zt(g,t,r,n,a.slice()),g=g.nextSibling;return;case Zt:return kn(t,e.name,e.value);case hn:return t.push(e.data.replace(/[<&>]/g,os));case Ko:return t.push("<![CDATA[",e.data,"]]>");case es:return t.push("<!--",e.data,"-->");case rs:var v=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),v)t.push(" PUBLIC ",v),E&&E!="."&&t.push(" ",E),t.push(">");else if(E&&E!=".")t.push(" SYSTEM ",E,">");else{var A=e.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case Qo:return t.push("<?",e.target," ",e.data,"?>");case Jo:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function hs(e,t,r){var n;switch(t.nodeType){case je:n=t.cloneNode(!1),n.ownerDocument=e;case st:break;case Zt:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var a=t.firstChild;a;)n.appendChild(hs(e,a,r)),a=a.nextSibling;return n}function ei(e,t,r){var n=new t.constructor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var i=t[a];typeof i!="object"&&i!=n[a]&&(n[a]=i)}switch(t.childNodes&&(n.childNodes=new at),n.ownerDocument=e,n.nodeType){case je:var o=t.attributes,s=n.attributes=new mn,u=o.length;s._ownerElement=n;for(var l=0;l<u;l++)n.setAttributeNode(ei(e,o.item(l),!0));break;case Zt:r=!0}if(r)for(var p=t.firstChild;p;)n.appendChild(ei(e,p,r)),p=p.nextSibling;return n}function ms(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case je:case st:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(Kt.prototype,"length",{get:function(){return Ii(this),this.$$length}}),Object.defineProperty(he.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case je:case st:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ms=function(t,r,n){t["$$"+r]=n}}}catch{}bt.DocumentType=_n;bt.DOMException=we;bt.DOMImplementation=as;bt.Element=Tt;bt.Node=he;bt.NodeList=at;bt.XMLSerializer=ds;var Cn={},gs={};(function(e){var t=ct.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(gs);var Li={},Nr=ct.NAMESPACE,ti=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ta=new RegExp("[\\-\\.0-9"+ti.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ca=new RegExp("^"+ti.source+Ta.source+"*(?::"+ti.source+Ta.source+"*)?$"),dr=0,dt=1,Rt=2,pr=3,Pt=4,Nt=5,hr=6,tn=7;function Jt(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Jt)}Jt.prototype=new Error;Jt.prototype.name=Jt.name;function ys(){}ys.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),vs(t,t={}),ff(e,t,r,n,this.errorHandler),n.endDocument()}};function ff(e,t,r,n,a){function i($){if($>65535){$-=65536;var N=55296+($>>10),X=56320+($&1023);return String.fromCharCode(N,X)}else return String.fromCharCode($)}function o($){var N=$.slice(1,-1);return Object.hasOwnProperty.call(r,N)?r[N]:N.charAt(0)==="#"?i(parseInt(N.substr(1).replace("x","0x"))):(a.error("entity not found:"+$),$)}function s($){if($>d){var N=e.substring(d,$).replace(/&#?\w+;/g,o);f&&u(d),n.characters(N,0,$-d),d=$}}function u($,N){for(;$>=p&&(N=m.exec(e));)l=N.index,p=l+N[0].length,f.lineNumber++;f.columnNumber=$-l+1}for(var l=0,p=0,m=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:t}],c={},d=0;;){try{var y=e.indexOf("<",d);if(y<0){if(!e.substr(d).match(/^\s*$/)){var g=n.doc,v=g.createTextNode(e.substr(d));g.appendChild(v),n.currentElement=v}return}switch(y>d&&s(y),e.charAt(y+1)){case"/":var M=e.indexOf(">",y+3),E=e.substring(y+2,M).replace(/[ \t\n\r]+$/g,""),A=h.pop();M<0?(E=e.substring(y+2).replace(/[\s<].*/,""),a.error("end tag name: "+E+" is not complete:"+A.tagName),M=y+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),a.error("end tag name: "+E+" maybe not complete"),M=y+1+E.length);var D=A.localNSMap,T=A.tagName==E,_=T||A.tagName&&A.tagName.toLowerCase()==E.toLowerCase();if(_){if(n.endElement(A.uri,A.localName,E),D)for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&n.endPrefixMapping(P);T||a.fatalError("end tag name: "+E+" is not match the current start tagName:"+A.tagName)}else h.push(A);M++;break;case"?":f&&u(y),M=gf(e,y,n);break;case"!":f&&u(y),M=mf(e,y,n,a);break;default:f&&u(y);var C=new bs,I=h[h.length-1].currentNSMap,M=df(e,y,C,I,o,a),S=C.length;if(!C.closed&&hf(e,M,C.tagName,c)&&(C.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),f&&S){for(var R=Oa(f,{}),b=0;b<S;b++){var k=C[b];u(k.offset),k.locator=Oa(f,{})}n.locator=R,Ia(C,n,I)&&h.push(C),n.locator=f}else Ia(C,n,I)&&h.push(C);Nr.isHTML(C.uri)&&!C.closed?M=pf(e,M,C.tagName,o,n):M++}}catch($){if($ instanceof Jt)throw $;a.error("element parse error: "+$),M=-1}M>d?d=M:s(Math.max(y,d)+1)}}function Oa(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function df(e,t,r,n,a,i){function o(f,h,c){r.attributeNames.hasOwnProperty(f)&&i.fatalError("Attribute "+f+" redefined"),r.addValue(f,h.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),c)}for(var s,u,l=++t,p=dr;;){var m=e.charAt(l);switch(m){case"=":if(p===dt)s=e.slice(t,l),p=pr;else if(p===Rt)p=pr;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(p===pr||p===dt)if(p===dt&&(i.warning('attribute value must after "="'),s=e.slice(t,l)),t=l+1,l=e.indexOf(m,t),l>0)u=e.slice(t,l),o(s,u,t-1),p=Nt;else throw new Error("attribute value no end '"+m+"' match");else if(p==Pt)u=e.slice(t,l),o(s,u,t),i.warning('attribute "'+s+'" missed start quot('+m+")!!"),t=l+1,p=Nt;else throw new Error('attribute value must after "="');break;case"/":switch(p){case dr:r.setTagName(e.slice(t,l));case Nt:case hr:case tn:p=tn,r.closed=!0;case Pt:case dt:break;case Rt:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),p==dr&&r.setTagName(e.slice(t,l)),l;case">":switch(p){case dr:r.setTagName(e.slice(t,l));case Nt:case hr:case tn:break;case Pt:case dt:u=e.slice(t,l),u.slice(-1)==="/"&&(r.closed=!0,u=u.slice(0,-1));case Rt:p===Rt&&(u=s),p==Pt?(i.warning('attribute "'+u+'" missed quot(")!'),o(s,u,t)):((!Nr.isHTML(n[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),o(u,u,t));break;case pr:throw new Error("attribute value missed!!")}return l;case"":m=" ";default:if(m<=" ")switch(p){case dr:r.setTagName(e.slice(t,l)),p=hr;break;case dt:s=e.slice(t,l),p=Rt;break;case Pt:var u=e.slice(t,l);i.warning('attribute "'+u+'" missed quot(")!!'),o(s,u,t);case Nt:p=hr;break}else switch(p){case Rt:r.tagName,(!Nr.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&i.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),o(s,s,t),t=l,p=dt;break;case Nt:i.warning('attribute space is required"'+s+'"!!');case hr:p=dt,t=l;break;case pr:p=Pt,t=l;break;case tn:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Ia(e,t,r){for(var n=e.tagName,a=null,m=e.length;m--;){var i=e[m],o=i.qName,s=i.value,f=o.indexOf(":");if(f>0)var u=i.prefix=o.slice(0,f),l=o.slice(f+1),p=u==="xmlns"&&l;else l=o,u=null,p=o==="xmlns"&&"";i.localName=l,p!==!1&&(a==null&&(a={},vs(r,r={})),r[p]=a[p]=s,i.uri=Nr.XMLNS,t.startPrefixMapping(p,s))}for(var m=e.length;m--;){i=e[m];var u=i.prefix;u&&(u==="xml"&&(i.uri=Nr.XML),u!=="xmlns"&&(i.uri=r[u||""]))}var f=n.indexOf(":");f>0?(u=e.prefix=n.slice(0,f),l=e.localName=n.slice(f+1)):(u=null,l=e.localName=n);var h=e.uri=r[u||""];if(t.startElement(h,l,n,e),e.closed){if(t.endElement(h,l,n),a)for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&t.endPrefixMapping(u)}else return e.currentNSMap=r,e.localNSMap=a,!0}function pf(e,t,r,n,a){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),o=e.substring(t+1,i);if(/[&<]/.test(o))return/^script$/i.test(r)?(a.characters(o,0,o.length),i):(o=o.replace(/&#?\w+;/g,n),a.characters(o,0,o.length),i)}return t+1}function hf(e,t,r,n){var a=n[r];return a==null&&(a=e.lastIndexOf("</"+r+">"),a<t&&(a=e.lastIndexOf("</"+r)),n[r]=a),a<t}function vs(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function mf(e,t,r,n){var a=e.charAt(t+2);switch(a){case"-":if(e.charAt(t+3)==="-"){var i=e.indexOf("-->",t+4);return i>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=yf(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],l=!1,p=!1;s>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],p=s>4&&o[4][0]):/^system$/i.test(o[2][0])&&(p=o[3][0]));var m=o[s-1];return r.startDTD(u,l,p),r.endDTD(),m.index+m[0].length}}return-1}function gf(e,t,r){var n=e.indexOf("?>",t);if(n){var a=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return a?(a[0].length,r.processingInstruction(a[1],a[2]),n+2):-1}return-1}function bs(){this.attributeNames={}}bs.prototype={setTagName:function(e){if(!Ca.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!Ca.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function yf(e,t){var r,n=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=t,a.exec(e);r=a.exec(e);)if(n.push(r),r[1])return n}Li.XMLReader=ys;Li.ParseError=Jt;var vf=ct,bf=bt,xa=gs,ws=Li,wf=bf.DOMImplementation,Ra=vf.NAMESPACE,Ef=ws.ParseError,Af=ws.XMLReader;function Es(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function As(e){this.options=e||{locator:{}}}As.prototype.parseFromString=function(e,t){var r=this.options,n=new Af,a=r.domBuilder||new Vr,i=r.errorHandler,o=r.locator,s=r.xmlns||{},u=/\/x?html?$/.test(t),l=u?xa.HTML_ENTITIES:xa.XML_ENTITIES;o&&a.setDocumentLocator(o),n.errorHandler=Sf(i,a,o),n.domBuilder=r.domBuilder||a,u&&(s[""]=Ra.HTML),s.xml=s.xml||Ra.XML;var p=r.normalizeLineEndings||Es;return e&&typeof e=="string"?n.parse(p(e),s,l):n.errorHandler.error("invalid doc source"),a.doc};function Sf(e,t,r){if(!e){if(t instanceof Vr)return t;e=t}var n={},a=e instanceof Function;r=r||{};function i(o){var s=e[o];!s&&a&&(s=e.length==2?function(u){e(o,u)}:e),n[o]=s&&function(u){s("[xmldom "+o+"]	"+u+ri(r))}||function(){}}return i("warning"),i("error"),i("fatalError"),n}function Vr(){this.cdata=!1}function Bt(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Vr.prototype={startDocument:function(){this.doc=new wf().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var a=this.doc,i=a.createElementNS(e,r||t),o=n.length;rn(this,i),this.currentElement=i,this.locator&&Bt(this.locator,i);for(var s=0;s<o;s++){var e=n.getURI(s),u=n.getValue(s),r=n.getQName(s),l=a.createAttributeNS(e,r);this.locator&&Bt(n.getLocator(s),l),l.value=l.nodeValue=u,i.setAttributeNode(l)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&Bt(this.locator,r),rn(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=Pa.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&Bt(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=Pa.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&Bt(this.locator,n),rn(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var a=n.createDocumentType(e,t,r);this.locator&&Bt(this.locator,a),rn(this,a),this.doc.doctype=a}},warning:function(e){console.warn("[xmldom warning]	"+e,ri(this.locator))},error:function(e){console.error("[xmldom error]	"+e,ri(this.locator))},fatalError:function(e){throw new Ef(e,this.locator)}};function ri(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function Pa(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Vr.prototype[e]=function(){return null}});function rn(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}Cn.__DOMHandler=Vr;Cn.normalizeLineEndings=Es;Cn.DOMParser=As;var Df=Cn.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const Na=e=>!!e&&typeof e=="object",De=(...e)=>e.reduce((t,r)=>(typeof r!="object"||Object.keys(r).forEach(n=>{Array.isArray(t[n])&&Array.isArray(r[n])?t[n]=t[n].concat(r[n]):Na(t[n])&&Na(r[n])?t[n]=De(t[n],r[n]):t[n]=r[n]}),t),{}),Ss=e=>Object.keys(e).map(t=>e[t]),_f=(e,t)=>{const r=[];for(let n=e;n<t;n++)r.push(n);return r},Qt=e=>e.reduce((t,r)=>t.concat(r),[]),Ds=e=>{if(!e.length)return[];const t=[];for(let r=0;r<e.length;r++)t.push(e[r]);return t},Tf=(e,t)=>e.reduce((r,n,a)=>(n[t]&&r.push(a),r),[]),Cf=(e,t)=>Ss(e.reduce((r,n)=>(n.forEach(a=>{r[t(a)]=a}),r),{}));var Br={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const kr=({baseUrl:e="",source:t="",range:r="",indexRange:n=""})=>{const a={uri:t,resolvedUri:Ci(e||"",t)};if(r||n){const o=(r||n).split("-");let s=me.BigInt?me.BigInt(o[0]):parseInt(o[0],10),u=me.BigInt?me.BigInt(o[1]):parseInt(o[1],10);s<Number.MAX_SAFE_INTEGER&&typeof s=="bigint"&&(s=Number(s)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let l;typeof u=="bigint"||typeof s=="bigint"?l=me.BigInt(u)-me.BigInt(s)+me.BigInt(1):l=u-s+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),a.byterange={length:l,offset:s}}return a},Of=e=>{let t;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=me.BigInt(e.offset)+me.BigInt(e.length)-me.BigInt(1):t=e.offset+e.length-1,`${e.offset}-${t}`},Ba=e=>(e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e),If={static(e){const{duration:t,timescale:r=1,sourceDuration:n,periodDuration:a}=e,i=Ba(e.endNumber),o=t/r;return typeof i=="number"?{start:0,end:i}:typeof a=="number"?{start:0,end:a/o}:{start:0,end:n/o}},dynamic(e){const{NOW:t,clientOffset:r,availabilityStartTime:n,timescale:a=1,duration:i,periodStart:o=0,minimumUpdatePeriod:s=0,timeShiftBufferDepth:u=1/0}=e,l=Ba(e.endNumber),p=(t+r)/1e3,m=n+o,h=p+s-m,c=Math.ceil(h*a/i),d=Math.floor((p-m-u)*a/i),y=Math.floor((p-m)*a/i);return{start:Math.max(0,d),end:typeof l=="number"?l:Math.min(c,y)}}},xf=e=>t=>{const{duration:r,timescale:n=1,periodStart:a,startNumber:i=1}=e;return{number:i+t,duration:r/n,timeline:a,time:t*r}},Ui=e=>{const{type:t,duration:r,timescale:n=1,periodDuration:a,sourceDuration:i}=e,{start:o,end:s}=If[t](e),u=_f(o,s).map(xf(e));if(t==="static"){const l=u.length-1,p=typeof a=="number"?a:i;u[l].duration=p-r/n*l}return u},_s=e=>{const{baseUrl:t,initialization:r={},sourceDuration:n,indexRange:a="",periodStart:i,presentationTime:o,number:s=0,duration:u}=e;if(!t)throw new Error(Br.NO_BASE_URL);const l=kr({baseUrl:t,source:r.sourceURL,range:r.range}),p=kr({baseUrl:t,source:t,indexRange:a});if(p.map=l,u){const m=Ui(e);m.length&&(p.duration=m[0].duration,p.timeline=m[0].timeline)}else n&&(p.duration=n,p.timeline=i);return p.presentationTime=o||i,p.number=s,[p]},Rf=(e,t,r)=>{const n=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,i=e.timeline||0,o=e.sidx.byterange,s=o.offset+o.length,u=t.timescale,l=t.references.filter(y=>y.referenceType!==1),p=[],m=e.endList?"static":"dynamic",f=e.sidx.timeline;let h=f,c=e.mediaSequence||0,d;typeof t.firstOffset=="bigint"?d=me.BigInt(s)+t.firstOffset:d=s+t.firstOffset;for(let y=0;y<l.length;y++){const g=t.references[y],v=g.referencedSize,E=g.subsegmentDuration;let A;typeof d=="bigint"?A=d+me.BigInt(v)-me.BigInt(1):A=d+v-1;const D=`${d}-${A}`,_=_s({baseUrl:r,timescale:u,timeline:i,periodStart:f,presentationTime:h,number:c,duration:E,sourceDuration:a,indexRange:D,type:m})[0];n&&(_.map=n),p.push(_),typeof d=="bigint"?d+=me.BigInt(v):d+=v,h+=E/u,c++}return e.segments=p,e},Pf=["AUDIO","SUBTITLES"],Nf=1/60,Ts=e=>Cf(e,({timeline:t})=>t).sort((t,r)=>t.timeline>r.timeline?1:-1),Bf=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r].attributes.NAME===t)return e[r];return null},ka=e=>{let t=[];return Wc(e,Pf,(r,n,a,i)=>{t=t.concat(r.playlists||[])}),t},Fa=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach((r,n)=>{r.number=e.mediaSequence+n})},kf=({oldPlaylists:e,newPlaylists:t,timelineStarts:r})=>{t.forEach(n=>{n.discontinuitySequence=r.findIndex(function({timeline:u}){return u===n.timeline});const a=Bf(e,n.attributes.NAME);if(!a||n.sidx)return;const i=n.segments[0],o=a.segments.findIndex(function(u){return Math.abs(u.presentationTime-i.presentationTime)<Nf});if(o===-1){Fa({playlist:n,mediaSequence:a.mediaSequence+a.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!a.segments.length&&n.timeline>a.timeline||a.segments.length&&n.timeline>a.segments[a.segments.length-1].timeline)&&n.discontinuitySequence--;return}a.segments[o].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Fa({playlist:n,mediaSequence:a.segments[o].number})})},Ff=({oldManifest:e,newManifest:t})=>{const r=e.playlists.concat(ka(e)),n=t.playlists.concat(ka(t));return t.timelineStarts=Ts([e.timelineStarts,t.timelineStarts]),kf({oldPlaylists:r,newPlaylists:n,timelineStarts:t.timelineStarts}),t},Lf=e=>e&&e.uri+"-"+Of(e.byterange),Fn=e=>{const t=e.reduce(function(n,a){return n[a.attributes.baseUrl]||(n[a.attributes.baseUrl]=[]),n[a.attributes.baseUrl].push(a),n},{});let r=[];return Object.values(t).forEach(n=>{const a=Ss(n.reduce((i,o)=>{const s=o.attributes.id+(o.attributes.lang||"");return i[s]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),i[s].segments.push(...o.segments)),o.attributes.contentProtection&&(i[s].attributes.contentProtection=o.attributes.contentProtection)):(i[s]=o,i[s].attributes.timelineStarts=[]),i[s].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),i},{}));r=r.concat(a)}),r.map(n=>(n.discontinuityStarts=Tf(n.segments||[],"discontinuity"),n))},Mi=(e,t)=>{const r=Lf(e.sidx),n=r&&t[r]&&t[r].sidx;return n&&Rf(e,n,e.sidx.resolvedUri),e},Uf=(e,t={})=>{if(!Object.keys(t).length)return e;for(const r in e)e[r]=Mi(e[r],t);return e},Mf=({attributes:e,segments:t,sidx:r,mediaSequence:n,discontinuitySequence:a,discontinuityStarts:i},o)=>{const s={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:a,discontinuityStarts:i,timelineStarts:e.timelineStarts,mediaSequence:n,segments:t};return e.contentProtection&&(s.contentProtection=e.contentProtection),e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),r&&(s.sidx=r),o&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s},zf=({attributes:e,segments:t,mediaSequence:r,discontinuityStarts:n,discontinuitySequence:a})=>{typeof t>"u"&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const i={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(i.CODECS=e.codecs);const o={attributes:i,uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:n,discontinuitySequence:a,mediaSequence:r,segments:t};return e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),o},$f=(e,t={},r=!1)=>{let n;const a=e.reduce((i,o)=>{const s=o.attributes.role&&o.attributes.role.value||"",u=o.attributes.lang||"";let l=o.attributes.label||"main";if(u&&!o.attributes.label){const m=s?` (${s})`:"";l=`${o.attributes.lang}${m}`}i[l]||(i[l]={language:u,autoselect:!0,default:s==="main",playlists:[],uri:""});const p=Mi(Mf(o,r),t);return i[l].playlists.push(p),typeof n>"u"&&s==="main"&&(n=o,n.default=!0),i},{});if(!n){const i=Object.keys(a)[0];a[i].default=!0}return a},qf=(e,t={})=>e.reduce((r,n)=>{const a=n.attributes.label||n.attributes.lang||"text";return r[a]||(r[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),r[a].playlists.push(Mi(zf(n),t)),r},{}),Gf=e=>e.reduce((t,r)=>(r&&r.forEach(n=>{const{channel:a,language:i}=n;t[i]={autoselect:!1,default:!1,instreamId:a,language:i},n.hasOwnProperty("aspectRatio")&&(t[i].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(t[i].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(t[i]["3D"]=n["3D"])}),t),{}),Hf=({attributes:e,segments:t,sidx:r,discontinuityStarts:n})=>{const a={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:n,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(a.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),r&&(a.sidx=r),a},jf=({attributes:e})=>e.mimeType==="video/mp4"||e.mimeType==="video/webm"||e.contentType==="video",Vf=({attributes:e})=>e.mimeType==="audio/mp4"||e.mimeType==="audio/webm"||e.contentType==="audio",Wf=({attributes:e})=>e.mimeType==="text/vtt"||e.contentType==="text",Xf=(e,t)=>{e.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=t.findIndex(function({timeline:n}){return n===r.timeline}),r.segments&&r.segments.forEach((n,a)=>{n.number=a})})},La=e=>e?Object.keys(e).reduce((t,r)=>{const n=e[r];return t.concat(n.playlists)},[]):[],Yf=({dashPlaylists:e,locations:t,contentSteering:r,sidxMapping:n={},previousManifest:a,eventStream:i})=>{if(!e.length)return{};const{sourceDuration:o,type:s,suggestedPresentationDelay:u,minimumUpdatePeriod:l}=e[0].attributes,p=Fn(e.filter(jf)).map(Hf),m=Fn(e.filter(Vf)),f=Fn(e.filter(Wf)),h=e.map(A=>A.attributes.captionServices).filter(Boolean),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:Uf(p,n)};l>=0&&(c.minimumUpdatePeriod=l*1e3),t&&(c.locations=t),r&&(c.contentSteering=r),s==="dynamic"&&(c.suggestedPresentationDelay=u),i&&i.length>0&&(c.eventStream=i);const d=c.playlists.length===0,y=m.length?$f(m,n,d):null,g=f.length?qf(f,n):null,v=p.concat(La(y),La(g)),E=v.map(({timelineStarts:A})=>A);return c.timelineStarts=Ts(E),Xf(v,c.timelineStarts),y&&(c.mediaGroups.AUDIO.audio=y),g&&(c.mediaGroups.SUBTITLES.subs=g),h.length&&(c.mediaGroups["CLOSED-CAPTIONS"].cc=Gf(h)),a?Ff({oldManifest:a,newManifest:c}):c},Zf=(e,t,r)=>{const{NOW:n,clientOffset:a,availabilityStartTime:i,timescale:o=1,periodStart:s=0,minimumUpdatePeriod:u=0}=e,l=(n+a)/1e3,p=i+s,f=l+u-p;return Math.ceil((f*o-t)/r)},Cs=(e,t)=>{const{type:r,minimumUpdatePeriod:n=0,media:a="",sourceDuration:i,timescale:o=1,startNumber:s=1,periodStart:u}=e,l=[];let p=-1;for(let m=0;m<t.length;m++){const f=t[m],h=f.d,c=f.r||0,d=f.t||0;p<0&&(p=d),d&&d>p&&(p=d);let y;if(c<0){const E=m+1;E===t.length?r==="dynamic"&&n>0&&a.indexOf("$Number$")>0?y=Zf(e,p,h):y=(i*o-p)/h:y=(t[E].t-p)/h}else y=c+1;const g=s+l.length+y;let v=s+l.length;for(;v<g;)l.push({number:v,duration:h/o,time:p,timeline:u}),p+=h,v++}return l},Kf=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Jf=e=>(t,r,n,a)=>{if(t==="$$")return"$";if(typeof e[r]>"u")return t;const i=""+e[r];return r==="RepresentationID"||(n?a=parseInt(a,10):a=1,i.length>=a)?i:`${new Array(a-i.length+1).join("0")}${i}`},Ua=(e,t)=>e.replace(Kf,Jf(t)),Qf=(e,t)=>!e.duration&&!t?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Ui(e):Cs(e,t),ed=(e,t)=>{const r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=e,a=kr({baseUrl:e.baseUrl,source:Ua(n.sourceURL,r),range:n.range});return Qf(e,t).map(o=>{r.Number=o.number,r.Time=o.time;const s=Ua(e.media||"",r),u=e.timescale||1,l=e.presentationTimeOffset||0,p=e.periodStart+(o.time-l)/u;return{uri:s,timeline:o.timeline,duration:o.duration,resolvedUri:Ci(e.baseUrl||"",s),map:a,number:o.number,presentationTime:p}})},td=(e,t)=>{const{baseUrl:r,initialization:n={}}=e,a=kr({baseUrl:r,source:n.sourceURL,range:n.range}),i=kr({baseUrl:r,source:t.media,range:t.mediaRange});return i.map=a,i},rd=(e,t)=>{const{duration:r,segmentUrls:n=[],periodStart:a}=e;if(!r&&!t||r&&t)throw new Error(Br.SEGMENT_TIME_UNSPECIFIED);const i=n.map(u=>td(e,u));let o;return r&&(o=Ui(e)),t&&(o=Cs(e,t)),o.map((u,l)=>{if(i[l]){const p=i[l],m=e.timescale||1,f=e.presentationTimeOffset||0;return p.timeline=u.timeline,p.duration=u.duration,p.number=u.number,p.presentationTime=a+(u.time-f)/m,p}}).filter(u=>u)},nd=({attributes:e,segmentInfo:t})=>{let r,n;t.template?(n=ed,r=De(e,t.template)):t.base?(n=_s,r=De(e,t.base)):t.list&&(n=rd,r=De(e,t.list));const a={attributes:e};if(!n)return a;const i=n(r,t.segmentTimeline);if(r.duration){const{duration:o,timescale:s=1}=r;r.duration=o/s}else i.length?r.duration=i.reduce((o,s)=>Math.max(o,Math.ceil(s.duration)),0):r.duration=0;return a.attributes=r,a.segments=i,t.base&&r.indexRange&&(a.sidx=i[0],a.segments=[]),a},id=e=>e.map(nd),ge=(e,t)=>Ds(e.childNodes).filter(({tagName:r})=>r===t),Wr=e=>e.textContent.trim(),ad=e=>parseFloat(e.split("/").reduce((t,r)=>t/r)),kt=e=>{const s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!s)return 0;const[u,l,p,m,f,h]=s.slice(1);return parseFloat(u||0)*31536e3+parseFloat(l||0)*2592e3+parseFloat(p||0)*86400+parseFloat(m||0)*3600+parseFloat(f||0)*60+parseFloat(h||0)},od=e=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)),Ma={mediaPresentationDuration(e){return kt(e)},availabilityStartTime(e){return od(e)/1e3},minimumUpdatePeriod(e){return kt(e)},suggestedPresentationDelay(e){return kt(e)},type(e){return e},timeShiftBufferDepth(e){return kt(e)},start(e){return kt(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return ad(e)},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){const t=parseInt(e,10);return isNaN(t)?kt(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},Ae=e=>e&&e.attributes?Ds(e.attributes).reduce((t,r)=>{const n=Ma[r.name]||Ma.DEFAULT;return t[r.name]=n(r.value),t},{}):{},sd={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},On=(e,t)=>t.length?Qt(e.map(function(r){return t.map(function(n){const a=Wr(n),i=Ci(r.baseUrl,a),o=De(Ae(n),{baseUrl:i});return i!==a&&!o.serviceLocation&&r.serviceLocation&&(o.serviceLocation=r.serviceLocation),o})})):e,zi=e=>{const t=ge(e,"SegmentTemplate")[0],r=ge(e,"SegmentList")[0],n=r&&ge(r,"SegmentURL").map(m=>De({tag:"SegmentURL"},Ae(m))),a=ge(e,"SegmentBase")[0],i=r||t,o=i&&ge(i,"SegmentTimeline")[0],s=r||a||t,u=s&&ge(s,"Initialization")[0],l=t&&Ae(t);l&&u?l.initialization=u&&Ae(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});const p={template:l,segmentTimeline:o&&ge(o,"S").map(m=>Ae(m)),list:r&&De(Ae(r),{segmentUrls:n,initialization:Ae(u)}),base:a&&De(Ae(a),{initialization:Ae(u)})};return Object.keys(p).forEach(m=>{p[m]||delete p[m]}),p},ud=(e,t,r)=>n=>{const a=ge(n,"BaseURL"),i=On(t,a),o=De(e,Ae(n)),s=zi(n);return i.map(u=>({segmentInfo:De(r,s),attributes:De(o,u)}))},ld=e=>e.reduce((t,r)=>{const n=Ae(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const a=sd[n.schemeIdUri];if(a){t[a]={attributes:n};const i=ge(r,"cenc:pssh")[0];if(i){const o=Wr(i);t[a].pssh=o&&Yc(o)}}return t},{}),cd=e=>{if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(r=>{let n,a;return a=r,/^CC\d=/.test(r)?[n,a]=r.split("="):/^CC\d$/.test(r)&&(n=r),{channel:n,language:a}});if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(r=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[a,i=""]=r.split("=");n.channel=a,n.language=r,i.split(",").forEach(o=>{const[s,u]=o.split(":");s==="lang"?n.language=u:s==="er"?n.easyReader=Number(u):s==="war"?n.aspectRatio=Number(u):s==="3D"&&(n["3D"]=Number(u))})}else n.language=r;return n.channel&&(n.channel="SERVICE"+n.channel),n})},fd=e=>Qt(ge(e.node,"EventStream").map(t=>{const r=Ae(t),n=r.schemeIdUri;return ge(t,"Event").map(a=>{const i=Ae(a),o=i.presentationTime||0,s=r.timescale||1,u=i.duration||0,l=o/s+e.attributes.start;return{schemeIdUri:n,value:r.value,id:i.id,start:l,end:l+u/s,messageData:Wr(a)||i.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),dd=(e,t,r)=>n=>{const a=Ae(n),i=On(t,ge(n,"BaseURL")),o=ge(n,"Role")[0],s={role:Ae(o)};let u=De(e,a,s);const l=ge(n,"Accessibility")[0],p=cd(Ae(l));p&&(u=De(u,{captionServices:p}));const m=ge(n,"Label")[0];if(m&&m.childNodes.length){const y=m.childNodes[0].nodeValue.trim();u=De(u,{label:y})}const f=ld(ge(n,"ContentProtection"));Object.keys(f).length&&(u=De(u,{contentProtection:f}));const h=zi(n),c=ge(n,"Representation"),d=De(r,h);return Qt(c.map(ud(u,i,d)))},pd=(e,t)=>(r,n)=>{const a=On(t,ge(r.node,"BaseURL")),i=De(e,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(i.periodDuration=r.attributes.duration);const o=ge(r.node,"AdaptationSet"),s=zi(r.node);return Qt(o.map(dd(i,a,s)))},hd=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const r=De({serverURL:Wr(e[0])},Ae(e[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},md=({attributes:e,priorPeriodAttributes:t,mpdType:r})=>typeof e.start=="number"?e.start:t&&typeof t.start=="number"&&typeof t.duration=="number"?t.start+t.duration:!t&&r==="static"?0:null,gd=(e,t={})=>{const{manifestUri:r="",NOW:n=Date.now(),clientOffset:a=0,eventHandler:i=function(){}}=t,o=ge(e,"Period");if(!o.length)throw new Error(Br.INVALID_NUMBER_OF_PERIOD);const s=ge(e,"Location"),u=Ae(e),l=On([{baseUrl:r}],ge(e,"BaseURL")),p=ge(e,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=n,u.clientOffset=a,s.length&&(u.locations=s.map(Wr));const m=[];return o.forEach((f,h)=>{const c=Ae(f),d=m[h-1];c.start=md({attributes:c,priorPeriodAttributes:d?d.attributes:null,mpdType:u.type}),m.push({node:f,attributes:c})}),{locations:u.locations,contentSteeringInfo:hd(p,i),representationInfo:Qt(m.map(pd(u,l))),eventStream:Qt(m.map(fd))}},yd=e=>{if(e==="")throw new Error(Br.DASH_EMPTY_MANIFEST);const t=new Df;let r,n;try{r=t.parseFromString(e,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Br.DASH_INVALID_XML);return n},vd=(e,t={})=>{const r=gd(yd(e),t),n=id(r.representationInfo);return Yf({dashPlaylists:n,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:r.eventStream})};(function(e){if(typeof exports=="object"&&typeof module<"u")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.muxjs=e()}})(function(){return function(){function e(t,r,n){function a(s,u){if(!r[s]){if(!t[s]){var l=typeof require=="function"&&require;if(!u&&l)return l(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var m=r[s]={exports:{}};t[s][0].call(m.exports,function(f){var h=t[s][1][f];return a(h||f)},m,m.exports,e,t,r,n)}return r[s].exports}for(var i=typeof require=="function"&&require,o=0;o<n.length;o++)a(n[o]);return a}return e}()({1:[function(e,t,r){var n=e(31),a=e(2),i;i=function(){var o=new Uint8Array,s=0;i.prototype.init.call(this),this.setTimestamp=function(u){s=u},this.push=function(u){var l=0,p=0,m,f,h,c;for(o.length?(c=o.length,o=new Uint8Array(u.byteLength+c),o.set(o.subarray(0,c)),o.set(u,c)):o=u;o.length-p>=3;){if(o[p]===73&&o[p+1]===68&&o[p+2]===51){if(o.length-p<10||(l=a.parseId3TagSize(o,p),p+l>o.length))break;f={type:"timed-metadata",data:o.subarray(p,p+l)},this.trigger("data",f),p+=l;continue}else if((o[p]&255)===255&&(o[p+1]&240)===240){if(o.length-p<7||(l=a.parseAdtsSize(o,p),p+l>o.length))break;h={type:"audio",data:o.subarray(p,p+l),pts:s,dts:s},this.trigger("data",h),p+=l;continue}p++}m=o.length-p,m>0?o=o.subarray(p):o=new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}},i.prototype=new n,t.exports=i},{2:2,31:31}],2:[function(e,t,r){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=function(c,d){var y=c[d+6]<<21|c[d+7]<<14|c[d+8]<<7|c[d+9],g=c[d+5],v=(g&16)>>4;return y=y>=0?y:0,v?y+20:y+10},i=function(c,d){return c.length-d<10||c[d]!==73||c[d+1]!==68||c[d+2]!==51?d:(d+=a(c,d),i(c,d))},o=function(c){var d=i(c,0);return c.length>=d+2&&(c[d]&255)===255&&(c[d+1]&240)===240&&(c[d+1]&22)===16},s=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},u=function(c,d,y){var g,v="";for(g=d;g<y;g++)v+="%"+("00"+c[g].toString(16)).slice(-2);return v},l=function(c,d,y){return unescape(u(c,d,y))},p=function(c,d){var y=(c[d+5]&224)>>5,g=c[d+4]<<3,v=c[d+3]&6144;return v|g|y},m=function(c,d){return c[d]===73&&c[d+1]===68&&c[d+2]===51?"timed-metadata":c[d]&!0&&(c[d+1]&240)===240?"audio":null},f=function(c){for(var d=0;d+5<c.length;){if(c[d]!==255||(c[d+1]&246)!==240){d++;continue}return n[(c[d+2]&60)>>>2]}return null},h=function(c){var d,y,g,v;d=10,c[5]&64&&(d+=4,d+=s(c.subarray(10,14)));do{if(y=s(c.subarray(d+4,d+8)),y<1)return null;if(v=String.fromCharCode(c[d],c[d+1],c[d+2],c[d+3]),v==="PRIV"){g=c.subarray(d+10,d+y+10);for(var E=0;E<g.byteLength;E++)if(g[E]===0){var A=l(g,0,E);if(A==="com.apple.streaming.transportStreamTimestamp"){var D=g.subarray(E+1),T=(D[3]&1)<<30|D[4]<<22|D[5]<<14|D[6]<<6|D[7]>>>2;return T*=4,T+=D[7]&3,T}break}}d+=10,d+=y}while(d<c.byteLength);return null};t.exports={isLikelyAacData:o,parseId3TagSize:a,parseAdtsSize:p,parseType:m,parseSampleRate:f,parseAacTimestamp:h}},{}],3:[function(e,t,r){var n=e(31),a=e(29).ONE_SECOND_IN_TS,i,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(s){var u,l=0;i.prototype.init.call(this),this.push=function(p){var m=0,f,h,c,d,y,g;if(s||(l=0),p.type==="audio")for(u?(d=u,u=new Uint8Array(d.byteLength+p.data.byteLength),u.set(d),u.set(p.data,d.byteLength)):u=p.data;m+5<u.length;){if(u[m]!==255||(u[m+1]&246)!==240){m++;continue}if(h=(~u[m+1]&1)*2,f=(u[m+3]&3)<<11|u[m+4]<<3|(u[m+5]&224)>>5,y=((u[m+6]&3)+1)*1024,g=y*a/o[(u[m+2]&60)>>>2],c=m+f,u.byteLength<c)return;if(this.trigger("data",{pts:p.pts+l*g,dts:p.dts+l*g,sampleCount:y,audioobjecttype:(u[m+2]>>>6&3)+1,channelcount:(u[m+2]&1)<<2|(u[m+3]&192)>>>6,samplerate:o[(u[m+2]&60)>>>2],samplingfrequencyindex:(u[m+2]&60)>>>2,samplesize:16,data:u.subarray(m+7+h,c)}),l++,u.byteLength===c){u=void 0;return}u=u.subarray(c)}},this.flush=function(){l=0,this.trigger("done")},this.reset=function(){u=void 0,this.trigger("reset")},this.endTimeline=function(){u=void 0,this.trigger("endedtimeline")}},i.prototype=new n,t.exports=i},{29:29,31:31}],4:[function(e,t,r){var n=e(31),a=e(30),i,o,s;o=function(){var u=0,l,p;o.prototype.init.call(this),this.push=function(m){var f;p?(f=new Uint8Array(p.byteLength+m.data.byteLength),f.set(p),f.set(m.data,p.byteLength),p=f):p=m.data;for(var h=p.byteLength;u<h-3;u++)if(p[u+2]===1){l=u+5;break}for(;l<h;)switch(p[l]){case 0:if(p[l-1]!==0){l+=2;break}else if(p[l-2]!==0){l++;break}u+3!==l-2&&this.trigger("data",p.subarray(u+3,l-2));do l++;while(p[l]!==1&&l<h);u=l-2,l+=3;break;case 1:if(p[l-1]!==0||p[l-2]!==0){l+=3;break}this.trigger("data",p.subarray(u+3,l-2)),u=l-2,l+=3;break;default:l+=3;break}p=p.subarray(u),l-=u,u=0},this.reset=function(){p=null,u=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(u+3)),p=null,u=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},o.prototype=new n,s={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},i=function(){var u=new o,l,p,m,f,h,c,d;i.prototype.init.call(this),l=this,this.push=function(y){y.type==="video"&&(p=y.trackId,m=y.pts,f=y.dts,u.push(y))},u.on("data",function(y){var g={trackId:p,pts:m,dts:f,data:y};switch(y[0]&31){case 5:g.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:g.nalUnitType="sei_rbsp",g.escapedRBSP=h(y.subarray(1));break;case 7:g.nalUnitType="seq_parameter_set_rbsp",g.escapedRBSP=h(y.subarray(1)),g.config=c(g.escapedRBSP);break;case 8:g.nalUnitType="pic_parameter_set_rbsp";break;case 9:g.nalUnitType="access_unit_delimiter_rbsp";break}l.trigger("data",g)}),u.on("done",function(){l.trigger("done")}),u.on("partialdone",function(){l.trigger("partialdone")}),u.on("reset",function(){l.trigger("reset")}),u.on("endedtimeline",function(){l.trigger("endedtimeline")}),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},d=function(y,g){var v=8,E=8,A,D;for(A=0;A<y;A++)E!==0&&(D=g.readExpGolomb(),E=(v+D+256)%256),v=E===0?v:E},h=function(y){for(var g=y.byteLength,v=[],E=1,A,D;E<g-2;)y[E]===0&&y[E+1]===0&&y[E+2]===3?(v.push(E+2),E+=2):E++;if(v.length===0)return y;A=g-v.length,D=new Uint8Array(A);var T=0;for(E=0;E<A;T++,E++)T===v[0]&&(T++,v.shift()),D[E]=y[T];return D},c=function(y){var g=0,v=0,E=0,A=0,D=1,T,_,P,C,I,M,S,R,b,k,$,N,X,G;if(T=new a(y),_=T.readUnsignedByte(),C=T.readUnsignedByte(),P=T.readUnsignedByte(),T.skipUnsignedExpGolomb(),s[_]&&(I=T.readUnsignedExpGolomb(),I===3&&T.skipBits(1),T.skipUnsignedExpGolomb(),T.skipUnsignedExpGolomb(),T.skipBits(1),T.readBoolean()))for($=I!==3?8:12,G=0;G<$;G++)T.readBoolean()&&(G<6?d(16,T):d(64,T));if(T.skipUnsignedExpGolomb(),M=T.readUnsignedExpGolomb(),M===0)T.readUnsignedExpGolomb();else if(M===1)for(T.skipBits(1),T.skipExpGolomb(),T.skipExpGolomb(),S=T.readUnsignedExpGolomb(),G=0;G<S;G++)T.skipExpGolomb();if(T.skipUnsignedExpGolomb(),T.skipBits(1),R=T.readUnsignedExpGolomb(),b=T.readUnsignedExpGolomb(),k=T.readBits(1),k===0&&T.skipBits(1),T.skipBits(1),T.readBoolean()&&(g=T.readUnsignedExpGolomb(),v=T.readUnsignedExpGolomb(),E=T.readUnsignedExpGolomb(),A=T.readUnsignedExpGolomb()),T.readBoolean()&&T.readBoolean()){switch(X=T.readUnsignedByte(),X){case 1:N=[1,1];break;case 2:N=[12,11];break;case 3:N=[10,11];break;case 4:N=[16,11];break;case 5:N=[40,33];break;case 6:N=[24,11];break;case 7:N=[20,11];break;case 8:N=[32,11];break;case 9:N=[80,33];break;case 10:N=[18,11];break;case 11:N=[15,11];break;case 12:N=[64,33];break;case 13:N=[160,99];break;case 14:N=[4,3];break;case 15:N=[3,2];break;case 16:N=[2,1];break;case 255:{N=[T.readUnsignedByte()<<8|T.readUnsignedByte(),T.readUnsignedByte()<<8|T.readUnsignedByte()];break}}N&&(D=N[0]/N[1])}return{profileIdc:_,levelIdc:P,profileCompatibility:C,width:Math.ceil(((R+1)*16-g*2-v*2)*D),height:(2-k)*(b+1)*16-E*2-A*2,sarRatio:N}}},i.prototype=new n,t.exports={H264Stream:i,NalByteStream:o}},{30:30,31:31}],5:[function(e,t,r){var n=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];t.exports=n},{}],6:[function(e,t,r){var n=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];t.exports=n},{}],7:[function(e,t,r){var n=[33,16,5,32,164,27],a=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],i=function(u){for(var l=[];u--;)l.push(0);return l},o=function(u){return Object.keys(u).reduce(function(l,p){return l[p]=new Uint8Array(u[p].reduce(function(m,f){return m.concat(f)},[])),l},{})},s;t.exports=function(){if(!s){var u={96e3:[n,[227,64],i(154),[56]],88200:[n,[231],i(170),[56]],64e3:[n,[248,192],i(240),[56]],48e3:[n,[255,192],i(268),[55,148,128],i(54),[112]],44100:[n,[255,192],i(268),[55,163,128],i(84),[112]],32e3:[n,[255,192],i(268),[55,234],i(226),[112]],24e3:[n,[255,192],i(268),[55,255,128],i(268),[111,112],i(126),[224]],16e3:[n,[255,192],i(268),[55,255,128],i(268),[111,255],i(269),[223,108],i(195),[1,192]],12e3:[a,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,253,128],i(259),[56]],11025:[a,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,255,192],i(268),[55,175,128],i(108),[112]],8e3:[a,i(268),[3,121,16],i(47),[7]]};s=o(u)}return s}},{}],8:[function(e,t,r){var n=e(31),a=e(23),i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new m(0,0),new m(0,1),new m(1,0),new m(1,1)],this.reset(),this.ccStreams_.forEach(function(f){f.on("data",this.trigger.bind(this,"data")),f.on("partialdone",this.trigger.bind(this,"partialdone")),f.on("done",this.trigger.bind(this,"done"))},this)};i.prototype=new n,i.prototype.push=function(f){var h,c,d;if(f.nalUnitType==="sei_rbsp"&&(h=a.parseSei(f.escapedRBSP),h.payloadType===a.USER_DATA_REGISTERED_ITU_T_T35&&(c=a.parseUserData(h),!!c))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}d=a.parseCaptionPackets(f.pts,c),this.captionPackets_=this.captionPackets_.concat(d),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},i.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(h){return f==="flush"?h.flush():h.partialFlush()},this)},i.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(h,c){h.presortIndex=c}),this.captionPackets_.sort(function(h,c){return h.pts===c.pts?h.presortIndex-c.presortIndex:h.pts-c.pts}),this.captionPackets_.forEach(function(h){h.type<2&&this.dispatchCea608Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},i.prototype.flush=function(){return this.flushStream("flush")},i.prototype.partialFlush=function(){return this.flushStream("partialFlush")},i.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},i.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},i.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},i.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},i.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(f){return f===null?"":(f=o[f]||f,String.fromCharCode(f))},u=14,l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],p=function(){for(var f=[],h=u+1;h--;)f.push("");return f},m=function(f,h){m.prototype.init.call(this),this.field_=f||0,this.dataChannel_=h||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(c){var d,y,g,v,E;if(d=c.ccData&32639,d===this.lastControlCode_){this.lastControlCode_=null;return}if((d&61440)===4096?this.lastControlCode_=d:d!==this.PADDING_&&(this.lastControlCode_=null),g=d>>>8,v=d&255,d!==this.PADDING_)if(d===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(d===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(c.pts),this.flushDisplayed(c.pts),y=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=y,this.startPts_=c.pts;else if(d===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(c.pts);else if(d===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(c.pts);else if(d===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(c.pts);else if(d===this.CARRIAGE_RETURN_)this.clearFormatting(c.pts),this.flushDisplayed(c.pts),this.shiftRowsUp_(),this.startPts_=c.pts;else if(d===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(d===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(c.pts),this.displayed_=p();else if(d===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=p();else if(d===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(c.pts),this.displayed_=p()),this.mode_="paintOn",this.startPts_=c.pts;else if(this.isSpecialCharacter(g,v))g=(g&3)<<8,E=s(g|v),this[this.mode_](c.pts,E),this.column_++;else if(this.isExtCharacter(g,v))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),g=(g&3)<<8,E=s(g|v),this[this.mode_](c.pts,E),this.column_++;else if(this.isMidRowCode(g,v))this.clearFormatting(c.pts),this[this.mode_](c.pts," "),this.column_++,(v&14)===14&&this.addFormatting(c.pts,["i"]),(v&1)===1&&this.addFormatting(c.pts,["u"]);else if(this.isOffsetControlCode(g,v))this.column_+=v&3;else if(this.isPAC(g,v)){var A=l.indexOf(d&7968);this.mode_==="rollUp"&&(A-this.rollUpRows_+1<0&&(A=this.rollUpRows_-1),this.setRollUp(c.pts,A)),A!==this.row_&&(this.clearFormatting(c.pts),this.row_=A),v&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(c.pts,["u"]),(d&16)===16&&(this.column_=((d&14)>>1)*4),this.isColorPAC(v)&&(v&14)===14&&this.addFormatting(c.pts,["i"])}else this.isNormalChar(g)&&(v===0&&(v=null),E=s(g),E+=s(v),this[this.mode_](c.pts,E),this.column_+=E.length)}};m.prototype=new n,m.prototype.flushDisplayed=function(f){var h=this.displayed_.map(function(c){try{return c.trim()}catch{return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,text:h,stream:this.name_})},m.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=p(),this.nonDisplayed_=p(),this.lastControlCode_=null,this.column_=0,this.row_=u,this.rollUpRows_=2,this.formatting_=[]},m.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},m.prototype.isSpecialCharacter=function(f,h){return f===this.EXT_&&h>=48&&h<=63},m.prototype.isExtCharacter=function(f,h){return(f===this.EXT_+1||f===this.EXT_+2)&&h>=32&&h<=63},m.prototype.isMidRowCode=function(f,h){return f===this.EXT_&&h>=32&&h<=47},m.prototype.isOffsetControlCode=function(f,h){return f===this.OFFSET_&&h>=33&&h<=35},m.prototype.isPAC=function(f,h){return f>=this.BASE_&&f<this.BASE_+8&&h>=64&&h<=127},m.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},m.prototype.isNormalChar=function(f){return f>=32&&f<=127},m.prototype.setRollUp=function(f,h){if(this.mode_!=="rollUp"&&(this.row_=u,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=p(),this.displayed_=p()),h!==void 0&&h!==this.row_)for(var c=0;c<this.rollUpRows_;c++)this.displayed_[h-c]=this.displayed_[this.row_-c],this.displayed_[this.row_-c]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},m.prototype.addFormatting=function(f,h){this.formatting_=this.formatting_.concat(h);var c=h.reduce(function(d,y){return d+"<"+y+">"},"");this[this.mode_](f,c)},m.prototype.clearFormatting=function(f){if(this.formatting_.length){var h=this.formatting_.reverse().reduce(function(c,d){return c+"</"+d+">"},"");this.formatting_=[],this[this.mode_](f,h)}},m.prototype.popOn=function(f,h){var c=this.nonDisplayed_[this.row_];c+=h,this.nonDisplayed_[this.row_]=c},m.prototype.rollUp=function(f,h){var c=this.displayed_[this.row_];c+=h,this.displayed_[this.row_]=c},m.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]="";for(f=this.row_+1;f<u+1;f++)this.displayed_[f]="";for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]=""},m.prototype.paintOn=function(f,h){var c=this.displayed_[this.row_];c+=h,this.displayed_[this.row_]=c},t.exports={CaptionStream:i,Cea608Stream:m}},{23:23,31:31}],9:[function(e,t,r){var n=e(31),a=e(8),i=e(11),o=e(12).TimestampRolloverStream,s,u,l,p=188,m=71;s=function(){var c=new Uint8Array(p),d=0;s.prototype.init.call(this),this.push=function(y){var g=0,v=p,E;for(d?(E=new Uint8Array(y.byteLength+d),E.set(c.subarray(0,d)),E.set(y,d),d=0):E=y;v<E.byteLength;){if(E[g]===m&&E[v]===m){this.trigger("data",E.subarray(g,v)),g+=p,v+=p;continue}g++,v++}g<E.byteLength&&(c.set(E.subarray(g),0),d=E.byteLength-g)},this.flush=function(){d===p&&c[0]===m&&(this.trigger("data",c),d=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){d=0,this.trigger("reset")}},s.prototype=new n,u=function(){var c,d,y,g;u.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,c=function(v,E){var A=0;E.payloadUnitStartIndicator&&(A+=v[A]+1),E.type==="pat"?d(v.subarray(A),E):y(v.subarray(A),E)},d=function(v,E){E.section_number=v[7],E.last_section_number=v[8],g.pmtPid=(v[10]&31)<<8|v[11],E.pmtPid=g.pmtPid},y=function(v,E){var A,D,T,_;if(v[5]&1){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},A=(v[1]&15)<<8|v[2],D=3+A-4,T=(v[10]&15)<<8|v[11],_=12+T;_<D;){var P=v[_],C=(v[_+1]&31)<<8|v[_+2];P===i.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=C:P===i.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=C:P===i.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][C]=P),_+=((v[_+3]&15)<<8|v[_+4])+5}E.programMapTable=g.programMapTable}},this.push=function(v){var E={},A=4;if(E.payloadUnitStartIndicator=!!(v[1]&64),E.pid=v[1]&31,E.pid<<=8,E.pid|=v[2],(v[3]&48)>>>4>1&&(A+=v[A]+1),E.pid===0)E.type="pat",c(v.subarray(A),E),this.trigger("data",E);else if(E.pid===this.pmtPid)for(E.type="pmt",c(v.subarray(A),E),this.trigger("data",E);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([v,A,E]):this.processPes_(v,A,E)},this.processPes_=function(v,E,A){A.pid===this.programMapTable.video?A.streamType=i.H264_STREAM_TYPE:A.pid===this.programMapTable.audio?A.streamType=i.ADTS_STREAM_TYPE:A.streamType=this.programMapTable["timed-metadata"][A.pid],A.type="pes",A.data=v.subarray(E),this.trigger("data",A)}},u.prototype=new n,u.STREAM_TYPES={h264:27,adts:15},l=function(){var c=this,d={data:[],size:0},y={data:[],size:0},g={data:[],size:0},v,E=function(D,T){var _;T.packetLength=6+(D[4]<<8|D[5]),T.dataAlignmentIndicator=(D[6]&4)!==0,_=D[7],_&192&&(T.pts=(D[9]&14)<<27|(D[10]&255)<<20|(D[11]&254)<<12|(D[12]&255)<<5|(D[13]&254)>>>3,T.pts*=4,T.pts+=(D[13]&6)>>>1,T.dts=T.pts,_&64&&(T.dts=(D[14]&14)<<27|(D[15]&255)<<20|(D[16]&254)<<12|(D[17]&255)<<5|(D[18]&254)>>>3,T.dts*=4,T.dts+=(D[18]&6)>>>1)),T.data=D.subarray(9+D[8])},A=function(D,T,_){var P=new Uint8Array(D.size),C={type:T},I=0,M=0,S=!1,R;if(!(!D.data.length||D.size<9)){for(C.trackId=D.data[0].pid,I=0;I<D.data.length;I++)R=D.data[I],P.set(R.data,M),M+=R.data.byteLength;E(P,C),S=T==="video"||C.packetLength<=D.size,(_||S)&&(D.size=0,D.data.length=0),S&&c.trigger("data",C)}};l.prototype.init.call(this),this.push=function(D){({pat:function(){},pes:function(){var T,_;switch(D.streamType){case i.H264_STREAM_TYPE:T=d,_="video";break;case i.ADTS_STREAM_TYPE:T=y,_="audio";break;case i.METADATA_STREAM_TYPE:T=g,_="timed-metadata";break;default:return}D.payloadUnitStartIndicator&&A(T,_,!0),T.data.push(D),T.size+=D.data.byteLength},pmt:function(){var T={type:"metadata",tracks:[]};v=D.programMapTable,v.video!==null&&T.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+v.video,codec:"avc",type:"video"}),v.audio!==null&&T.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+v.audio,codec:"adts",type:"audio"}),c.trigger("data",T)}})[D.type]()},this.reset=function(){d.size=0,d.data.length=0,y.size=0,y.data.length=0,this.trigger("reset")},this.flushStreams_=function(){A(d,"video"),A(y,"audio"),A(g,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},l.prototype=new n;var f={PAT_PID:0,MP2T_PACKET_LENGTH:p,TransportPacketStream:s,TransportParseStream:u,ElementaryStream:l,TimestampRolloverStream:o,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:e(10)};for(var h in i)i.hasOwnProperty(h)&&(f[h]=i[h]);t.exports=f},{10:10,11:11,12:12,31:31,8:8}],10:[function(e,t,r){var n=e(31),a=e(11),i=function(m,f,h){var c,d="";for(c=f;c<h;c++)d+="%"+("00"+m[c].toString(16)).slice(-2);return d},o=function(m,f,h){return decodeURIComponent(i(m,f,h))},s=function(m,f,h){return unescape(i(m,f,h))},u=function(m){return m[0]<<21|m[1]<<14|m[2]<<7|m[3]},l={TXXX:function(m){var f;if(m.data[0]===3){for(f=1;f<m.data.length;f++)if(m.data[f]===0){m.description=o(m.data,1,f),m.value=o(m.data,f+1,m.data.length).replace(/\0*$/,"");break}m.data=m.value}},WXXX:function(m){var f;if(m.data[0]===3){for(f=1;f<m.data.length;f++)if(m.data[f]===0){m.description=o(m.data,1,f),m.url=o(m.data,f+1,m.data.length);break}}},PRIV:function(m){var f;for(f=0;f<m.data.length;f++)if(m.data[f]===0){m.owner=s(m.data,0,f);break}m.privateData=m.data.subarray(f+1),m.data=m.privateData}},p;p=function(m){var f={debug:!!(m&&m.debug),descriptor:m&&m.descriptor},h=0,c=[],d=0,y;if(p.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),f.descriptor)for(y=0;y<f.descriptor.length;y++)this.dispatchType+=("00"+f.descriptor[y].toString(16)).slice(-2);this.push=function(g){var v,E,A,D,T,_;if(g.type==="timed-metadata"){if(g.dataAlignmentIndicator&&(d=0,c.length=0),c.length===0&&(g.data.length<10||g.data[0]!==73||g.data[1]!==68||g.data[2]!==51)){f.debug&&console.log("Skipping unrecognized metadata packet");return}if(c.push(g),d+=g.data.byteLength,c.length===1&&(h=u(g.data.subarray(6,10)),h+=10),!(d<h)){for(v={data:new Uint8Array(h),frames:[],pts:c[0].pts,dts:c[0].dts},T=0;T<h;)v.data.set(c[0].data.subarray(0,h-T),T),T+=c[0].data.byteLength,d-=c[0].data.byteLength,c.shift();E=10,v.data[5]&64&&(E+=4,E+=u(v.data.subarray(10,14)),h-=u(v.data.subarray(16,20)));do{if(A=u(v.data.subarray(E+4,E+8)),A<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(_=String.fromCharCode(v.data[E],v.data[E+1],v.data[E+2],v.data[E+3]),D={id:_,data:v.data.subarray(E+10,E+A+10)},D.key=D.id,l[D.id]&&(l[D.id](D),D.owner==="com.apple.streaming.transportStreamTimestamp")){var P=D.data,C=(P[3]&1)<<30|P[4]<<22|P[5]<<14|P[6]<<6|P[7]>>>2;C*=4,C+=P[7]&3,D.timeStamp=C,v.pts===void 0&&v.dts===void 0&&(v.pts=D.timeStamp,v.dts=D.timeStamp),this.trigger("timestamp",D)}v.frames.push(D),E+=10,E+=A}while(E<h);this.trigger("data",v)}}}},p.prototype=new n,t.exports=p},{11:11,31:31}],11:[function(e,t,r){t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],12:[function(e,t,r){var n=e(31),a=8589934592,i=4294967296,o="shared",s=function(l,p){var m=1;for(l>p&&(m=-1);Math.abs(p-l)>i;)l+=m*a;return l},u=function(l){var p,m;u.prototype.init.call(this),this.type_=l||o,this.push=function(f){this.type_!==o&&f.type!==this.type_||(m===void 0&&(m=f.dts),f.dts=s(f.dts,m),f.pts=s(f.pts,m),p=f.dts,this.trigger("data",f))},this.flush=function(){m=p,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,p=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};u.prototype=new n,t.exports={TimestampRolloverStream:u,handleRollover:s}},{31:31}],13:[function(e,t,r){var n=e(7),a=e(29),i=function(p){var m,f,h=0;for(m=0;m<p.length;m++)f=p[m],h+=f.data.byteLength;return h},o=function(p,m,f,h){var c,d=0,y=0,g=0,v=0,E,A,D;if(m.length&&(c=a.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),d=Math.ceil(a.ONE_SECOND_IN_TS/(p.samplerate/1024)),f&&h&&(y=c-Math.max(f,h),g=Math.floor(y/d),v=g*d),!(g<1||v>a.ONE_SECOND_IN_TS/2))){for(E=n()[p.samplerate],E||(E=m[0].data),A=0;A<g;A++)D=m[0],m.splice(0,0,{data:E,dts:D.dts-d,pts:D.pts-d});p.baseMediaDecodeTime-=Math.floor(a.videoTsToAudioTs(v,p.samplerate))}},s=function(p,m,f){return m.minSegmentDts>=f?p:(m.minSegmentDts=1/0,p.filter(function(h){return h.dts>=f?(m.minSegmentDts=Math.min(m.minSegmentDts,h.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},u=function(p){var m,f,h=[];for(m=0;m<p.length;m++)f=p[m],h.push({size:f.data.byteLength,duration:1024});return h},l=function(p){var m,f,h=0,c=new Uint8Array(i(p));for(m=0;m<p.length;m++)f=p[m],c.set(f.data,h),h+=f.data.byteLength;return c};t.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:s,generateSampleTable:u,concatenateFrameData:l}},{29:29,7:7}],14:[function(e,t,r){var n=e(23).discardEmulationPreventionBytes,a=e(8).CaptionStream,i=e(15),o=e(25),s=e(27),u=e(26),l=function(d,y){for(var g=d,v=0;v<y.length;v++){var E=y[v];if(g<E.size)return E;g-=E.size}return null},p=function(d,y,g){var v=new DataView(d.buffer,d.byteOffset,d.byteLength),E=[],A,D,T,_;for(D=0;D+4<d.length;D+=T)if(T=v.getUint32(D),D+=4,!(T<=0))switch(d[D]&31){case 6:var P=d.subarray(D+1,D+1+T),C=l(D,y);if(A={nalUnitType:"sei_rbsp",size:T,data:P,escapedRBSP:n(P),trackId:g},C)A.pts=C.pts,A.dts=C.dts,_=C;else if(_)A.pts=_.pts,A.dts=_.dts;else{console.log("We've encountered a nal unit without data. See mux.js#233.");break}E.push(A);break}return E},m=function(d,y,g){var v=y,E=g.defaultSampleDuration||0,A=g.defaultSampleSize||0,D=g.trackId,T=[];return d.forEach(function(_){var P=s(_),C=P.samples;C.forEach(function(I){I.duration===void 0&&(I.duration=E),I.size===void 0&&(I.size=A),I.trackId=D,I.dts=v,I.compositionTimeOffset===void 0&&(I.compositionTimeOffset=0),I.pts=v+I.compositionTimeOffset,v+=I.duration}),T=T.concat(C)}),T},f=function(d,y){var g=i(d,["moof","traf"]),v=i(d,["mdat"]),E={},A=[];return v.forEach(function(D,T){var _=g[T];A.push({mdat:D,traf:_})}),A.forEach(function(D){var T=D.mdat,_=D.traf,P=i(_,["tfhd"]),C=u(P[0]),I=C.trackId,M=i(_,["tfdt"]),S=M.length>0?o(M[0]).baseMediaDecodeTime:0,R=i(_,["trun"]),b,k;y===I&&R.length>0&&(b=m(R,S,C),k=p(T,b,I),E[I]||(E[I]=[]),E[I]=E[I].concat(k))}),E},h=function(d,y,g){var v;return y===null?null:(v=f(d,y),{seiNals:v[y],timescale:g})},c=function(){var d=!1,y,g,v,E,A,D;this.isInitialized=function(){return d},this.init=function(T){y=new a,d=!0,D=T?T.isPartial:!1,y.on("data",function(_){_.startTime=_.startPts/E,_.endTime=_.endPts/E,A.captions.push(_),A.captionStreams[_.stream]=!0})},this.isNewInit=function(T,_){return T&&T.length===0||_&&typeof _=="object"&&Object.keys(_).length===0?!1:v!==T[0]||E!==_[v]},this.parse=function(T,_,P){var C;if(this.isInitialized()){if(!_||!P)return null;if(this.isNewInit(_,P))v=_[0],E=P[v];else if(v===null||!E)return g.push(T),null}else return null;for(;g.length>0;){var I=g.shift();this.parse(I,_,P)}return C=h(T,v,E),C===null||!C.seiNals?null:(this.pushNals(C.seiNals),this.flushStream(),A)},this.pushNals=function(T){if(!this.isInitialized()||!T||T.length===0)return null;T.forEach(function(_){y.push(_)})},this.flushStream=function(){if(!this.isInitialized())return null;D?y.partialFlush():y.flush()},this.clearParsedCaptions=function(){A.captions=[],A.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;y.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){g=[],v=null,E=null,A?this.clearParsedCaptions():A={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=c},{15:15,23:23,25:25,26:26,27:27,8:8}],15:[function(e,t,r){var n=e(28).toUnsigned,a=e(19),i=function(o,s){var u=[],l,p,m,f,h;if(!s.length)return null;for(l=0;l<o.byteLength;)p=n(o[l]<<24|o[l+1]<<16|o[l+2]<<8|o[l+3]),m=a(o.subarray(l+4,l+8)),f=p>1?l+p:o.byteLength,m===s[0]&&(s.length===1?u.push(o.subarray(l+8,f)):(h=i(o.subarray(l+8,f),s.slice(1)),h.length&&(u=u.concat(h)))),l=f;return u};t.exports=i},{19:19,28:28}],16:[function(e,t,r){var n=function(f){var h,c,d=[],y=[];for(y.byteLength=0,y.nalCount=0,y.duration=0,d.byteLength=0,h=0;h<f.length;h++)c=f[h],c.nalUnitType==="access_unit_delimiter_rbsp"?(d.length&&(d.duration=c.dts-d.dts,y.byteLength+=d.byteLength,y.nalCount+=d.length,y.duration+=d.duration,y.push(d)),d=[c],d.byteLength=c.data.byteLength,d.pts=c.pts,d.dts=c.dts):(c.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(d.keyFrame=!0),d.duration=c.dts-d.dts,d.byteLength+=c.data.byteLength,d.push(c));return y.length&&(!d.duration||d.duration<=0)&&(d.duration=y[y.length-1].duration),y.byteLength+=d.byteLength,y.nalCount+=d.length,y.duration+=d.duration,y.push(d),y},a=function(f){var h,c,d=[],y=[];for(d.byteLength=0,d.nalCount=0,d.duration=0,d.pts=f[0].pts,d.dts=f[0].dts,y.byteLength=0,y.nalCount=0,y.duration=0,y.pts=f[0].pts,y.dts=f[0].dts,h=0;h<f.length;h++)c=f[h],c.keyFrame?(d.length&&(y.push(d),y.byteLength+=d.byteLength,y.nalCount+=d.nalCount,y.duration+=d.duration),d=[c],d.nalCount=c.length,d.byteLength=c.byteLength,d.pts=c.pts,d.dts=c.dts,d.duration=c.duration):(d.duration+=c.duration,d.nalCount+=c.length,d.byteLength+=c.byteLength,d.push(c));return y.length&&d.duration<=0&&(d.duration=y[y.length-1].duration),y.byteLength+=d.byteLength,y.nalCount+=d.nalCount,y.duration+=d.duration,y.push(d),y},i=function(f){var h;return!f[0][0].keyFrame&&f.length>1&&(h=f.shift(),f.byteLength-=h.byteLength,f.nalCount-=h.nalCount,f[0][0].dts=h.dts,f[0][0].pts=h.pts,f[0][0].duration+=h.duration),f},o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},s=function(f,h){var c=o();return c.dataOffset=h,c.compositionTimeOffset=f.pts-f.dts,c.duration=f.duration,c.size=4*f.length,c.size+=f.byteLength,f.keyFrame&&(c.flags.dependsOn=2,c.flags.isNonSyncSample=0),c},u=function(f,h){var c,d,y,g,v,E=h||0,A=[];for(c=0;c<f.length;c++)for(g=f[c],d=0;d<g.length;d++)v=g[d],y=s(v,E),E+=y.size,A.push(y);return A},l=function(f){var h,c,d,y,g,v,E=0,A=f.byteLength,D=f.nalCount,T=A+4*D,_=new Uint8Array(T),P=new DataView(_.buffer);for(h=0;h<f.length;h++)for(y=f[h],c=0;c<y.length;c++)for(g=y[c],d=0;d<g.length;d++)v=g[d],P.setUint32(E,v.data.byteLength),E+=4,_.set(v.data,E),E+=v.data.byteLength;return _},p=function(f,h){var c,d=h||0,y=[];return c=s(f,d),y.push(c),y},m=function(f){var h,c,d=0,y=f.byteLength,g=f.length,v=y+4*g,E=new Uint8Array(v),A=new DataView(E.buffer);for(h=0;h<f.length;h++)c=f[h],A.setUint32(d,c.data.byteLength),d+=4,E.set(c.data,d),d+=c.data.byteLength;return E};t.exports={groupNalsIntoFrames:n,groupFramesIntoGops:a,extendFirstKeyFrame:i,generateSampleTable:u,concatenateNalData:l,generateSampleTableForFrame:p,concatenateNalDataForFrame:m}},{}],17:[function(e,t,r){t.exports={generator:e(18),probe:e(20),Transmuxer:e(22).Transmuxer,AudioSegmentStream:e(22).AudioSegmentStream,VideoSegmentStream:e(22).VideoSegmentStream,CaptionParser:e(14)}},{14:14,18:18,20:20,22:22}],18:[function(e,t,r){var n=Math.pow(2,32)-1,a,i,o,s,u,l,p,m,f,h,c,d,y,g,v,E,A,D,T,_,P,C,I,M,S,R,b,k,$,N,X,G,Q,U,F,ae,Z=4294967295;(function(){var B;if(I={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(B in I)I.hasOwnProperty(B)&&(I[B]=[B.charCodeAt(0),B.charCodeAt(1),B.charCodeAt(2),B.charCodeAt(3)]);M=new Uint8Array([105,115,111,109]),R=new Uint8Array([97,118,99,49]),S=new Uint8Array([0,0,0,1]),b=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),$={video:b,audio:k},G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),X=new Uint8Array([0,0,0,0,0,0,0,0]),Q=new Uint8Array([0,0,0,0,0,0,0,0]),U=Q,F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ae=Q,N=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(B){var ee=[],te=0,W,re,oe;for(W=1;W<arguments.length;W++)ee.push(arguments[W]);for(W=ee.length;W--;)te+=ee[W].byteLength;for(re=new Uint8Array(te+8),oe=new DataView(re.buffer,re.byteOffset,re.byteLength),oe.setUint32(0,re.byteLength),re.set(B,4),W=0,te=8;W<ee.length;W++)re.set(ee[W],te),te+=ee[W].byteLength;return re},i=function(){return a(I.dinf,a(I.dref,G))},o=function(B){return a(I.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,B.audioobjecttype<<3|B.samplingfrequencyindex>>>1,B.samplingfrequencyindex<<7|B.channelcount<<3,6,1,2]))},s=function(){return a(I.ftyp,M,S,M,R)},E=function(B){return a(I.hdlr,$[B])},u=function(B){return a(I.mdat,B)},v=function(B){var ee=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,B.duration>>>24&255,B.duration>>>16&255,B.duration>>>8&255,B.duration&255,85,196,0,0]);return B.samplerate&&(ee[12]=B.samplerate>>>24&255,ee[13]=B.samplerate>>>16&255,ee[14]=B.samplerate>>>8&255,ee[15]=B.samplerate&255,B.duration=B.duration/9e4*B.samplerate,ee[16]=B.duration>>>24&255,ee[17]=B.duration>>>16&255,ee[18]=B.duration>>>8&255,ee[19]=B.duration&255),a(I.mdhd,ee)},g=function(B){return a(I.mdia,v(B),E(B.type),p(B))},l=function(B){return a(I.mfhd,new Uint8Array([0,0,0,0,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255]))},p=function(B){return a(I.minf,B.type==="video"?a(I.vmhd,N):a(I.smhd,X),i(),D(B))},m=function(B,ee){for(var te=[],W=ee.length;W--;)te[W]=_(ee[W]);return a.apply(null,[I.moof,l(B)].concat(te))},f=function(B){for(var ee=B.length,te=[];ee--;)te[ee]=d(B[ee]);return a.apply(null,[I.moov,c(Z)].concat(te).concat(h(B)))},h=function(B){for(var ee=B.length,te=[];ee--;)te[ee]=P(B[ee]);return a.apply(null,[I.mvex].concat(te))},c=function(B){var ee=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(I.mvhd,ee)},A=function(B){var ee=B.samples||[],te=new Uint8Array(4+ee.length),W,re;for(re=0;re<ee.length;re++)W=ee[re].flags,te[re+4]=W.dependsOn<<4|W.isDependedOn<<2|W.hasRedundancy;return a(I.sdtp,te)},D=function(B){return a(I.stbl,T(B),a(I.stts,ae),a(I.stsc,U),a(I.stsz,F),a(I.stco,Q))},function(){var B,ee;T=function(te){return a(I.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),te.type==="video"?B(te):ee(te))},B=function(te){var W=te.sps||[],re=te.pps||[],oe=[],ne=[],ue,fe;for(ue=0;ue<W.length;ue++)oe.push((W[ue].byteLength&65280)>>>8),oe.push(W[ue].byteLength&255),oe=oe.concat(Array.prototype.slice.call(W[ue]));for(ue=0;ue<re.length;ue++)ne.push((re[ue].byteLength&65280)>>>8),ne.push(re[ue].byteLength&255),ne=ne.concat(Array.prototype.slice.call(re[ue]));if(fe=[I.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(te.width&65280)>>8,te.width&255,(te.height&65280)>>8,te.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(I.avcC,new Uint8Array([1,te.profileIdc,te.profileCompatibility,te.levelIdc,255].concat([W.length],oe,[re.length],ne))),a(I.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],te.sarRatio){var w=te.sarRatio[0],H=te.sarRatio[1];fe.push(a(I.pasp,new Uint8Array([(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255,(H&4278190080)>>24,(H&16711680)>>16,(H&65280)>>8,H&255])))}return a.apply(null,fe)},ee=function(te){return a(I.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(te.channelcount&65280)>>8,te.channelcount&255,(te.samplesize&65280)>>8,te.samplesize&255,0,0,0,0,(te.samplerate&65280)>>8,te.samplerate&255,0,0]),o(te))}}(),y=function(B){var ee=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,0,(B.duration&4278190080)>>24,(B.duration&16711680)>>16,(B.duration&65280)>>8,B.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(B.width&65280)>>8,B.width&255,0,0,(B.height&65280)>>8,B.height&255,0,0]);return a(I.tkhd,ee)},_=function(B){var ee,te,W,re,oe,ne,ue;return ee=a(I.tfhd,new Uint8Array([0,0,0,58,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ne=Math.floor(B.baseMediaDecodeTime/(n+1)),ue=Math.floor(B.baseMediaDecodeTime%(n+1)),te=a(I.tfdt,new Uint8Array([1,0,0,0,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue&255])),oe=92,B.type==="audio"?(W=C(B,oe),a(I.traf,ee,te,W)):(re=A(B),W=C(B,re.length+oe),a(I.traf,ee,te,W,re))},d=function(B){return B.duration=B.duration||Z,a(I.trak,y(B),g(B))},P=function(B){var ee=new Uint8Array([0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return B.type!=="video"&&(ee[ee.length-1]=0),a(I.trex,ee)},function(){var B,ee,te;te=function(W,re){var oe=0,ne=0,ue=0,fe=0;return W.length&&(W[0].duration!==void 0&&(oe=1),W[0].size!==void 0&&(ne=2),W[0].flags!==void 0&&(ue=4),W[0].compositionTimeOffset!==void 0&&(fe=8)),[0,0,oe|ne|ue|fe,1,(W.length&4278190080)>>>24,(W.length&16711680)>>>16,(W.length&65280)>>>8,W.length&255,(re&4278190080)>>>24,(re&16711680)>>>16,(re&65280)>>>8,re&255]},ee=function(W,re){var oe,ne,ue,fe,w,H;for(fe=W.samples||[],re+=20+16*fe.length,ue=te(fe,re),ne=new Uint8Array(ue.length+fe.length*16),ne.set(ue),oe=ue.length,H=0;H<fe.length;H++)w=fe[H],ne[oe++]=(w.duration&4278190080)>>>24,ne[oe++]=(w.duration&16711680)>>>16,ne[oe++]=(w.duration&65280)>>>8,ne[oe++]=w.duration&255,ne[oe++]=(w.size&4278190080)>>>24,ne[oe++]=(w.size&16711680)>>>16,ne[oe++]=(w.size&65280)>>>8,ne[oe++]=w.size&255,ne[oe++]=w.flags.isLeading<<2|w.flags.dependsOn,ne[oe++]=w.flags.isDependedOn<<6|w.flags.hasRedundancy<<4|w.flags.paddingValue<<1|w.flags.isNonSyncSample,ne[oe++]=w.flags.degradationPriority&61440,ne[oe++]=w.flags.degradationPriority&15,ne[oe++]=(w.compositionTimeOffset&4278190080)>>>24,ne[oe++]=(w.compositionTimeOffset&16711680)>>>16,ne[oe++]=(w.compositionTimeOffset&65280)>>>8,ne[oe++]=w.compositionTimeOffset&255;return a(I.trun,ne)},B=function(W,re){var oe,ne,ue,fe,w,H;for(fe=W.samples||[],re+=20+8*fe.length,ue=te(fe,re),oe=new Uint8Array(ue.length+fe.length*8),oe.set(ue),ne=ue.length,H=0;H<fe.length;H++)w=fe[H],oe[ne++]=(w.duration&4278190080)>>>24,oe[ne++]=(w.duration&16711680)>>>16,oe[ne++]=(w.duration&65280)>>>8,oe[ne++]=w.duration&255,oe[ne++]=(w.size&4278190080)>>>24,oe[ne++]=(w.size&16711680)>>>16,oe[ne++]=(w.size&65280)>>>8,oe[ne++]=w.size&255;return a(I.trun,oe)},C=function(W,re){return W.type==="audio"?B(W,re):ee(W,re)}}(),t.exports={ftyp:s,mdat:u,moof:m,moov:f,setDuration:function(B){B&&(Z=B*9e4)},initSegment:function(B){var ee=s(),te=f(B),W;return W=new Uint8Array(ee.byteLength+te.byteLength),W.set(ee),W.set(te,ee.byteLength),W}}},{}],19:[function(e,t,r){var n=function(a){var i="";return i+=String.fromCharCode(a[0]),i+=String.fromCharCode(a[1]),i+=String.fromCharCode(a[2]),i+=String.fromCharCode(a[3]),i};t.exports=n},{}],20:[function(e,t,r){var n=e(28).toUnsigned,a=e(28).toHexString,i=e(15),o=e(19),s=e(26),u=e(27),l=e(25),p,m,f,h,c,d;p=function(y){var g={},v=i(y,["moov","trak"]);return v.reduce(function(E,A){var D,T,_,P,C;return D=i(A,["tkhd"])[0],!D||(T=D[0],_=T===0?12:20,P=n(D[_]<<24|D[_+1]<<16|D[_+2]<<8|D[_+3]),C=i(A,["mdia","mdhd"])[0],!C)?null:(T=C[0],_=T===0?12:20,E[P]=n(C[_]<<24|C[_+1]<<16|C[_+2]<<8|C[_+3]),E)},g)},m=function(y,g){var v,E,A;return v=i(g,["moof","traf"]),E=[].concat.apply([],v.map(function(D){return i(D,["tfhd"]).map(function(T){var _,P,C;return _=n(T[4]<<24|T[5]<<16|T[6]<<8|T[7]),P=y[_]||9e4,C=i(D,["tfdt"]).map(function(I){var M,S;return M=I[0],S=n(I[4]<<24|I[5]<<16|I[6]<<8|I[7]),M===1&&(S*=Math.pow(2,32),S+=n(I[8]<<24|I[9]<<16|I[10]<<8|I[11])),S})[0],C=C||1/0,C/P})})),A=Math.min.apply(null,E),isFinite(A)?A:0},f=function(y,g){var v=i(g,["moof","traf"]),E=0,A=0,D;if(v&&v.length){var T=i(v[0],["tfhd"])[0],_=i(v[0],["trun"])[0],P=i(v[0],["tfdt"])[0];if(T){var C=s(T);D=C.trackId}if(P){var I=l(P);E=I.baseMediaDecodeTime}if(_){var M=u(_);M.samples&&M.samples.length&&(A=M.samples[0].compositionTimeOffset||0)}}var S=y[D]||9e4;return(E+A)/S},h=function(y){var g=i(y,["moov","trak"]),v=[];return g.forEach(function(E){var A=i(E,["mdia","hdlr"]),D=i(E,["tkhd"]);A.forEach(function(T,_){var P=o(T.subarray(8,12)),C=D[_],I,M,S;P==="vide"&&(I=new DataView(C.buffer,C.byteOffset,C.byteLength),M=I.getUint8(0),S=M===0?I.getUint32(12):I.getUint32(20),v.push(S))})}),v},d=function(y){var g=y[0],v=g===0?12:20;return n(y[v]<<24|y[v+1]<<16|y[v+2]<<8|y[v+3])},c=function(y){var g=i(y,["moov","trak"]),v=[];return g.forEach(function(E){var A={},D=i(E,["tkhd"])[0],T,_;D&&(T=new DataView(D.buffer,D.byteOffset,D.byteLength),_=T.getUint8(0),A.id=_===0?T.getUint32(12):T.getUint32(20));var P=i(E,["mdia","hdlr"])[0];if(P){var C=o(P.subarray(8,12));C==="vide"?A.type="video":C==="soun"?A.type="audio":A.type=C}var I=i(E,["mdia","minf","stbl","stsd"])[0];if(I){var M=I.subarray(8);A.codec=o(M.subarray(4,8));var S=i(M,[A.codec])[0],R,b;S&&(/^[a-z]vc[1-9]$/i.test(A.codec)?(R=S.subarray(78),b=o(R.subarray(4,8)),b==="avcC"&&R.length>11?(A.codec+=".",A.codec+=a(R[9]),A.codec+=a(R[10]),A.codec+=a(R[11])):A.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(A.codec)&&(R=S.subarray(28),b=o(R.subarray(4,8)),b==="esds"&&R.length>20&&R[19]!==0?(A.codec+="."+a(R[19]),A.codec+="."+a(R[20]>>>2&63).replace(/^0/,"")):A.codec="mp4a.40.2"))}var k=i(E,["mdia","mdhd"])[0];k&&(A.timescale=d(k)),v.push(A)}),v},t.exports={findBox:i,parseType:o,timescale:p,startTime:m,compositionStartTime:f,videoTrackIds:h,tracks:c,getTimescaleFromMediaHeader:d}},{15:15,19:19,25:25,26:26,27:27,28:28}],21:[function(e,t,r){var n=e(29).ONE_SECOND_IN_TS,a=function(s,u){typeof u.pts=="number"&&(s.timelineStartInfo.pts===void 0&&(s.timelineStartInfo.pts=u.pts),s.minSegmentPts===void 0?s.minSegmentPts=u.pts:s.minSegmentPts=Math.min(s.minSegmentPts,u.pts),s.maxSegmentPts===void 0?s.maxSegmentPts=u.pts:s.maxSegmentPts=Math.max(s.maxSegmentPts,u.pts)),typeof u.dts=="number"&&(s.timelineStartInfo.dts===void 0&&(s.timelineStartInfo.dts=u.dts),s.minSegmentDts===void 0?s.minSegmentDts=u.dts:s.minSegmentDts=Math.min(s.minSegmentDts,u.dts),s.maxSegmentDts===void 0?s.maxSegmentDts=u.dts:s.maxSegmentDts=Math.max(s.maxSegmentDts,u.dts))},i=function(s){delete s.minSegmentDts,delete s.maxSegmentDts,delete s.minSegmentPts,delete s.maxSegmentPts},o=function(s,u){var l,p,m=s.minSegmentDts;return u||(m-=s.timelineStartInfo.dts),l=s.timelineStartInfo.baseMediaDecodeTime,l+=m,l=Math.max(0,l),s.type==="audio"&&(p=s.samplerate/n,l*=p,l=Math.floor(l)),l};t.exports={clearDtsInfo:i,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:a}},{29:29}],22:[function(e,t,r){var n=e(31),a=e(18),i=e(16),o=e(13),s=e(21),u=e(9),l=e(29),p=e(3),m=e(4).H264Stream,f=e(1),h=e(2).isLikelyAacData,c=e(29).ONE_SECOND_IN_TS,d=e(5),y=e(6),g,v,E,A,D=function(_,P){var C;if(_.length!==P.length)return!1;for(C=0;C<_.length;C++)if(_[C]!==P[C])return!1;return!0},T=function(_,P,C,I,M,S){var R=C-P,b=I-P,k=M-C;return{start:{dts:_,pts:_+R},end:{dts:_+b,pts:_+k},prependedContentDuration:S,baseMediaDecodeTime:_}};v=function(_,P){var C=[],I=0,M=0,S=0,R=1/0;P=P||{},v.prototype.init.call(this),this.push=function(b){s.collectDtsInfo(_,b),_&&d.forEach(function(k){_[k]=b[k]}),C.push(b)},this.setEarliestDts=function(b){M=b},this.setVideoBaseMediaDecodeTime=function(b){R=b},this.setAudioAppendStart=function(b){S=b},this.flush=function(){var b,k,$,N,X;if(C.length===0){this.trigger("done","AudioSegmentStream");return}b=o.trimAdtsFramesByEarliestDts(C,_,M),_.baseMediaDecodeTime=s.calculateTrackBaseMediaDecodeTime(_,P.keepOriginalTimestamps),o.prefixWithSilence(_,b,S,R),_.samples=o.generateSampleTable(b),$=a.mdat(o.concatenateFrameData(b)),C=[],k=a.moof(I,[_]),N=new Uint8Array(k.byteLength+$.byteLength),I++,N.set(k),N.set($,k.byteLength),s.clearDtsInfo(_),X=Math.ceil(c*1024/_.samplerate),b.length&&this.trigger("timingInfo",{start:b[0].pts,end:b[0].pts+b.length*X}),this.trigger("data",{track:_,boxes:N}),this.trigger("done","AudioSegmentStream")},this.reset=function(){s.clearDtsInfo(_),C=[],this.trigger("reset")}},v.prototype=new n,g=function(_,P){var C=0,I=[],M=[],S,R;P=P||{},g.prototype.init.call(this),delete _.minPTS,this.gopCache_=[],this.push=function(b){s.collectDtsInfo(_,b),b.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=b.config,_.sps=[b.data],y.forEach(function(k){_[k]=S[k]},this)),b.nalUnitType==="pic_parameter_set_rbsp"&&!R&&(R=b.data,_.pps=[b.data]),I.push(b)},this.flush=function(){for(var b,k,$,N,X,G,Q=0,U,F;I.length&&I[0].nalUnitType!=="access_unit_delimiter_rbsp";)I.shift();if(I.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(b=i.groupNalsIntoFrames(I),$=i.groupFramesIntoGops(b),$[0][0].keyFrame||(k=this.getGopForFusion_(I[0],_),k?(Q=k.duration,$.unshift(k),$.byteLength+=k.byteLength,$.nalCount+=k.nalCount,$.pts=k.pts,$.dts=k.dts,$.duration+=k.duration):$=i.extendFirstKeyFrame($)),M.length){var ae;if(P.alignGopsAtEnd?ae=this.alignGopsAtEnd_($):ae=this.alignGopsAtStart_($),!ae){this.gopCache_.unshift({gop:$.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}s.clearDtsInfo(_),$=ae}s.collectDtsInfo(_,$),_.samples=i.generateSampleTable($),X=a.mdat(i.concatenateNalData($)),_.baseMediaDecodeTime=s.calculateTrackBaseMediaDecodeTime(_,P.keepOriginalTimestamps),this.trigger("processedGopsInfo",$.map(function(Z){return{pts:Z.pts,dts:Z.dts,byteLength:Z.byteLength}})),U=$[0],F=$[$.length-1],this.trigger("segmentTimingInfo",T(_.baseMediaDecodeTime,U.dts,U.pts,F.dts+F.duration,F.pts+F.duration,Q)),this.trigger("timingInfo",{start:$[0].pts,end:$[$.length-1].pts+$[$.length-1].duration}),this.gopCache_.unshift({gop:$.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),I=[],this.trigger("baseMediaDecodeTime",_.baseMediaDecodeTime),this.trigger("timelineStartInfo",_.timelineStartInfo),N=a.moof(C,[_]),G=new Uint8Array(N.byteLength+X.byteLength),C++,G.set(N),G.set(X,N.byteLength),this.trigger("data",{track:_,boxes:G}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),I=[],this.gopCache_.length=0,M.length=0,this.trigger("reset")},this.resetStream_=function(){s.clearDtsInfo(_),S=void 0,R=void 0},this.getGopForFusion_=function(b){var k=45e3,$=1e4,N=1/0,X,G,Q,U,F;for(F=0;F<this.gopCache_.length;F++)U=this.gopCache_[F],Q=U.gop,!(!(_.pps&&D(_.pps[0],U.pps[0]))||!(_.sps&&D(_.sps[0],U.sps[0])))&&(Q.dts<_.timelineStartInfo.dts||(X=b.dts-Q.dts-Q.duration,X>=-$&&X<=k&&(!G||N>X)&&(G=U,N=X)));return G?G.gop:null},this.alignGopsAtStart_=function(b){var k,$,N,X,G,Q,U,F;for(G=b.byteLength,Q=b.nalCount,U=b.duration,k=$=0;k<M.length&&$<b.length&&(N=M[k],X=b[$],N.pts!==X.pts);){if(X.pts>N.pts){k++;continue}$++,G-=X.byteLength,Q-=X.nalCount,U-=X.duration}return $===0?b:$===b.length?null:(F=b.slice($),F.byteLength=G,F.duration=U,F.nalCount=Q,F.pts=F[0].pts,F.dts=F[0].dts,F)},this.alignGopsAtEnd_=function(b){var k,$,N,X,G,Q;for(k=M.length-1,$=b.length-1,G=null,Q=!1;k>=0&&$>=0;){if(N=M[k],X=b[$],N.pts===X.pts){Q=!0;break}if(N.pts>X.pts){k--;continue}k===M.length-1&&(G=$),$--}if(!Q&&G===null)return null;var U;if(Q?U=$:U=G,U===0)return b;var F=b.slice(U),ae=F.reduce(function(Z,B){return Z.byteLength+=B.byteLength,Z.duration+=B.duration,Z.nalCount+=B.nalCount,Z},{byteLength:0,duration:0,nalCount:0});return F.byteLength=ae.byteLength,F.duration=ae.duration,F.nalCount=ae.nalCount,F.pts=F[0].pts,F.dts=F[0].dts,F},this.alignGopsWith=function(b){M=b}},g.prototype=new n,A=function(_,P){this.numberOfTracks=0,this.metadataStream=P,_=_||{},typeof _.remux<"u"?this.remuxTracks=!!_.remux:this.remuxTracks=!0,typeof _.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=_.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,A.prototype.init.call(this),this.push=function(C){if(C.text)return this.pendingCaptions.push(C);if(C.frames)return this.pendingMetadata.push(C);this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,C.track.type==="video"&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),C.track.type==="audio"&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))}},A.prototype=new n,A.prototype.flush=function(_){var P=0,C={captions:[],captionStreams:{},metadata:[],info:{}},I,M,S,R=0,b;if(this.pendingTracks.length<this.numberOfTracks){if(_!=="VideoSegmentStream"&&_!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,y.forEach(function(k){C.info[k]=this.videoTrack[k]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,d.forEach(function(k){C.info[k]=this.audioTrack[k]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?C.type=this.pendingTracks[0].type:C.type="combined",this.emittedTracks+=this.pendingTracks.length,S=a.initSegment(this.pendingTracks),C.initSegment=new Uint8Array(S.byteLength),C.initSegment.set(S),C.data=new Uint8Array(this.pendingBytes),b=0;b<this.pendingBoxes.length;b++)C.data.set(this.pendingBoxes[b],P),P+=this.pendingBoxes[b].byteLength;for(b=0;b<this.pendingCaptions.length;b++)I=this.pendingCaptions[b],I.startTime=l.metadataTsToSeconds(I.startPts,R,this.keepOriginalTimestamps),I.endTime=l.metadataTsToSeconds(I.endPts,R,this.keepOriginalTimestamps),C.captionStreams[I.stream]=!0,C.captions.push(I);for(b=0;b<this.pendingMetadata.length;b++)M=this.pendingMetadata[b],M.cueTime=l.metadataTsToSeconds(M.pts,R,this.keepOriginalTimestamps),C.metadata.push(M);for(C.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",C),b=0;b<C.captions.length;b++)I=C.captions[b],this.trigger("caption",I);for(b=0;b<C.metadata.length;b++)M=C.metadata[b],this.trigger("id3Frame",M)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},A.prototype.setRemux=function(_){this.remuxTracks=_},E=function(_){var P=this,C=!0,I,M;E.prototype.init.call(this),_=_||{},this.baseMediaDecodeTime=_.baseMediaDecodeTime||0,this.transmuxPipeline_={},a.setDuration(_.duration),this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new u.MetadataStream,S.aacStream=new f,S.audioTimestampRolloverStream=new u.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new u.TimestampRolloverStream("timed-metadata"),S.adtsStream=new p,S.coalesceStream=new A(_,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(R){S.aacStream.setTimestamp(R.timeStamp)}),S.aacStream.on("data",function(R){R.type!=="timed-metadata"&&R.type!=="audio"||S.audioSegmentStream||(M=M||{timelineStartInfo:{baseMediaDecodeTime:P.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new v(M,_),S.audioSegmentStream.on("timingInfo",P.trigger.bind(P,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),P.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!I}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new u.MetadataStream,S.packetStream=new u.TransportPacketStream,S.parseStream=new u.TransportParseStream,S.elementaryStream=new u.ElementaryStream,S.timestampRolloverStream=new u.TimestampRolloverStream,S.adtsStream=new p,S.h264Stream=new m,S.captionStream=new u.CaptionStream,S.coalesceStream=new A(_,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(R){var b;if(R.type==="metadata"){for(b=R.tracks.length;b--;)!I&&R.tracks[b].type==="video"?(I=R.tracks[b],I.timelineStartInfo.baseMediaDecodeTime=P.baseMediaDecodeTime):!M&&R.tracks[b].type==="audio"&&(M=R.tracks[b],M.timelineStartInfo.baseMediaDecodeTime=P.baseMediaDecodeTime);I&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new g(I,_),S.videoSegmentStream.on("timelineStartInfo",function(k){M&&!_.keepOriginalTimestamps&&(M.timelineStartInfo=k,S.audioSegmentStream.setEarliestDts(k.dts-P.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",P.trigger.bind(P,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",P.trigger.bind(P,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(k){M&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(k)}),S.videoSegmentStream.on("timingInfo",P.trigger.bind(P,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),M&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new v(M,_),S.audioSegmentStream.on("timingInfo",P.trigger.bind(P,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),P.trigger("trackinfo",{hasAudio:!!M,hasVideo:!!I})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(R){R.dispatchType=S.metadataStream.dispatchType,P.trigger("id3Frame",R)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(S){var R=this.transmuxPipeline_;_.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),M&&(M.timelineStartInfo.dts=void 0,M.timelineStartInfo.pts=void 0,s.clearDtsInfo(M),R.audioTimestampRolloverStream&&R.audioTimestampRolloverStream.discontinuity()),I&&(R.videoSegmentStream&&(R.videoSegmentStream.gopCache_=[]),I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,s.clearDtsInfo(I),R.captionStream.reset()),R.timestampRolloverStream&&R.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){M&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var R=this.transmuxPipeline_;_.remux=S,R&&R.coalesceStream&&R.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){I&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.push=function(S){if(C){var R=h(S);R&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!R&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},E.prototype=new n,t.exports={Transmuxer:E,VideoSegmentStream:g,AudioSegmentStream:v,AUDIO_PROPERTIES:d,VIDEO_PROPERTIES:y,generateVideoSegmentTimingInfo:T}},{1:1,13:13,16:16,18:18,2:2,21:21,29:29,3:3,31:31,4:4,5:5,6:6,9:9}],23:[function(e,t,r){var n=4,a=128,i=function(l){for(var p=0,m={payloadType:-1,payloadSize:0},f=0,h=0;p<l.byteLength&&l[p]!==a;){for(;l[p]===255;)f+=255,p++;for(f+=l[p++];l[p]===255;)h+=255,p++;if(h+=l[p++],!m.payload&&f===n){var c=String.fromCharCode(l[p+3],l[p+4],l[p+5],l[p+6]);if(c==="GA94"){m.payloadType=f,m.payloadSize=h,m.payload=l.subarray(p,p+h);break}else m.payload=void 0}p+=h,f=0,h=0}return m},o=function(l){return l.payload[0]!==181||(l.payload[1]<<8|l.payload[2])!==49||String.fromCharCode(l.payload[3],l.payload[4],l.payload[5],l.payload[6])!=="GA94"||l.payload[7]!==3?null:l.payload.subarray(8,l.payload.length-1)},s=function(l,p){var m=[],f,h,c,d;if(!(p[0]&64))return m;for(h=p[0]&31,f=0;f<h;f++)c=f*3,d={type:p[c+2]&3,pts:l},p[c+2]&4&&(d.ccData=p[c+3]<<8|p[c+4],m.push(d));return m},u=function(l){for(var p=l.byteLength,m=[],f=1,h,c;f<p-2;)l[f]===0&&l[f+1]===0&&l[f+2]===3?(m.push(f+2),f+=2):f++;if(m.length===0)return l;h=p-m.length,c=new Uint8Array(h);var d=0;for(f=0;f<h;d++,f++)d===m[0]&&(d++,m.shift()),c[f]=l[d];return c};t.exports={parseSei:i,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:u,USER_DATA_REGISTERED_ITU_T_T35:n}},{}],24:[function(e,t,r){var n=function(a){return{isLeading:(a[0]&12)>>>2,dependsOn:a[0]&3,isDependedOn:(a[1]&192)>>>6,hasRedundancy:(a[1]&48)>>>4,paddingValue:(a[1]&14)>>>1,isNonSyncSample:a[1]&1,degradationPriority:a[2]<<8|a[3]}};t.exports=n},{}],25:[function(e,t,r){var n=e(28).toUnsigned,a=function(i){var o={version:i[0],flags:new Uint8Array(i.subarray(1,4)),baseMediaDecodeTime:n(i[4]<<24|i[5]<<16|i[6]<<8|i[7])};return o.version===1&&(o.baseMediaDecodeTime*=Math.pow(2,32),o.baseMediaDecodeTime+=n(i[8]<<24|i[9]<<16|i[10]<<8|i[11])),o};t.exports=a},{28:28}],26:[function(e,t,r){var n=function(a){var i=new DataView(a.buffer,a.byteOffset,a.byteLength),o={version:a[0],flags:new Uint8Array(a.subarray(1,4)),trackId:i.getUint32(4)},s=o.flags[2]&1,u=o.flags[2]&2,l=o.flags[2]&8,p=o.flags[2]&16,m=o.flags[2]&32,f=o.flags[0]&65536,h=o.flags[0]&131072,c;return c=8,s&&(c+=4,o.baseDataOffset=i.getUint32(12),c+=4),u&&(o.sampleDescriptionIndex=i.getUint32(c),c+=4),l&&(o.defaultSampleDuration=i.getUint32(c),c+=4),p&&(o.defaultSampleSize=i.getUint32(c),c+=4),m&&(o.defaultSampleFlags=i.getUint32(c)),f&&(o.durationIsEmpty=!0),!s&&h&&(o.baseDataOffsetIsMoof=!0),o};t.exports=n},{}],27:[function(e,t,r){var n=e(24),a=function(i){var o={version:i[0],flags:new Uint8Array(i.subarray(1,4)),samples:[]},s=new DataView(i.buffer,i.byteOffset,i.byteLength),u=o.flags[2]&1,l=o.flags[2]&4,p=o.flags[1]&1,m=o.flags[1]&2,f=o.flags[1]&4,h=o.flags[1]&8,c=s.getUint32(4),d=8,y;for(u&&(o.dataOffset=s.getInt32(d),d+=4),l&&c&&(y={flags:n(i.subarray(d,d+4))},d+=4,p&&(y.duration=s.getUint32(d),d+=4),m&&(y.size=s.getUint32(d),d+=4),h&&(o.version===1?y.compositionTimeOffset=s.getInt32(d):y.compositionTimeOffset=s.getUint32(d),d+=4),o.samples.push(y),c--);c--;)y={},p&&(y.duration=s.getUint32(d),d+=4),m&&(y.size=s.getUint32(d),d+=4),f&&(y.flags=n(i.subarray(d,d+4)),d+=4),h&&(o.version===1?y.compositionTimeOffset=s.getInt32(d):y.compositionTimeOffset=s.getUint32(d),d+=4),o.samples.push(y);return o};t.exports=a},{24:24}],28:[function(e,t,r){var n=function(i){return i>>>0},a=function(i){return("00"+i.toString(16)).slice(-2)};t.exports={toUnsigned:n,toHexString:a}},{}],29:[function(e,t,r){var n=9e4,a,i,o,s,u,l,p;a=function(m){return m*n},i=function(m,f){return m*f},o=function(m){return m/n},s=function(m,f){return m/f},u=function(m,f){return a(s(m,f))},l=function(m,f){return i(o(m),f)},p=function(m,f,h){return o(h?m:m-f)},t.exports={ONE_SECOND_IN_TS:n,secondsToVideoTs:a,secondsToAudioTs:i,videoTsToSeconds:o,audioTsToSeconds:s,audioTsToVideoTs:u,videoTsToAudioTs:l,metadataTsToSeconds:p}},{}],30:[function(e,t,r){var n;n=function(a){var i=a.byteLength,o=0,s=0;this.length=function(){return 8*i},this.bitsAvailable=function(){return 8*i+s},this.loadWord=function(){var u=a.byteLength-i,l=new Uint8Array(4),p=Math.min(4,i);if(p===0)throw new Error("no bytes available");l.set(a.subarray(u,u+p)),o=new DataView(l.buffer).getUint32(0),s=p*8,i-=p},this.skipBits=function(u){var l;s>u?(o<<=u,s-=u):(u-=s,l=Math.floor(u/8),u-=l*8,i-=l,this.loadWord(),o<<=u,s-=u)},this.readBits=function(u){var l=Math.min(s,u),p=o>>>32-l;return s-=l,s>0?o<<=l:i>0&&this.loadWord(),l=u-l,l>0?p<<l|this.readBits(l):p},this.skipLeadingZeros=function(){var u;for(u=0;u<s;++u)if(o&2147483648>>>u)return o<<=u,s-=u,u;return this.loadWord(),u+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var u=this.skipLeadingZeros();return this.readBits(u+1)-1},this.readExpGolomb=function(){var u=this.readUnsignedExpGolomb();return 1&u?1+u>>>1:-1*(u>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{}],31:[function(e,t,r){var n=function(){this.init=function(){var a={};this.on=function(i,o){a[i]||(a[i]=[]),a[i]=a[i].concat(o)},this.off=function(i,o){var s;return a[i]?(s=a[i].indexOf(o),a[i]=a[i].slice(),a[i].splice(s,1),s>-1):!1},this.trigger=function(i){var o,s,u,l;if(o=a[i],!!o)if(arguments.length===2)for(u=o.length,s=0;s<u;++s)o[s].call(this,arguments[1]);else{for(l=[],s=arguments.length,s=1;s<arguments.length;++s)l.push(arguments[s]);for(u=o.length,s=0;s<u;++s)o[s].apply(this,l)}},this.dispose=function(){a={}}}};n.prototype.pipe=function(a){return this.on("data",function(i){a.push(i)}),this.on("done",function(i){a.flush(i)}),this.on("partialdone",function(i){a.partialFlush(i)}),this.on("endedtimeline",function(i){a.endTimeline(i)}),this.on("reset",function(i){a.reset(i)}),a},n.prototype.push=function(a){this.trigger("data",a)},n.prototype.flush=function(a){this.trigger("done",a)},n.prototype.partialFlush=function(a){this.trigger("partialdone",a)},n.prototype.endTimeline=function(a){this.trigger("endedtimeline",a)},n.prototype.reset=function(a){this.trigger("reset",a)},t.exports=n},{}]},{},[17])(17)});function bd(e){return new Worker("/assets/ffmpeg-worker-mp4-PhgkZYyd.js",{name:e==null?void 0:e.name})}const $i=fi(),wd=e=>$i.emit("updateStatus",e),Er=e=>{console.log("Process Percentage:"+e),$i.emit("updateDlProcess",e)},ni=e=>$i.emit("showDlProcess",e),Ed=JSON.parse(localStorage.getItem("session")||"{}"),Ad=It.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:Ed.token},onDownloadProgress(e){const{loaded:t,total:r}=e;if(t&&r){let n=Math.round(t*100/r);Er(n)}}}),gt=It.create({timeout:1e3*60*30});nr(gt,{retries:3,retryCondition:e=>e.code==="ECONNABORTED"});nr(Ad);class Os{constructor(t,r=0,n=0){Le(this,"url","");Le(this,"path","");Le(this,"search","");Le(this,"width",0);Le(this,"height",0);Le(this,"currentFileSize",0);Le(this,"totalFileSize",0);Le(this,"duration",0);this.url=t,this.path=t.substring(0,t.lastIndexOf("/")+1),this.search=new URL(t).search,this.width=r,this.height=n}async getFileSize(t){const r=await gt.head(t);return parseInt(r.headers["content-length"])}matchResolutionCategory(){const t=[270,360,480,720,1080,1440,2160,4320],r=this.width;for(let n=0;n<t.length-1;n++){const a=t[n],i=t[n+1];if(r>=a&&r<i)return t.slice(0,n+1)}return[]}resolveUrlWithCategory(){const t=this.matchResolutionCategory(),[r,n]=this.url.split("?"),a=r.substring(0,r.lastIndexOf("/")+1),i=r.substring(r.lastIndexOf("/")+1),[o,s]=i.split(".");return t.map(u=>`${o}_${u}.${s}`).map(u=>`${a}${u}?${n}`)}}class Sd extends Os{constructor(r,n,a){super(r,n,a);Le(this,"manifestMap",new Map)}async download(){let{manifest:r,isVaild:n}=await this.getCheckedManifest(this.url);if(!n){const o=this.resolveUrlWithCategory();let s=!1;for(;o.length>0&&!s;){const u=o.pop();try{const{manifest:l,isVaild:p}=await this.getCheckedManifest(u);p&&(r=l,s=!0)}catch{console.log(`Resolution ${u} is not valid`)}}if(!s){console.log(`All resolution is not valid: ${this.url}`);return}}let a=r.segments.map(o=>({...o,uri:this.path+o.uri+this.search}));if(r.segments.length===0&&r.playlists.length>0){const o=await this.getBestPlaylist(r),s=this.path+o.uri+this.search,{manifest:u,isVaild:l}=await this.getCheckedManifest(s);l&&(a=u.segments.map(p=>({...p,uri:this.path+p.uri+this.search})))}await Promise.all(a.map(async o=>{const s=await gt.head(o.uri);this.duration+=o.duration,this.totalFileSize+=parseInt(s.headers["content-length"])})),ni("Downloading HLS video");const i=new Array(a.length);return await _i.PromisePool.withConcurrency(5).for(a).process(async(o,s)=>{const u=await gt.get(o.uri,{responseType:"arraybuffer",onDownloadProgress:p=>{this.currentFileSize+=p.bytes;const m=parseFloat((this.currentFileSize*100/this.totalFileSize).toFixed(2));Er(m)}}),l=new window.muxjs.Transmuxer({keepOriginalTimestamps:!0,duration:this.duration});l.on("data",p=>{if(s==0){let m=new Uint8Array(p.initSegment.byteLength+p.data.byteLength);m.set(p.initSegment,0),m.set(p.data,p.initSegment.byteLength),i[s]=m.buffer}else i[s]=new Uint8Array(p.data)}),l.push(new Uint8Array(u.data)),l.flush()}),new Blob(i,{type:"video/mp4"})}async getCheckedManifest(r){if(r=r||this.url,this.manifestMap.has(r))return this.manifestMap.get(r);const n=await this.getManifest(r);let a=!0;return(!n.segments||!n.playlists&&n.segments.length===0)&&(a=!1),this.manifestMap.set(r,{isVaild:a,manifest:n}),{isVaild:a,manifest:n}}async getManifest(r){return gt.get(r).then(n=>{const a=new jc;return a.push(n.data),a.end(),a.manifest})}async getBestPlaylist(r){const n=r.playlists;let a=n[0];for(let i=1;i<n.length;i++){const o=n[i];o.attributes.RESOLUTION.width>a.attributes.RESOLUTION.width&&(a=o)}return a}}class Dd extends Os{constructor(t,r,n){super(t,r,n)}async download(){ni("Downloading HLS video");const t=await this.getManifest(this.url);console.log(t);const n=(await this.getBestPlaylist(t)).map(u=>u.resolvedUri+this.search);await Promise.all(n.map(async u=>{const l=await gt.head(u);this.totalFileSize+=parseInt(l.headers["content-length"])}));const a=new Array(n.length);await _i.PromisePool.withConcurrency(5).for(n).process(async(u,l)=>{const p=await gt.get(u,{responseType:"arraybuffer",onDownloadProgress:m=>{this.currentFileSize+=m.bytes;const f=parseFloat((this.currentFileSize*100/this.totalFileSize).toFixed(2));Er(f)}});a[l]=new Uint8Array(p.data)});const[i,o]=a;if(!o)return new Blob([i],{type:"video/mp4"});const s=await this.mergeAudioAndVideo(i,o);return s?new Blob([s],{type:"video/mp4"}):new Blob}mergeAudioAndVideo(t,r){const n=this.totalFileSize;return new Promise((a,i)=>{const o=new bd;let s=t.buffer,u=r.buffer,l;o.onmessage=p=>{const m=p.data,f=/size=\s*(\d+)kB/;switch(m.type){case"ready":o.postMessage({type:"run",arguments:["-i","video.mp4","-i","audio.mp4","-c:v","copy","-c:a","aac","-map","0:v","-map","1:a","output.mp4"],MEMFS:[{name:"video.mp4",data:s},{name:"audio.mp4",data:u}]},[s,u]),wd("Merging Video and Audio"),ni("Merging Video and Audio");break;case"stdout":if(l=m.data.match(f),l){const d=parseInt(l[1])*1024,y=parseInt((d*100/n).toFixed(2));console.log("sendToUpdateProcess"),Er(y)}break;case"stderr":if(l=m.data.match(f),l){const d=parseInt(l[1])*1024,y=parseInt((d*100/n).toFixed(2));console.log("sendToUpdateProcess"),Er(y)}break;case"exit":console.log("Process exited with code "+m.data);break;case"done":console.log("Done",m.data);const h=m.data.MEMFS.find(c=>c.name==="output.mp4");o.terminate(),a(h==null?void 0:h.data);break}}})}async getCheckedManifest(t){return{isVaild:!0,manifest:await this.getManifest(t||this.url)}}async getManifest(t){return gt.get(t).then(r=>vd(r.data,{manifestUri:t}))}async getBestPlaylist(t){const r=t.playlists,a=(p=>{let m=p[0];for(let f=1;f<p.length;f++){const h=p[f];h.attributes.RESOLUTION.width>m.attributes.RESOLUTION.width&&(m=h)}return m})(r),i=t.mediaGroups.AUDIO.audio;if(!i)return[a];const o=Object.keys(i)[0],l=i[o].playlists[0];return[a,l]}}const In=fi(),He=e=>In.emit("updateStatus",e),_d=e=>{In.emit("updateDlProcess",e)},Td=e=>In.emit("showDlProcess",e),Cd=()=>In.emit("hideDlProcess"),Od=JSON.parse(localStorage.getItem("session")||"{}"),Id=new AbortController,Is=It.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:Od.token},onDownloadProgress(e){const{loaded:t,total:r}=e;if(t&&r){let n=Math.round(t*100/r);_d(n)}},signal:Id.signal}),xd=It.create({timeout:1e3*60*30});nr(xd,{retries:3,retryCondition:e=>e.code==="ECONNABORTED"});nr(Is);const Ar=(e,t)=>chrome.downloads.download({url:e,filename:t});class Rd{constructor(){Le(this,"jszip");Le(this,"totalFileSize");Le(this,"zipCount");this.jszip=new Rn,this.totalFileSize=0,this.zipCount=0}async addFile(t,r){He(`Downloading ${r}`);const{headers:n}=await It.head(t),a=n["content-length"];if(parseInt(a)>1024*1024*1024)return Ar(t,r);if(this.totalFileSize+parseInt(a)>1024*1024*1024*2){He("Too large data, download in packages."),this.zipCount++;const o=await this.jszip.generateAsync({type:"blob"});Pn.saveAs(o,`FanslyDownloader-${this.zipCount}.zip`),this.jszip=new Rn,this.totalFileSize=0;return}Td(r);const i=await Is.get(t);this.jszip.file(r,i.data),this.totalFileSize+=parseInt(a)}async addBlob(t,r){if(t.size>1024*1024*1024){const n=URL.createObjectURL(t);return Ar(n,r)}if(this.totalFileSize+t.size>1024*1024*1024*2){He("Too large data, download in packages."),this.zipCount++;const n=await this.jszip.generateAsync({type:"blob"});Pn.saveAs(n,`FanslyDownloader-${this.zipCount}.zip`),this.jszip=new Rn,this.totalFileSize=0;return}this.jszip.file(r,t),this.totalFileSize+=t.size}async download(){if(this.totalFileSize===0){He("No files downloaded.");return}else{He("Waitting for the generated .zip file...");const t=await this.jszip.generateAsync({type:"blob"});Pn.saveAs(t,this.zipCount===0?"FanslyDownloader.zip":`FanslyDownloader-${this.zipCount++}.zip`)}}}const qt=new Rd;async function vn(e,t){if(e=e.filter((o,s,u)=>s===u.findIndex(l=>l.url===o.url)),e.length===0)return;const{isZipPackage:r,isCollectPostInfo:n}=t;let a=0;const i=e.length;if(n){const o=[];for(const s of e)if(s.postInfo){const{id:u,username:l,content:p,createdAt:m,likeCount:f,mediaLikeCount:h}=s.postInfo;if(!o.includes(u)){const c=`${l.trimStart().trimEnd()}/${nn(m)}_${u}/info.txt`,y=[`Post ID: ${u}`,`Username: ${l}`,`Content: ${p}`,`Like Count: ${f}`,`Media Like Count: ${h}`,`Post Time: ${za(m)}`,`Created Time: ${za(Date.now())}`].join(`
`),g=new Blob([y],{type:"text/plain"});if(o.push(u),s.postInfo)if(r)qt.jszip.file(c,g);else{const v=URL.createObjectURL(g);Ar(v,c)}}}}for(const o of e){const{url:s,username:u,type:l,createdAt:p,width:m,height:f,postInfo:h}=o,[c,d]=new URL(s).pathname.split("/").pop().split("."),y=[u.trimStart().trimEnd(),l];n?(h?y.splice(1,0,nn(h.createdAt)+"_"+h.id):y.splice(1,0,nn(p)+"_message"),y.push(`${m}x${f}_${c}.${d}`)):y.push(`${nn(p)}_${m}x${f}_${c}.${d}`);let g=y.join("/");if(l=="HLS"){const{origin:v,pathname:E,search:A}=new URL(s);v+E.split("/").slice(0,-1).join("/")+"";const D=d=="mpd"?new Dd(s,m,f):new Sd(s,m,f),T=g.replace(`.${d}`,".mp4");He(`Downloading ${T}`);const _=await D.download();if(!_)He("Invalid HLS manifest."),a++,He(`Downloaded ${a} of ${i} files`);else{if(r)await qt.addBlob(_,T);else{const P=URL.createObjectURL(_);Ar(P,T)}a++,He(`Downloaded ${a} of ${i} files`)}}else a++,He(`Downloading ${g}`),r?await qt.addFile(s,g):Ar(s,g),He(`Downloaded ${a} of ${i} files`)}Cd()}function nn(e){e.toString().length===10&&(e*=1e3);const t=new Date(e),r=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return`${r}-${n}-${a}`}function za(e){return e.toString().length===10&&(e*=1e3),new Date(e).toLocaleString()}var Pd=Error,Nd=EvalError,Bd=RangeError,kd=ReferenceError,xs=SyntaxError,Xr=TypeError,Fd=URIError,Ld=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==a||o.enumerable!==!0)return!1}return!0},$a=typeof Symbol<"u"&&Symbol,Ud=Ld,Md=function(){return typeof $a!="function"||typeof Symbol!="function"||typeof $a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ud()},Ln={__proto__:null,foo:{}},zd=Object,$d=function(){return{__proto__:Ln}.foo===Ln.foo&&!(Ln instanceof zd)},qd="Function.prototype.bind called on incompatible ",Gd=Object.prototype.toString,Hd=Math.max,jd="[object Function]",qa=function(t,r){for(var n=[],a=0;a<t.length;a+=1)n[a]=t[a];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},Vd=function(t,r){for(var n=[],a=r,i=0;a<t.length;a+=1,i+=1)n[i]=t[a];return n},Wd=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},Xd=function(t){var r=this;if(typeof r!="function"||Gd.apply(r)!==jd)throw new TypeError(qd+r);for(var n=Vd(arguments,1),a,i=function(){if(this instanceof a){var p=r.apply(this,qa(n,arguments));return Object(p)===p?p:this}return r.apply(t,qa(n,arguments))},o=Hd(0,r.length-n.length),s=[],u=0;u<o;u++)s[u]="$"+u;if(a=Function("binder","return function ("+Wd(s,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,a.prototype=new l,l.prototype=null}return a},Yd=Xd,qi=Function.prototype.bind||Yd,Zd=Function.prototype.call,Kd=Object.prototype.hasOwnProperty,Jd=qi,Qd=Jd.call(Zd,Kd),ce,ep=Pd,tp=Nd,rp=Bd,np=kd,er=xs,Gt=Xr,ip=Fd,Rs=Function,Un=function(e){try{return Rs('"use strict"; return ('+e+").constructor;")()}catch{}},St=Object.getOwnPropertyDescriptor;if(St)try{St({},"")}catch{St=null}var Mn=function(){throw new Gt},ap=St?function(){try{return arguments.callee,Mn}catch{try{return St(arguments,"callee").get}catch{return Mn}}}():Mn,Ft=Md(),op=$d(),Se=Object.getPrototypeOf||(op?function(e){return e.__proto__}:null),Mt={},sp=typeof Uint8Array>"u"||!Se?ce:Se(Uint8Array),Dt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ce:ArrayBuffer,"%ArrayIteratorPrototype%":Ft&&Se?Se([][Symbol.iterator]()):ce,"%AsyncFromSyncIteratorPrototype%":ce,"%AsyncFunction%":Mt,"%AsyncGenerator%":Mt,"%AsyncGeneratorFunction%":Mt,"%AsyncIteratorPrototype%":Mt,"%Atomics%":typeof Atomics>"u"?ce:Atomics,"%BigInt%":typeof BigInt>"u"?ce:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ce:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ce:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ep,"%eval%":eval,"%EvalError%":tp,"%Float32Array%":typeof Float32Array>"u"?ce:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ce:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ce:FinalizationRegistry,"%Function%":Rs,"%GeneratorFunction%":Mt,"%Int8Array%":typeof Int8Array>"u"?ce:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ce:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ft&&Se?Se(Se([][Symbol.iterator]())):ce,"%JSON%":typeof JSON=="object"?JSON:ce,"%Map%":typeof Map>"u"?ce:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ft||!Se?ce:Se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ce:Promise,"%Proxy%":typeof Proxy>"u"?ce:Proxy,"%RangeError%":rp,"%ReferenceError%":np,"%Reflect%":typeof Reflect>"u"?ce:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ce:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ft||!Se?ce:Se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ft&&Se?Se(""[Symbol.iterator]()):ce,"%Symbol%":Ft?Symbol:ce,"%SyntaxError%":er,"%ThrowTypeError%":ap,"%TypedArray%":sp,"%TypeError%":Gt,"%Uint8Array%":typeof Uint8Array>"u"?ce:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ce:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ce:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ce:Uint32Array,"%URIError%":ip,"%WeakMap%":typeof WeakMap>"u"?ce:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ce:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ce:WeakSet};if(Se)try{null.error}catch(e){var up=Se(Se(e));Dt["%Error.prototype%"]=up}var lp=function e(t){var r;if(t==="%AsyncFunction%")r=Un("async function () {}");else if(t==="%GeneratorFunction%")r=Un("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Un("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&Se&&(r=Se(a.prototype))}return Dt[t]=r,r},Ga={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yr=qi,bn=Qd,cp=Yr.call(Function.call,Array.prototype.concat),fp=Yr.call(Function.apply,Array.prototype.splice),Ha=Yr.call(Function.call,String.prototype.replace),wn=Yr.call(Function.call,String.prototype.slice),dp=Yr.call(Function.call,RegExp.prototype.exec),pp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hp=/\\(\\)?/g,mp=function(t){var r=wn(t,0,1),n=wn(t,-1);if(r==="%"&&n!=="%")throw new er("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new er("invalid intrinsic syntax, expected opening `%`");var a=[];return Ha(t,pp,function(i,o,s,u){a[a.length]=s?Ha(u,hp,"$1"):o||i}),a},gp=function(t,r){var n=t,a;if(bn(Ga,n)&&(a=Ga[n],n="%"+a[0]+"%"),bn(Dt,n)){var i=Dt[n];if(i===Mt&&(i=lp(n)),typeof i>"u"&&!r)throw new Gt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:i}}throw new er("intrinsic "+t+" does not exist!")},ir=function(t,r){if(typeof t!="string"||t.length===0)throw new Gt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Gt('"allowMissing" argument must be a boolean');if(dp(/^%?[^%]*%?$/,t)===null)throw new er("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=mp(t),a=n.length>0?n[0]:"",i=gp("%"+a+"%",r),o=i.name,s=i.value,u=!1,l=i.alias;l&&(a=l[0],fp(n,cp([0,1],l)));for(var p=1,m=!0;p<n.length;p+=1){var f=n[p],h=wn(f,0,1),c=wn(f,-1);if((h==='"'||h==="'"||h==="`"||c==='"'||c==="'"||c==="`")&&h!==c)throw new er("property names with quotes must have matching quotes");if((f==="constructor"||!m)&&(u=!0),a+="."+f,o="%"+a+"%",bn(Dt,o))s=Dt[o];else if(s!=null){if(!(f in s)){if(!r)throw new Gt("base intrinsic for "+t+" exists, but the property is not available.");return}if(St&&p+1>=n.length){var d=St(s,f);m=!!d,m&&"get"in d&&!("originalValue"in d.get)?s=d.get:s=s[f]}else m=bn(s,f),s=s[f];m&&!u&&(Dt[o]=s)}}return s},Ps={exports:{}},zn,ja;function Gi(){if(ja)return zn;ja=1;var e=ir,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return zn=t,zn}var yp=ir,ln=yp("%Object.getOwnPropertyDescriptor%",!0);if(ln)try{ln([],"length")}catch{ln=null}var Ns=ln,Va=Gi(),vp=xs,Lt=Xr,Wa=Ns,bp=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Lt("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Lt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Lt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Lt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Lt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Lt("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!Wa&&Wa(t,r);if(Va)Va(t,r,{configurable:o===null&&u?u.configurable:!o,enumerable:a===null&&u?u.enumerable:!a,value:n,writable:i===null&&u?u.writable:!i});else if(s||!a&&!i&&!o)t[r]=n;else throw new vp("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ii=Gi(),Bs=function(){return!!ii};Bs.hasArrayLengthDefineBug=function(){if(!ii)return null;try{return ii([],"length",{value:1}).length!==1}catch{return!0}};var wp=Bs,Ep=ir,Xa=bp,Ap=wp(),Ya=Ns,Za=Xr,Sp=Ep("%Math.floor%"),Dp=function(t,r){if(typeof t!="function")throw new Za("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Sp(r)!==r)throw new Za("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,i=!0;if("length"in t&&Ya){var o=Ya(t,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(i=!1)}return(a||i||!n)&&(Ap?Xa(t,"length",r,!0,!0):Xa(t,"length",r)),t};(function(e){var t=qi,r=ir,n=Dp,a=Xr,i=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(o,i),u=Gi(),l=r("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new a("a function is required");var h=s(t,o,arguments);return n(h,1+l(0,f.length-(arguments.length-1)),!0)};var p=function(){return s(t,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p})(Ps);var _p=Ps.exports,ks=ir,Fs=_p,Tp=Fs(ks("String.prototype.indexOf")),Cp=function(t,r){var n=ks(t,!!r);return typeof n=="function"&&Tp(t,".prototype.")>-1?Fs(n):n};const Op={},Ip=Object.freeze(Object.defineProperty({__proto__:null,default:Op},Symbol.toStringTag,{value:"Module"})),xp=Tu(Ip);var Hi=typeof Map=="function"&&Map.prototype,$n=Object.getOwnPropertyDescriptor&&Hi?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,En=Hi&&$n&&typeof $n.get=="function"?$n.get:null,Ka=Hi&&Map.prototype.forEach,ji=typeof Set=="function"&&Set.prototype,qn=Object.getOwnPropertyDescriptor&&ji?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,An=ji&&qn&&typeof qn.get=="function"?qn.get:null,Ja=ji&&Set.prototype.forEach,Rp=typeof WeakMap=="function"&&WeakMap.prototype,Sr=Rp?WeakMap.prototype.has:null,Pp=typeof WeakSet=="function"&&WeakSet.prototype,Dr=Pp?WeakSet.prototype.has:null,Np=typeof WeakRef=="function"&&WeakRef.prototype,Qa=Np?WeakRef.prototype.deref:null,Bp=Boolean.prototype.valueOf,kp=Object.prototype.toString,Fp=Function.prototype.toString,Lp=String.prototype.match,Vi=String.prototype.slice,ht=String.prototype.replace,Up=String.prototype.toUpperCase,eo=String.prototype.toLowerCase,Ls=RegExp.prototype.test,to=Array.prototype.concat,Ze=Array.prototype.join,Mp=Array.prototype.slice,ro=Math.floor,ai=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Gn=Object.getOwnPropertySymbols,oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,tr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===tr||!0)?Symbol.toStringTag:null,Us=Object.prototype.propertyIsEnumerable,no=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function io(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Ls.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-ro(-e):ro(e);if(n!==e){var a=String(n),i=Vi.call(t,a.length+1);return ht.call(a,r,"$&_")+"."+ht.call(ht.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ht.call(t,r,"$&_")}var si=xp,ao=si.custom,oo=zs(ao)?ao:null,zp=function e(t,r,n,a){var i=r||{};if(pt(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pt(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=pt(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pt(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pt(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return qs(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?io(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?io(t,l):l}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof t=="object")return ui(t)?"[Array]":"[Object]";var m=ih(i,n);if(typeof a>"u")a=[];else if($s(a,t)>=0)return"[Circular]";function f(R,b,k){if(b&&(a=Mp.call(a),a.push(b)),k){var $={depth:i.depth};return pt(i,"quoteStyle")&&($.quoteStyle=i.quoteStyle),e(R,$,n+1,a)}return e(R,i,n+1,a)}if(typeof t=="function"&&!so(t)){var h=Yp(t),c=an(t,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(c.length>0?" { "+Ze.call(c,", ")+" }":"")}if(zs(t)){var d=tr?ht.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):oi.call(t);return typeof t=="object"&&!tr?mr(d):d}if(th(t)){for(var y="<"+eo.call(String(t.nodeName)),g=t.attributes||[],v=0;v<g.length;v++)y+=" "+g[v].name+"="+Ms($p(g[v].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+eo.call(String(t.nodeName))+">",y}if(ui(t)){if(t.length===0)return"[]";var E=an(t,f);return m&&!nh(E)?"["+li(E,m)+"]":"[ "+Ze.call(E,", ")+" ]"}if(Gp(t)){var A=an(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!Us.call(t,"cause")?"{ ["+String(t)+"] "+Ze.call(to.call("[cause]: "+f(t.cause),A),", ")+" }":A.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Ze.call(A,", ")+" }"}if(typeof t=="object"&&o){if(oo&&typeof t[oo]=="function"&&si)return si(t,{depth:p-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Zp(t)){var D=[];return Ka&&Ka.call(t,function(R,b){D.push(f(b,t,!0)+" => "+f(R,t))}),uo("Map",En.call(t),D,m)}if(Qp(t)){var T=[];return Ja&&Ja.call(t,function(R){T.push(f(R,t))}),uo("Set",An.call(t),T,m)}if(Kp(t))return Hn("WeakMap");if(eh(t))return Hn("WeakSet");if(Jp(t))return Hn("WeakRef");if(jp(t))return mr(f(Number(t)));if(Wp(t))return mr(f(ai.call(t)));if(Vp(t))return mr(Bp.call(t));if(Hp(t))return mr(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Ce<"u"&&t===Ce)return"{ [object globalThis] }";if(!qp(t)&&!so(t)){var _=an(t,f),P=no?no(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",I=!P&&Ie&&Object(t)===t&&Ie in t?Vi.call(wt(t),8,-1):C?"Object":"",M=P||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",S=M+(I||C?"["+Ze.call(to.call([],I||[],C||[]),": ")+"] ":"");return _.length===0?S+"{}":m?S+"{"+li(_,m)+"}":S+"{ "+Ze.call(_,", ")+" }"}return String(t)};function Ms(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function $p(e){return ht.call(String(e),/"/g,"&quot;")}function ui(e){return wt(e)==="[object Array]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function qp(e){return wt(e)==="[object Date]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function so(e){return wt(e)==="[object RegExp]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function Gp(e){return wt(e)==="[object Error]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function Hp(e){return wt(e)==="[object String]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function jp(e){return wt(e)==="[object Number]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function Vp(e){return wt(e)==="[object Boolean]"&&(!Ie||!(typeof e=="object"&&Ie in e))}function zs(e){if(tr)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!oi)return!1;try{return oi.call(e),!0}catch{}return!1}function Wp(e){if(!e||typeof e!="object"||!ai)return!1;try{return ai.call(e),!0}catch{}return!1}var Xp=Object.prototype.hasOwnProperty||function(e){return e in this};function pt(e,t){return Xp.call(e,t)}function wt(e){return kp.call(e)}function Yp(e){if(e.name)return e.name;var t=Lp.call(Fp.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function $s(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Zp(e){if(!En||!e||typeof e!="object")return!1;try{En.call(e);try{An.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Kp(e){if(!Sr||!e||typeof e!="object")return!1;try{Sr.call(e,Sr);try{Dr.call(e,Dr)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Jp(e){if(!Qa||!e||typeof e!="object")return!1;try{return Qa.call(e),!0}catch{}return!1}function Qp(e){if(!An||!e||typeof e!="object")return!1;try{An.call(e);try{En.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function eh(e){if(!Dr||!e||typeof e!="object")return!1;try{Dr.call(e,Dr);try{Sr.call(e,Sr)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function th(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function qs(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return qs(Vi.call(e,0,t.maxStringLength),t)+n}var a=ht.call(ht.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rh);return Ms(a,"single",t)}function rh(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Up.call(t.toString(16))}function mr(e){return"Object("+e+")"}function Hn(e){return e+" { ? }"}function uo(e,t,r,n){var a=n?li(r,n):Ze.call(r,", ");return e+" ("+t+") {"+a+"}"}function nh(e){for(var t=0;t<e.length;t++)if($s(e[t],`
`)>=0)return!1;return!0}function ih(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Ze.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Ze.call(Array(t+1),r)}}function li(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Ze.call(e,","+r)+`
`+t.prev}function an(e,t){var r=ui(e),n=[];if(r){n.length=e.length;for(var a=0;a<e.length;a++)n[a]=pt(e,a)?t(e[a],e):""}var i=typeof Gn=="function"?Gn(e):[],o;if(tr){o={};for(var s=0;s<i.length;s++)o["$"+i[s]]=i[s]}for(var u in e)pt(e,u)&&(r&&String(Number(u))===u&&u<e.length||tr&&o["$"+u]instanceof Symbol||(Ls.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof Gn=="function")for(var l=0;l<i.length;l++)Us.call(e,i[l])&&n.push("["+t(i[l])+"]: "+t(e[i[l]],e));return n}var Gs=ir,ar=Cp,ah=zp,oh=Xr,on=Gs("%WeakMap%",!0),sn=Gs("%Map%",!0),sh=ar("WeakMap.prototype.get",!0),uh=ar("WeakMap.prototype.set",!0),lh=ar("WeakMap.prototype.has",!0),ch=ar("Map.prototype.get",!0),fh=ar("Map.prototype.set",!0),dh=ar("Map.prototype.has",!0),Wi=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},ph=function(e,t){var r=Wi(e,t);return r&&r.value},hh=function(e,t,r){var n=Wi(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},mh=function(e,t){return!!Wi(e,t)},gh=function(){var t,r,n,a={assert:function(i){if(!a.has(i))throw new oh("Side channel does not contain "+ah(i))},get:function(i){if(on&&i&&(typeof i=="object"||typeof i=="function")){if(t)return sh(t,i)}else if(sn){if(r)return ch(r,i)}else if(n)return ph(n,i)},has:function(i){if(on&&i&&(typeof i=="object"||typeof i=="function")){if(t)return lh(t,i)}else if(sn){if(r)return dh(r,i)}else if(n)return mh(n,i);return!1},set:function(i,o){on&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new on),uh(t,i,o)):sn?(r||(r=new sn),fh(r,i,o)):(n||(n={key:{},next:null}),hh(n,i,o))}};return a},yh=String.prototype.replace,vh=/%20/g,jn={RFC1738:"RFC1738",RFC3986:"RFC3986"},Xi={default:jn.RFC3986,formatters:{RFC1738:function(e){return yh.call(e,vh,"+")},RFC3986:function(e){return String(e)}},RFC1738:jn.RFC1738,RFC3986:jn.RFC3986},bh=Xi,Vn=Object.prototype.hasOwnProperty,Et=Array.isArray,Xe=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),wh=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Et(n)){for(var a=[],i=0;i<n.length;++i)typeof n[i]<"u"&&a.push(n[i]);r.obj[r.prop]=a}}},Hs=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},a=0;a<t.length;++a)typeof t[a]<"u"&&(n[a]=t[a]);return n},Eh=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Et(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Vn.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var a=t;return Et(t)&&!Et(r)&&(a=Hs(t,n)),Et(t)&&Et(r)?(r.forEach(function(i,o){if(Vn.call(t,o)){var s=t[o];s&&typeof s=="object"&&i&&typeof i=="object"?t[o]=e(s,i,n):t.push(i)}else t[o]=i}),t):Object.keys(r).reduce(function(i,o){var s=r[o];return Vn.call(i,o)?i[o]=e(i[o],s,n):i[o]=s,i},a)},Ah=function(t,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},t)},Sh=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Wn=1024,Dh=function(t,r,n,a,i){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var s="",u=0;u<o.length;u+=Wn){for(var l=o.length>=Wn?o.slice(u,u+Wn):o,p=[],m=0;m<l.length;++m){var f=l.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===bh.RFC1738&&(f===40||f===41)){p[p.length]=l.charAt(m);continue}if(f<128){p[p.length]=Xe[f];continue}if(f<2048){p[p.length]=Xe[192|f>>6]+Xe[128|f&63];continue}if(f<55296||f>=57344){p[p.length]=Xe[224|f>>12]+Xe[128|f>>6&63]+Xe[128|f&63];continue}m+=1,f=65536+((f&1023)<<10|l.charCodeAt(m)&1023),p[p.length]=Xe[240|f>>18]+Xe[128|f>>12&63]+Xe[128|f>>6&63]+Xe[128|f&63]}s+=p.join("")}return s},_h=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],a=0;a<r.length;++a)for(var i=r[a],o=i.obj[i.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],p=o[l];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:l}),n.push(p))}return wh(r),t},Th=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Ch=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Oh=function(t,r){return[].concat(t,r)},Ih=function(t,r){if(Et(t)){for(var n=[],a=0;a<t.length;a+=1)n.push(r(t[a]));return n}return r(t)},js={arrayToObject:Hs,assign:Ah,combine:Oh,compact:_h,decode:Sh,encode:Dh,isBuffer:Ch,isRegExp:Th,maybeMap:Ih,merge:Eh},Vs=gh,cn=js,_r=Xi,xh=Object.prototype.hasOwnProperty,Ws={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Ye=Array.isArray,Rh=Array.prototype.push,Xs=function(e,t){Rh.apply(e,Ye(t)?t:[t])},Ph=Date.prototype.toISOString,lo=_r.default,Ee={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:cn.encode,encodeValuesOnly:!1,format:lo,formatter:_r.formatters[lo],indices:!1,serializeDate:function(t){return Ph.call(t)},skipNulls:!1,strictNullHandling:!1},Nh=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Xn={},Bh=function e(t,r,n,a,i,o,s,u,l,p,m,f,h,c,d,y,g,v){for(var E=t,A=v,D=0,T=!1;(A=A.get(Xn))!==void 0&&!T;){var _=A.get(t);if(D+=1,typeof _<"u"){if(_===D)throw new RangeError("Cyclic object value");T=!0}typeof A.get(Xn)>"u"&&(D=0)}if(typeof p=="function"?E=p(r,E):E instanceof Date?E=h(E):n==="comma"&&Ye(E)&&(E=cn.maybeMap(E,function(Q){return Q instanceof Date?h(Q):Q})),E===null){if(o)return l&&!y?l(r,Ee.encoder,g,"key",c):r;E=""}if(Nh(E)||cn.isBuffer(E)){if(l){var P=y?r:l(r,Ee.encoder,g,"key",c);return[d(P)+"="+d(l(E,Ee.encoder,g,"value",c))]}return[d(r)+"="+d(String(E))]}var C=[];if(typeof E>"u")return C;var I;if(n==="comma"&&Ye(E))y&&l&&(E=cn.maybeMap(E,l)),I=[{value:E.length>0?E.join(",")||null:void 0}];else if(Ye(p))I=p;else{var M=Object.keys(E);I=m?M.sort(m):M}var S=u?r.replace(/\./g,"%2E"):r,R=a&&Ye(E)&&E.length===1?S+"[]":S;if(i&&Ye(E)&&E.length===0)return R+"[]";for(var b=0;b<I.length;++b){var k=I[b],$=typeof k=="object"&&typeof k.value<"u"?k.value:E[k];if(!(s&&$===null)){var N=f&&u?k.replace(/\./g,"%2E"):k,X=Ye(E)?typeof n=="function"?n(R,N):R:R+(f?"."+N:"["+N+"]");v.set(t,D);var G=Vs();G.set(Xn,v),Xs(C,e($,X,n,a,i,o,s,u,n==="comma"&&y&&Ye(E)?null:l,p,m,f,h,c,d,y,g,G))}}return C},kh=function(t){if(!t)return Ee;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Ee.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=_r.default;if(typeof t.format<"u"){if(!xh.call(_r.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var a=_r.formatters[n],i=Ee.filter;(typeof t.filter=="function"||Ye(t.filter))&&(i=t.filter);var o;if(t.arrayFormat in Ws?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=Ee.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Ee.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ee.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ee.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ee.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ee.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ee.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ee.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ee.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ee.encodeValuesOnly,filter:i,format:n,formatter:a,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ee.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ee.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ee.strictNullHandling}},Fh=function(e,t){var r=e,n=kh(t),a,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Ye(n.filter)&&(i=n.filter,a=i);var o=[];if(typeof r!="object"||r===null)return"";var s=Ws[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var l=Vs(),p=0;p<a.length;++p){var m=a[p];n.skipNulls&&r[m]===null||Xs(o,Bh(r[m],m,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var f=o.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},rr=js,ci=Object.prototype.hasOwnProperty,Lh=Array.isArray,be={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:rr.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Uh=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Ys=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Mh="utf8=%26%2310003%3B",zh="utf8=%E2%9C%93",$h=function(t,r){var n={__proto__:null},a=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,o=a.split(r.delimiter,i),s=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===zh?l="utf-8":o[u]===Mh&&(l="iso-8859-1"),s=u,u=o.length);for(u=0;u<o.length;++u)if(u!==s){var p=o[u],m=p.indexOf("]="),f=m===-1?p.indexOf("="):m+1,h,c;f===-1?(h=r.decoder(p,be.decoder,l,"key"),c=r.strictNullHandling?null:""):(h=r.decoder(p.slice(0,f),be.decoder,l,"key"),c=rr.maybeMap(Ys(p.slice(f+1),r),function(y){return r.decoder(y,be.decoder,l,"value")})),c&&r.interpretNumericEntities&&l==="iso-8859-1"&&(c=Uh(c)),p.indexOf("[]=")>-1&&(c=Lh(c)?[c]:c);var d=ci.call(n,h);d&&r.duplicates==="combine"?n[h]=rr.combine(n[h],c):(!d||r.duplicates==="last")&&(n[h]=c)}return n},qh=function(e,t,r,n){for(var a=n?t:Ys(t,r),i=e.length-1;i>=0;--i){var o,s=e[i];if(s==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:[].concat(a);else{o=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,p=parseInt(l,10);!r.parseArrays&&l===""?o={0:a}:!isNaN(p)&&s!==l&&String(p)===l&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(o=[],o[p]=a):l!=="__proto__"&&(o[l]=a)}a=o}return a},Gh=function(t,r,n,a){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(i),l=u?i.slice(0,u.index):i,p=[];if(l){if(!n.plainObjects&&ci.call(Object.prototype,l)&&!n.allowPrototypes)return;p.push(l)}for(var m=0;n.depth>0&&(u=s.exec(i))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&ci.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(u[1])}return u&&p.push("["+i.slice(u.index)+"]"),qh(p,r,n,a)}},Hh=function(t){if(!t)return be;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?be.charset:t.charset,n=typeof t.duplicates>"u"?be.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:be.allowDots:!!t.allowDots;return{allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:be.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:be.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:be.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:be.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:be.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:be.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:be.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:be.decoder,delimiter:typeof t.delimiter=="string"||rr.isRegExp(t.delimiter)?t.delimiter:be.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:be.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:be.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:be.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:be.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:be.strictNullHandling}},jh=function(e,t){var r=Hh(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?$h(e,r):e,a=r.plainObjects?Object.create(null):{},i=Object.keys(n),o=0;o<i.length;++o){var s=i[o],u=Gh(s,n[s],r,typeof e=="string");a=rr.merge(a,u,r)}return r.allowSparse===!0?a:rr.compact(a)},Vh=Fh,Wh=jh,Xh=Xi,Yi={formats:Xh,parse:Wh,stringify:Vh};const Yh=fi(),ze=e=>Yh.emit("updateStatus",e),yt=JSON.parse(localStorage.getItem("session")||"{}"),Ut=(e,t)=>{var r=65535,n=+e,a=+t,i=r&n,o=r&a;return 0|i*o+((r&n>>>16)*o+i*(r&a>>>16)<<16>>>0)},Zh=(e,t=0)=>{let r=3735928559^t,n=1103547991^t;for(let a,i=0;i<e.length;i++)a=e.charCodeAt(i),r=Ut(r^a,2654435761),n=Ut(n^a,1597334677);return r=Ut(r^r>>>16,2246822507),r^=Ut(n^n>>>13,3266489909),n=Ut(n^n>>>16,2246822507),n^=Ut(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)},Zs=It.create({timeout:1e3*60*30,responseType:"blob",headers:{Authorization:yt.token}}),rt=It.create({timeout:1e3*60*30,baseURL:"https://apiv3.fansly.com/api/v1",headers:{Authorization:yt.token,"Cache-Control":"no-cache",Pragma:"no-cache"},withCredentials:!0});chrome.storage.onChanged.addListener((e,t)=>{if(t=="local"&&e.session){console.log("Session changed!");const r=e.session.newValue;if(!r)return;localStorage.setItem("session",JSON.stringify(r)),Object.keys(r).forEach(n=>{yt[n]=r[n]}),rt.defaults.headers.Authorization=yt.token,Zs.defaults.headers.Authorization=yt.token}});const co={};rt.interceptors.request.use(e=>{var a;((a=e.method)==null?void 0:a.toUpperCase())=="GET"&&(e.params={...e.params,"ngsw-bypass":!0});const t=new URL(e.baseURL+e.url).pathname,r="Qindoj-mitci1-fevtev_"+t+"_"+yt.deviceId,n=co[t]||Zh(r).toString(16);return co[t]=n,e.headers=new Cu({...e.headers,"fansly-client-id":yt.deviceId,"fansly-client-ts":Date.now().toString(),"fansly-session-id":yt.id,"fansly-client-check":n}),e});rt.interceptors.response.use(e=>{if(e.status===200)return e.data});nr(rt);nr(Zs);async function im(){const t=(await rt.get("/subscriptions")).response.subscriptions,r=t.map(i=>i.accountId);if(r.length===0)return[];const n=await Kh(r);t.map(i=>{i.accountId,i.subscriptionTierName});const a=[];for(const i of t){const o=n.response.find(u=>u.id==i.accountId);if(!o)continue;const s={with:o.avatar.width,height:o.avatar.height,url:""};for(const u of o.avatar.variants)if(u.type==1&&u.width*u.height<s.with*s.height){if(!u.locations||u.locations.length==0)continue;s.with=u.width,s.height=u.height,s.url=u.locations[0].location}a.push({id:o.id,username:o.username,displayName:o.displayName,avatarUrl:s.url,renewDate:i.renewDate,subscriptionTierName:i.subscriptionTierName})}return a}function Kh(e){return rt.get("/account",{params:{ids:e.join(",")}})}const Zi=e=>{switch(e.split("/")[0]){case"image":return"Photo";case"video":return"Video";case"application":return"HLS";case"audio":return"Audio";default:return"Unknown"}},Ki=(e,t=3)=>{const r=e.variants;let n=null,a=0,i=0;e.locations&&e.locations.length>0&&(n=e,a=e.width,i=e.height);for(const o of r)o.type!=t&&(!o.locations||o.locations.length==0||o.width*o.height>a*i&&(n=o));return n};async function Yn(e,t){var u,l;const{mediaType:r,dateTimeRange:n}=t,a=Ou().value;let i;(!a||!a.isPro)&&(r==1&&(i=10),r==2&&(i=2));let o=!0;const s={locationId:e,locationType:1001,accountId:e,mediaType:r||"",before:"",after:"0",limit:100,offset:0};for(;o;){o=!1;const p=await rt.get("/mediaoffers/location",{params:s});if(p.response.data.length==0)return;const m=new Set,f=p.response.aggregationData.accountMedia,h=p.response.data,c=h.map(D=>D.mediaId),d=p.response.aggregationData.posts,y=f.filter(D=>c.includes(D.mediaId)),g=new Map;h.forEach(D=>g.set(D.mediaId,D.correlationId));const{username:v}=p.response.aggregationData.accounts[0];for(const D of y){if(n?n[0]<D.createdAt&&D.createdAt<n[1]:!0){const{media:_,preview:P,access:C,mediaId:I}=D;if(!C&&!P)continue;const S=Ki(C?_:P);if(!S)continue;const R=Zi(S.mimetype),b=D.createdAt;if(S.locations&&S.locations.length>0){let{width:k,height:$}=S,{location:N,metadata:X}=S.locations[0];const G=X?`${N}?${Yi.stringify(X)}`:N,Q=g.get(I),U=d.find(F=>F.id==Q);m.add({url:G,postInfo:{id:Q||"",username:v,content:(U==null?void 0:U.content)||"",createdAt:(U==null?void 0:U.createdAt)||0,likeCount:(U==null?void 0:U.likeCount)||0,mediaLikeCount:(U==null?void 0:U.mediaLikeCount)||0},username:v,type:R,createdAt:b,width:k,height:$})}else console.log(S)}if(i&&m.size==i){ze(`Scraped ${m.size} accessible files.`),await vn([...m],t),t.isZipPackage&&await qt.download();return}}const E=(u=y.at(-1))==null?void 0:u.createdAt,A=(l=h.at(-1))==null?void 0:l.id;A&&E&&(s.before=A,o=n?n[0]<E:!0,m.size==0?(ze(`Timeline nodes positioned to ${new Date(E.toString().length==10?E*1e3:E).toLocaleString()}`),await Ks(1e3)):ze(`Scraped ${m.size} accessible files.`)),await vn([...m],t)}t.isZipPackage&&await qt.download()}async function fo(e,t){var u,l;const r=t.dateTimeRange,n={sortOrder:1,flags:0,subscriptionTierId:"",search:"",limit:25,offset:"0"};let a=!0,i="",o="";for(;a;){a=!1;const p=await rt.get("/messaging/groups",{params:n}),m=p.response.data.find(f=>f.partnerAccountId==e);if(m)i=m.groupId,o=m.partnerUsername;else{const f=p.response.data;if(f.length==0)return ze("No Message Group."),[];n.offset=f.at(-1).groupId,a=!0}}a=!0;const s={groupId:i,limit:25,before:""};for(;a;){a=!1;const p=new Set,m=await rt.get("/message",{params:s});if(m.response.messages.length>0){const h=m.response.messages,c=m.response.accountMedia,d=m.response.accountMediaBundles,y=h.filter(A=>r?r[0]<A.createdAt&&A.createdAt<r[1]:!0),g=h.map(A=>A.attachments.map(D=>D.contentId)).flat();d.forEach(A=>{g.includes(A.id)&&(A.accountMediaIds.forEach(D=>g.push(D)),g.splice(g.indexOf(A.id),1))});for(const A of g){const D=c.find(X=>X.id==A);if(!D)continue;const{media:T,preview:_,access:P}=D;if(!P&&!_)continue;let C;C=P?T:_;const I=Ki(C);if(!I)continue;const M=Zi(I.mimetype),S=D.createdAt;let{width:R,height:b}=I,{location:k,metadata:$}=I.locations[0];const N=$?`${k}?${Yi.stringify($)}`:k;p.add({url:N,username:o,type:M,createdAt:S,width:R,height:b})}const v=(u=y.at(-1))==null?void 0:u.createdAt,E=(l=h.at(-1))==null?void 0:l.id;E&&v&&(s.before=E,a=r?r[0]<v:!0,p.size==0?(ze(`Timeline nodes positioned to ${new Date(v.toString().length==10?v*1e3:v).toLocaleString()}`),await Ks(1e3)):ze(`Scraped ${p.size} accessible files.`))}await vn([...p],t)}t.isZipPackage&&await qt.download()}var Jh=(e=>(e[e.Photos=1]="Photos",e[e.Videos=2]="Videos",e[e.Messages=-1]="Messages",e[e.All=0]="All",e))(Jh||{});async function am(e,t){switch(t.mediaType){case 1:ze("Scraping Photos..."),await Yn(e,t);break;case 2:ze("Scraping Videos..."),await Yn(e,t);break;case-1:ze("Scraping Messages..."),await fo(e,t);break;case 0:ze("Scraping Media..."),await Yn(e,t),ze("Scraping Messages..."),await fo(e,t);break}ze("Download Completed...")}function Qh(e){return rt.get("/post",{params:{ids:e.join(",")}})}async function om(e){const t=await Qh([e]),r=[],n=t.response.posts,a=t.response.accounts,i=t.response.accountMedia,o=t.response.accountMediaBundles;for(const u of n){const l=u.attachments;for(const p of l){let m=o.filter(f=>f.id==p.contentId).map(f=>f.accountMediaIds).flat();m=m.concat(i.filter(f=>f.id==p.contentId).map(f=>f.id));for(const f of m){const h=i.find(M=>M.id==f);if(!h)continue;const{media:c,preview:d,access:y}=h;if(!y&&!d)continue;let g;g=y?c:d;const v=a.find(M=>M.id==h.accountId),E=Ki(g);if(!E)continue;const A=Zi(E.mimetype),D=h.createdAt;let{width:T,height:_}=E,{location:P,metadata:C}=E.locations[0];const I=C?`${P}?${Yi.stringify(C)}`:P;r.push({url:I,username:(v==null?void 0:v.username)||"fansly",type:A,createdAt:D,width:T,height:_})}}}const s=[...new Set(r)];await vn(s,{mediaType:0,isZipPackage:!1,isCollectPostInfo:!1})}function Ks(e){return new Promise(t=>setTimeout(t,e))}export{nm as E,Jh as M,Di as T,$o as a,om as b,am as d,im as g,qo as u};
